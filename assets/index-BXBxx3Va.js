function Qp(o,n){for(var s=0;s<n.length;s++){const l=n[s];if(typeof l!="string"&&!Array.isArray(l)){for(const a in l)if(a!=="default"&&!(a in o)){const u=Object.getOwnPropertyDescriptor(l,a);u&&Object.defineProperty(o,a,u.get?u:{enumerable:!0,get:()=>l[a]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function s(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(a){if(a.ep)return;a.ep=!0;const u=s(a);fetch(a.href,u)}})();function vf(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function Yp(o){if(o.__esModule)return o;var n=o.default;if(typeof n=="function"){var s=function l(){return this instanceof l?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(o).forEach(function(l){var a=Object.getOwnPropertyDescriptor(o,l);Object.defineProperty(s,l,a.get?a:{enumerable:!0,get:function(){return o[l]}})}),s}var Yl={exports:{}},ps={},Xl={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jd;function Xp(){if(jd)return ue;jd=1;var o=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function k(S){return S===null||typeof S!="object"?null:(S=x&&S[x]||S["@@iterator"],typeof S=="function"?S:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,R={};function P(S,A,oe){this.props=S,this.context=A,this.refs=R,this.updater=oe||T}P.prototype.isReactComponent={},P.prototype.setState=function(S,A){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,A,"setState")},P.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function D(){}D.prototype=P.prototype;function Z(S,A,oe){this.props=S,this.context=A,this.refs=R,this.updater=oe||T}var B=Z.prototype=new D;B.constructor=Z,O(B,P.prototype),B.isPureReactComponent=!0;var J=Array.isArray,X=Object.prototype.hasOwnProperty,ye={current:null},le={key:!0,ref:!0,__self:!0,__source:!0};function fe(S,A,oe){var ce,me={},ge=null,ke=null;if(A!=null)for(ce in A.ref!==void 0&&(ke=A.ref),A.key!==void 0&&(ge=""+A.key),A)X.call(A,ce)&&!le.hasOwnProperty(ce)&&(me[ce]=A[ce]);var we=arguments.length-2;if(we===1)me.children=oe;else if(1<we){for(var Te=Array(we),at=0;at<we;at++)Te[at]=arguments[at+2];me.children=Te}if(S&&S.defaultProps)for(ce in we=S.defaultProps,we)me[ce]===void 0&&(me[ce]=we[ce]);return{$$typeof:o,type:S,key:ge,ref:ke,props:me,_owner:ye.current}}function _e(S,A){return{$$typeof:o,type:S.type,key:A,ref:S.ref,props:S.props,_owner:S._owner}}function Ne(S){return typeof S=="object"&&S!==null&&S.$$typeof===o}function M(S){var A={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(oe){return A[oe]})}var re=/\/+/g;function Ee(S,A){return typeof S=="object"&&S!==null&&S.key!=null?M(""+S.key):A.toString(36)}function U(S,A,oe,ce,me){var ge=typeof S;(ge==="undefined"||ge==="boolean")&&(S=null);var ke=!1;if(S===null)ke=!0;else switch(ge){case"string":case"number":ke=!0;break;case"object":switch(S.$$typeof){case o:case n:ke=!0}}if(ke)return ke=S,me=me(ke),S=ce===""?"."+Ee(ke,0):ce,J(me)?(oe="",S!=null&&(oe=S.replace(re,"$&/")+"/"),U(me,A,oe,"",function(at){return at})):me!=null&&(Ne(me)&&(me=_e(me,oe+(!me.key||ke&&ke.key===me.key?"":(""+me.key).replace(re,"$&/")+"/")+S)),A.push(me)),1;if(ke=0,ce=ce===""?".":ce+":",J(S))for(var we=0;we<S.length;we++){ge=S[we];var Te=ce+Ee(ge,we);ke+=U(ge,A,oe,Te,me)}else if(Te=k(S),typeof Te=="function")for(S=Te.call(S),we=0;!(ge=S.next()).done;)ge=ge.value,Te=ce+Ee(ge,we++),ke+=U(ge,A,oe,Te,me);else if(ge==="object")throw A=String(S),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.");return ke}function Y(S,A,oe){if(S==null)return S;var ce=[],me=0;return U(S,ce,"","",function(ge){return A.call(oe,ge,me++)}),ce}function he(S){if(S._status===-1){var A=S._result;A=A(),A.then(function(oe){(S._status===0||S._status===-1)&&(S._status=1,S._result=oe)},function(oe){(S._status===0||S._status===-1)&&(S._status=2,S._result=oe)}),S._status===-1&&(S._status=0,S._result=A)}if(S._status===1)return S._result.default;throw S._result}var ae={current:null},z={transition:null},ne={ReactCurrentDispatcher:ae,ReactCurrentBatchConfig:z,ReactCurrentOwner:ye};function q(){throw Error("act(...) is not supported in production builds of React.")}return ue.Children={map:Y,forEach:function(S,A,oe){Y(S,function(){A.apply(this,arguments)},oe)},count:function(S){var A=0;return Y(S,function(){A++}),A},toArray:function(S){return Y(S,function(A){return A})||[]},only:function(S){if(!Ne(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},ue.Component=P,ue.Fragment=s,ue.Profiler=a,ue.PureComponent=Z,ue.StrictMode=l,ue.Suspense=m,ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,ue.act=q,ue.cloneElement=function(S,A,oe){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var ce=O({},S.props),me=S.key,ge=S.ref,ke=S._owner;if(A!=null){if(A.ref!==void 0&&(ge=A.ref,ke=ye.current),A.key!==void 0&&(me=""+A.key),S.type&&S.type.defaultProps)var we=S.type.defaultProps;for(Te in A)X.call(A,Te)&&!le.hasOwnProperty(Te)&&(ce[Te]=A[Te]===void 0&&we!==void 0?we[Te]:A[Te])}var Te=arguments.length-2;if(Te===1)ce.children=oe;else if(1<Te){we=Array(Te);for(var at=0;at<Te;at++)we[at]=arguments[at+2];ce.children=we}return{$$typeof:o,type:S.type,key:me,ref:ge,props:ce,_owner:ke}},ue.createContext=function(S){return S={$$typeof:f,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:u,_context:S},S.Consumer=S},ue.createElement=fe,ue.createFactory=function(S){var A=fe.bind(null,S);return A.type=S,A},ue.createRef=function(){return{current:null}},ue.forwardRef=function(S){return{$$typeof:p,render:S}},ue.isValidElement=Ne,ue.lazy=function(S){return{$$typeof:y,_payload:{_status:-1,_result:S},_init:he}},ue.memo=function(S,A){return{$$typeof:v,type:S,compare:A===void 0?null:A}},ue.startTransition=function(S){var A=z.transition;z.transition={};try{S()}finally{z.transition=A}},ue.unstable_act=q,ue.useCallback=function(S,A){return ae.current.useCallback(S,A)},ue.useContext=function(S){return ae.current.useContext(S)},ue.useDebugValue=function(){},ue.useDeferredValue=function(S){return ae.current.useDeferredValue(S)},ue.useEffect=function(S,A){return ae.current.useEffect(S,A)},ue.useId=function(){return ae.current.useId()},ue.useImperativeHandle=function(S,A,oe){return ae.current.useImperativeHandle(S,A,oe)},ue.useInsertionEffect=function(S,A){return ae.current.useInsertionEffect(S,A)},ue.useLayoutEffect=function(S,A){return ae.current.useLayoutEffect(S,A)},ue.useMemo=function(S,A){return ae.current.useMemo(S,A)},ue.useReducer=function(S,A,oe){return ae.current.useReducer(S,A,oe)},ue.useRef=function(S){return ae.current.useRef(S)},ue.useState=function(S){return ae.current.useState(S)},ue.useSyncExternalStore=function(S,A,oe){return ae.current.useSyncExternalStore(S,A,oe)},ue.useTransition=function(){return ae.current.useTransition()},ue.version="18.3.1",ue}var Nd;function _a(){return Nd||(Nd=1,Xl.exports=Xp()),Xl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cd;function Zp(){if(Cd)return ps;Cd=1;var o=_a(),n=Symbol.for("react.element"),s=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,a=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function f(p,m,v){var y,x={},k=null,T=null;v!==void 0&&(k=""+v),m.key!==void 0&&(k=""+m.key),m.ref!==void 0&&(T=m.ref);for(y in m)l.call(m,y)&&!u.hasOwnProperty(y)&&(x[y]=m[y]);if(p&&p.defaultProps)for(y in m=p.defaultProps,m)x[y]===void 0&&(x[y]=m[y]);return{$$typeof:n,type:p,key:k,ref:T,props:x,_owner:a.current}}return ps.Fragment=s,ps.jsx=f,ps.jsxs=f,ps}var bd;function em(){return bd||(bd=1,Yl.exports=Zp()),Yl.exports}var h=em(),j=_a();const Vi=vf(j),tm=Qp({__proto__:null,default:Vi},[j]);var Di={},Zl={exports:{}},ot={},ea={exports:{}},ta={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Td;function rm(){return Td||(Td=1,function(o){function n(z,ne){var q=z.length;z.push(ne);e:for(;0<q;){var S=q-1>>>1,A=z[S];if(0<a(A,ne))z[S]=ne,z[q]=A,q=S;else break e}}function s(z){return z.length===0?null:z[0]}function l(z){if(z.length===0)return null;var ne=z[0],q=z.pop();if(q!==ne){z[0]=q;e:for(var S=0,A=z.length,oe=A>>>1;S<oe;){var ce=2*(S+1)-1,me=z[ce],ge=ce+1,ke=z[ge];if(0>a(me,q))ge<A&&0>a(ke,me)?(z[S]=ke,z[ge]=q,S=ge):(z[S]=me,z[ce]=q,S=ce);else if(ge<A&&0>a(ke,q))z[S]=ke,z[ge]=q,S=ge;else break e}}return ne}function a(z,ne){var q=z.sortIndex-ne.sortIndex;return q!==0?q:z.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;o.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();o.unstable_now=function(){return f.now()-p}}var m=[],v=[],y=1,x=null,k=3,T=!1,O=!1,R=!1,P=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(z){for(var ne=s(v);ne!==null;){if(ne.callback===null)l(v);else if(ne.startTime<=z)l(v),ne.sortIndex=ne.expirationTime,n(m,ne);else break;ne=s(v)}}function J(z){if(R=!1,B(z),!O)if(s(m)!==null)O=!0,he(X);else{var ne=s(v);ne!==null&&ae(J,ne.startTime-z)}}function X(z,ne){O=!1,R&&(R=!1,D(fe),fe=-1),T=!0;var q=k;try{for(B(ne),x=s(m);x!==null&&(!(x.expirationTime>ne)||z&&!M());){var S=x.callback;if(typeof S=="function"){x.callback=null,k=x.priorityLevel;var A=S(x.expirationTime<=ne);ne=o.unstable_now(),typeof A=="function"?x.callback=A:x===s(m)&&l(m),B(ne)}else l(m);x=s(m)}if(x!==null)var oe=!0;else{var ce=s(v);ce!==null&&ae(J,ce.startTime-ne),oe=!1}return oe}finally{x=null,k=q,T=!1}}var ye=!1,le=null,fe=-1,_e=5,Ne=-1;function M(){return!(o.unstable_now()-Ne<_e)}function re(){if(le!==null){var z=o.unstable_now();Ne=z;var ne=!0;try{ne=le(!0,z)}finally{ne?Ee():(ye=!1,le=null)}}else ye=!1}var Ee;if(typeof Z=="function")Ee=function(){Z(re)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,Y=U.port2;U.port1.onmessage=re,Ee=function(){Y.postMessage(null)}}else Ee=function(){P(re,0)};function he(z){le=z,ye||(ye=!0,Ee())}function ae(z,ne){fe=P(function(){z(o.unstable_now())},ne)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(z){z.callback=null},o.unstable_continueExecution=function(){O||T||(O=!0,he(X))},o.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_e=0<z?Math.floor(1e3/z):5},o.unstable_getCurrentPriorityLevel=function(){return k},o.unstable_getFirstCallbackNode=function(){return s(m)},o.unstable_next=function(z){switch(k){case 1:case 2:case 3:var ne=3;break;default:ne=k}var q=k;k=ne;try{return z()}finally{k=q}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(z,ne){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var q=k;k=z;try{return ne()}finally{k=q}},o.unstable_scheduleCallback=function(z,ne,q){var S=o.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?S+q:S):q=S,z){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=q+A,z={id:y++,callback:ne,priorityLevel:z,startTime:q,expirationTime:A,sortIndex:-1},q>S?(z.sortIndex=q,n(v,z),s(m)===null&&z===s(v)&&(R?(D(fe),fe=-1):R=!0,ae(J,q-S))):(z.sortIndex=A,n(m,z),O||T||(O=!0,he(X))),z},o.unstable_shouldYield=M,o.unstable_wrapCallback=function(z){var ne=k;return function(){var q=k;k=ne;try{return z.apply(this,arguments)}finally{k=q}}}}(ta)),ta}var Pd;function nm(){return Pd||(Pd=1,ea.exports=rm()),ea.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rd;function sm(){if(Rd)return ot;Rd=1;var o=_a(),n=nm();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,a={};function u(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(a[e]=t,e=0;e<t.length;e++)l.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},x={};function k(e){return m.call(x,e)?!0:m.call(y,e)?!1:v.test(e)?x[e]=!0:(y[e]=!0,!1)}function T(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O(e,t,r,i){if(t===null||typeof t>"u"||T(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function R(e,t,r,i,c,d,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=c,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=g}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){P[e]=new R(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];P[t]=new R(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){P[e]=new R(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){P[e]=new R(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){P[e]=new R(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){P[e]=new R(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){P[e]=new R(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){P[e]=new R(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){P[e]=new R(e,5,!1,e.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function Z(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(D,Z);P[t]=new R(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(D,Z);P[t]=new R(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(D,Z);P[t]=new R(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){P[e]=new R(e,1,!1,e.toLowerCase(),null,!1,!1)}),P.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){P[e]=new R(e,1,!1,e.toLowerCase(),null,!0,!0)});function B(e,t,r,i){var c=P.hasOwnProperty(t)?P[t]:null;(c!==null?c.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(O(t,r,c,i)&&(r=null),i||c===null?k(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):c.mustUseProperty?e[c.propertyName]=r===null?c.type===3?!1:"":r:(t=c.attributeName,i=c.attributeNamespace,r===null?e.removeAttribute(t):(c=c.type,r=c===3||c===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var J=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),ye=Symbol.for("react.portal"),le=Symbol.for("react.fragment"),fe=Symbol.for("react.strict_mode"),_e=Symbol.for("react.profiler"),Ne=Symbol.for("react.provider"),M=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),z=Symbol.iterator;function ne(e){return e===null||typeof e!="object"?null:(e=z&&e[z]||e["@@iterator"],typeof e=="function"?e:null)}var q=Object.assign,S;function A(e){if(S===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);S=t&&t[1]||""}return`
`+S+e}var oe=!1;function ce(e,t){if(!e||oe)return"";oe=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(b){var i=b}Reflect.construct(e,[],t)}else{try{t.call()}catch(b){i=b}e.call(t.prototype)}else{try{throw Error()}catch(b){i=b}e()}}catch(b){if(b&&i&&typeof b.stack=="string"){for(var c=b.stack.split(`
`),d=i.stack.split(`
`),g=c.length-1,w=d.length-1;1<=g&&0<=w&&c[g]!==d[w];)w--;for(;1<=g&&0<=w;g--,w--)if(c[g]!==d[w]){if(g!==1||w!==1)do if(g--,w--,0>w||c[g]!==d[w]){var _=`
`+c[g].replace(" at new "," at ");return e.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",e.displayName)),_}while(1<=g&&0<=w);break}}}finally{oe=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?A(e):""}function me(e){switch(e.tag){case 5:return A(e.type);case 16:return A("Lazy");case 13:return A("Suspense");case 19:return A("SuspenseList");case 0:case 2:case 15:return e=ce(e.type,!1),e;case 11:return e=ce(e.type.render,!1),e;case 1:return e=ce(e.type,!0),e;default:return""}}function ge(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case le:return"Fragment";case ye:return"Portal";case _e:return"Profiler";case fe:return"StrictMode";case Ee:return"Suspense";case U:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case M:return(e.displayName||"Context")+".Consumer";case Ne:return(e._context.displayName||"Context")+".Provider";case re:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return t=e.displayName||null,t!==null?t:ge(e.type)||"Memo";case he:t=e._payload,e=e._init;try{return ge(e(t))}catch{}}return null}function ke(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(t);case 8:return t===fe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function we(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Te(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function at(e){var t=Te(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,d=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(g){i=""+g,d.call(this,g)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(g){i=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bs(e){e._valueTracker||(e._valueTracker=at(e))}function Ra(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=Te(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function Ts(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function no(e,t){var r=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Oa(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=we(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function La(e,t){t=t.checked,t!=null&&B(e,"checked",t,!1)}function so(e,t){La(e,t);var r=we(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?io(e,t.type,r):t.hasOwnProperty("defaultValue")&&io(e,t.type,we(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Aa(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function io(e,t,r){(t!=="number"||Ts(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Tn=Array.isArray;function zr(e,t,r,i){if(e=e.options,t){t={};for(var c=0;c<r.length;c++)t["$"+r[c]]=!0;for(r=0;r<e.length;r++)c=t.hasOwnProperty("$"+e[r].value),e[r].selected!==c&&(e[r].selected=c),c&&i&&(e[r].defaultSelected=!0)}else{for(r=""+we(r),t=null,c=0;c<e.length;c++){if(e[c].value===r){e[c].selected=!0,i&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function oo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ia(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(s(92));if(Tn(r)){if(1<r.length)throw Error(s(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:we(r)}}function $a(e,t){var r=we(t.value),i=we(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function Ua(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Da(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Da(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ps,Fa=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,c){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,c)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ps=Ps||document.createElement("div"),Ps.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ps.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Pn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Rn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eh=["Webkit","ms","Moz","O"];Object.keys(Rn).forEach(function(e){eh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rn[t]=Rn[e]})});function Ma(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Rn.hasOwnProperty(e)&&Rn[e]?(""+t).trim():t+"px"}function za(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,c=Ma(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,c):e[r]=c}}var th=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ao(e,t){if(t){if(th[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function uo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var co=null;function fo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ho=null,Br=null,Hr=null;function Ba(e){if(e=Zn(e)){if(typeof ho!="function")throw Error(s(280));var t=e.stateNode;t&&(t=Zs(t),ho(e.stateNode,e.type,t))}}function Ha(e){Br?Hr?Hr.push(e):Hr=[e]:Br=e}function qa(){if(Br){var e=Br,t=Hr;if(Hr=Br=null,Ba(e),t)for(e=0;e<t.length;e++)Ba(t[e])}}function Wa(e,t){return e(t)}function Va(){}var po=!1;function Ka(e,t,r){if(po)return e(t,r);po=!0;try{return Wa(e,t,r)}finally{po=!1,(Br!==null||Hr!==null)&&(Va(),qa())}}function On(e,t){var r=e.stateNode;if(r===null)return null;var i=Zs(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,t,typeof r));return r}var mo=!1;if(p)try{var Ln={};Object.defineProperty(Ln,"passive",{get:function(){mo=!0}}),window.addEventListener("test",Ln,Ln),window.removeEventListener("test",Ln,Ln)}catch{mo=!1}function rh(e,t,r,i,c,d,g,w,_){var b=Array.prototype.slice.call(arguments,3);try{t.apply(r,b)}catch(I){this.onError(I)}}var An=!1,Rs=null,Os=!1,go=null,nh={onError:function(e){An=!0,Rs=e}};function sh(e,t,r,i,c,d,g,w,_){An=!1,Rs=null,rh.apply(nh,arguments)}function ih(e,t,r,i,c,d,g,w,_){if(sh.apply(this,arguments),An){if(An){var b=Rs;An=!1,Rs=null}else throw Error(s(198));Os||(Os=!0,go=b)}}function _r(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ga(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ja(e){if(_r(e)!==e)throw Error(s(188))}function oh(e){var t=e.alternate;if(!t){if(t=_r(e),t===null)throw Error(s(188));return t!==e?null:e}for(var r=e,i=t;;){var c=r.return;if(c===null)break;var d=c.alternate;if(d===null){if(i=c.return,i!==null){r=i;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===r)return Ja(c),e;if(d===i)return Ja(c),t;d=d.sibling}throw Error(s(188))}if(r.return!==i.return)r=c,i=d;else{for(var g=!1,w=c.child;w;){if(w===r){g=!0,r=c,i=d;break}if(w===i){g=!0,i=c,r=d;break}w=w.sibling}if(!g){for(w=d.child;w;){if(w===r){g=!0,r=d,i=c;break}if(w===i){g=!0,i=d,r=c;break}w=w.sibling}if(!g)throw Error(s(189))}}if(r.alternate!==i)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:t}function Qa(e){return e=oh(e),e!==null?Ya(e):null}function Ya(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ya(e);if(t!==null)return t;e=e.sibling}return null}var Xa=n.unstable_scheduleCallback,Za=n.unstable_cancelCallback,lh=n.unstable_shouldYield,ah=n.unstable_requestPaint,Ie=n.unstable_now,uh=n.unstable_getCurrentPriorityLevel,vo=n.unstable_ImmediatePriority,eu=n.unstable_UserBlockingPriority,Ls=n.unstable_NormalPriority,ch=n.unstable_LowPriority,tu=n.unstable_IdlePriority,As=null,bt=null;function dh(e){if(bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(As,e,void 0,(e.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:ph,fh=Math.log,hh=Math.LN2;function ph(e){return e>>>=0,e===0?32:31-(fh(e)/hh|0)|0}var Is=64,$s=4194304;function In(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Us(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,c=e.suspendedLanes,d=e.pingedLanes,g=r&268435455;if(g!==0){var w=g&~c;w!==0?i=In(w):(d&=g,d!==0&&(i=In(d)))}else g=r&~c,g!==0?i=In(g):d!==0&&(i=In(d));if(i===0)return 0;if(t!==0&&t!==i&&(t&c)===0&&(c=i&-i,d=t&-t,c>=d||c===16&&(d&4194240)!==0))return t;if((i&4)!==0&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-xt(t),c=1<<r,i|=e[r],t&=~c;return i}function mh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gh(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes;0<d;){var g=31-xt(d),w=1<<g,_=c[g];_===-1?((w&r)===0||(w&i)!==0)&&(c[g]=mh(w,t)):_<=t&&(e.expiredLanes|=w),d&=~w}}function yo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ru(){var e=Is;return Is<<=1,(Is&4194240)===0&&(Is=64),e}function wo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function $n(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xt(t),e[t]=r}function vh(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var c=31-xt(r),d=1<<c;t[c]=0,i[c]=-1,e[c]=-1,r&=~d}}function xo(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-xt(r),c=1<<i;c&t|e[i]&t&&(e[i]|=t),r&=~c}}var xe=0;function nu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var su,_o,iu,ou,lu,Eo=!1,Ds=[],Kt=null,Gt=null,Jt=null,Un=new Map,Dn=new Map,Qt=[],yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function au(e,t){switch(e){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":Gt=null;break;case"mouseover":case"mouseout":Jt=null;break;case"pointerover":case"pointerout":Un.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dn.delete(t.pointerId)}}function Fn(e,t,r,i,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:d,targetContainers:[c]},t!==null&&(t=Zn(t),t!==null&&_o(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function wh(e,t,r,i,c){switch(t){case"focusin":return Kt=Fn(Kt,e,t,r,i,c),!0;case"dragenter":return Gt=Fn(Gt,e,t,r,i,c),!0;case"mouseover":return Jt=Fn(Jt,e,t,r,i,c),!0;case"pointerover":var d=c.pointerId;return Un.set(d,Fn(Un.get(d)||null,e,t,r,i,c)),!0;case"gotpointercapture":return d=c.pointerId,Dn.set(d,Fn(Dn.get(d)||null,e,t,r,i,c)),!0}return!1}function uu(e){var t=Er(e.target);if(t!==null){var r=_r(t);if(r!==null){if(t=r.tag,t===13){if(t=Ga(r),t!==null){e.blockedOn=t,lu(e.priority,function(){iu(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=So(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);co=i,r.target.dispatchEvent(i),co=null}else return t=Zn(r),t!==null&&_o(t),e.blockedOn=r,!1;t.shift()}return!0}function cu(e,t,r){Fs(e)&&r.delete(t)}function xh(){Eo=!1,Kt!==null&&Fs(Kt)&&(Kt=null),Gt!==null&&Fs(Gt)&&(Gt=null),Jt!==null&&Fs(Jt)&&(Jt=null),Un.forEach(cu),Dn.forEach(cu)}function Mn(e,t){e.blockedOn===t&&(e.blockedOn=null,Eo||(Eo=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,xh)))}function zn(e){function t(c){return Mn(c,e)}if(0<Ds.length){Mn(Ds[0],e);for(var r=1;r<Ds.length;r++){var i=Ds[r];i.blockedOn===e&&(i.blockedOn=null)}}for(Kt!==null&&Mn(Kt,e),Gt!==null&&Mn(Gt,e),Jt!==null&&Mn(Jt,e),Un.forEach(t),Dn.forEach(t),r=0;r<Qt.length;r++)i=Qt[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<Qt.length&&(r=Qt[0],r.blockedOn===null);)uu(r),r.blockedOn===null&&Qt.shift()}var qr=J.ReactCurrentBatchConfig,Ms=!0;function _h(e,t,r,i){var c=xe,d=qr.transition;qr.transition=null;try{xe=1,ko(e,t,r,i)}finally{xe=c,qr.transition=d}}function Eh(e,t,r,i){var c=xe,d=qr.transition;qr.transition=null;try{xe=4,ko(e,t,r,i)}finally{xe=c,qr.transition=d}}function ko(e,t,r,i){if(Ms){var c=So(e,t,r,i);if(c===null)zo(e,t,i,zs,r),au(e,i);else if(wh(c,e,t,r,i))i.stopPropagation();else if(au(e,i),t&4&&-1<yh.indexOf(e)){for(;c!==null;){var d=Zn(c);if(d!==null&&su(d),d=So(e,t,r,i),d===null&&zo(e,t,i,zs,r),d===c)break;c=d}c!==null&&i.stopPropagation()}else zo(e,t,i,null,r)}}var zs=null;function So(e,t,r,i){if(zs=null,e=fo(i),e=Er(e),e!==null)if(t=_r(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ga(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zs=e,null}function du(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uh()){case vo:return 1;case eu:return 4;case Ls:case ch:return 16;case tu:return 536870912;default:return 16}default:return 16}}var Yt=null,jo=null,Bs=null;function fu(){if(Bs)return Bs;var e,t=jo,r=t.length,i,c="value"in Yt?Yt.value:Yt.textContent,d=c.length;for(e=0;e<r&&t[e]===c[e];e++);var g=r-e;for(i=1;i<=g&&t[r-i]===c[d-i];i++);return Bs=c.slice(e,1<i?1-i:void 0)}function Hs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qs(){return!0}function hu(){return!1}function ut(e){function t(r,i,c,d,g){this._reactName=r,this._targetInst=c,this.type=i,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(r=e[w],this[w]=r?r(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?qs:hu,this.isPropagationStopped=hu,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=qs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=qs)},persist:function(){},isPersistent:qs}),t}var Wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},No=ut(Wr),Bn=q({},Wr,{view:0,detail:0}),kh=ut(Bn),Co,bo,Hn,Ws=q({},Bn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Po,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hn&&(Hn&&e.type==="mousemove"?(Co=e.screenX-Hn.screenX,bo=e.screenY-Hn.screenY):bo=Co=0,Hn=e),Co)},movementY:function(e){return"movementY"in e?e.movementY:bo}}),pu=ut(Ws),Sh=q({},Ws,{dataTransfer:0}),jh=ut(Sh),Nh=q({},Bn,{relatedTarget:0}),To=ut(Nh),Ch=q({},Wr,{animationName:0,elapsedTime:0,pseudoElement:0}),bh=ut(Ch),Th=q({},Wr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ph=ut(Th),Rh=q({},Wr,{data:0}),mu=ut(Rh),Oh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ah={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ih(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ah[e])?!!t[e]:!1}function Po(){return Ih}var $h=q({},Bn,{key:function(e){if(e.key){var t=Oh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Lh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Po,charCode:function(e){return e.type==="keypress"?Hs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Uh=ut($h),Dh=q({},Ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gu=ut(Dh),Fh=q({},Bn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Po}),Mh=ut(Fh),zh=q({},Wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bh=ut(zh),Hh=q({},Ws,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qh=ut(Hh),Wh=[9,13,27,32],Ro=p&&"CompositionEvent"in window,qn=null;p&&"documentMode"in document&&(qn=document.documentMode);var Vh=p&&"TextEvent"in window&&!qn,vu=p&&(!Ro||qn&&8<qn&&11>=qn),yu=" ",wu=!1;function xu(e,t){switch(e){case"keyup":return Wh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _u(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vr=!1;function Kh(e,t){switch(e){case"compositionend":return _u(t);case"keypress":return t.which!==32?null:(wu=!0,yu);case"textInput":return e=t.data,e===yu&&wu?null:e;default:return null}}function Gh(e,t){if(Vr)return e==="compositionend"||!Ro&&xu(e,t)?(e=fu(),Bs=jo=Yt=null,Vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vu&&t.locale!=="ko"?null:t.data;default:return null}}var Jh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Jh[e.type]:t==="textarea"}function ku(e,t,r,i){Ha(i),t=Qs(t,"onChange"),0<t.length&&(r=new No("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var Wn=null,Vn=null;function Qh(e){zu(e,0)}function Vs(e){var t=Yr(e);if(Ra(t))return e}function Yh(e,t){if(e==="change")return t}var Su=!1;if(p){var Oo;if(p){var Lo="oninput"in document;if(!Lo){var ju=document.createElement("div");ju.setAttribute("oninput","return;"),Lo=typeof ju.oninput=="function"}Oo=Lo}else Oo=!1;Su=Oo&&(!document.documentMode||9<document.documentMode)}function Nu(){Wn&&(Wn.detachEvent("onpropertychange",Cu),Vn=Wn=null)}function Cu(e){if(e.propertyName==="value"&&Vs(Vn)){var t=[];ku(t,Vn,e,fo(e)),Ka(Qh,t)}}function Xh(e,t,r){e==="focusin"?(Nu(),Wn=t,Vn=r,Wn.attachEvent("onpropertychange",Cu)):e==="focusout"&&Nu()}function Zh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vs(Vn)}function ep(e,t){if(e==="click")return Vs(t)}function tp(e,t){if(e==="input"||e==="change")return Vs(t)}function rp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _t=typeof Object.is=="function"?Object.is:rp;function Kn(e,t){if(_t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var c=r[i];if(!m.call(t,c)||!_t(e[c],t[c]))return!1}return!0}function bu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tu(e,t){var r=bu(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=bu(r)}}function Pu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Pu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ru(){for(var e=window,t=Ts();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ts(e.document)}return t}function Ao(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function np(e){var t=Ru(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Pu(r.ownerDocument.documentElement,r)){if(i!==null&&Ao(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=r.textContent.length,d=Math.min(i.start,c);i=i.end===void 0?d:Math.min(i.end,c),!e.extend&&d>i&&(c=i,i=d,d=c),c=Tu(r,d);var g=Tu(r,i);c&&g&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),d>i?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sp=p&&"documentMode"in document&&11>=document.documentMode,Kr=null,Io=null,Gn=null,$o=!1;function Ou(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$o||Kr==null||Kr!==Ts(i)||(i=Kr,"selectionStart"in i&&Ao(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Gn&&Kn(Gn,i)||(Gn=i,i=Qs(Io,"onSelect"),0<i.length&&(t=new No("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=Kr)))}function Ks(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Gr={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionend:Ks("Transition","TransitionEnd")},Uo={},Lu={};p&&(Lu=document.createElement("div").style,"AnimationEvent"in window||(delete Gr.animationend.animation,delete Gr.animationiteration.animation,delete Gr.animationstart.animation),"TransitionEvent"in window||delete Gr.transitionend.transition);function Gs(e){if(Uo[e])return Uo[e];if(!Gr[e])return e;var t=Gr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Lu)return Uo[e]=t[r];return e}var Au=Gs("animationend"),Iu=Gs("animationiteration"),$u=Gs("animationstart"),Uu=Gs("transitionend"),Du=new Map,Fu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xt(e,t){Du.set(e,t),u(t,[e])}for(var Do=0;Do<Fu.length;Do++){var Fo=Fu[Do],ip=Fo.toLowerCase(),op=Fo[0].toUpperCase()+Fo.slice(1);Xt(ip,"on"+op)}Xt(Au,"onAnimationEnd"),Xt(Iu,"onAnimationIteration"),Xt($u,"onAnimationStart"),Xt("dblclick","onDoubleClick"),Xt("focusin","onFocus"),Xt("focusout","onBlur"),Xt(Uu,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jn));function Mu(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,ih(i,t,void 0,e),e.currentTarget=null}function zu(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],c=i.event;i=i.listeners;e:{var d=void 0;if(t)for(var g=i.length-1;0<=g;g--){var w=i[g],_=w.instance,b=w.currentTarget;if(w=w.listener,_!==d&&c.isPropagationStopped())break e;Mu(c,w,b),d=_}else for(g=0;g<i.length;g++){if(w=i[g],_=w.instance,b=w.currentTarget,w=w.listener,_!==d&&c.isPropagationStopped())break e;Mu(c,w,b),d=_}}}if(Os)throw e=go,Os=!1,go=null,e}function Ce(e,t){var r=t[Ko];r===void 0&&(r=t[Ko]=new Set);var i=e+"__bubble";r.has(i)||(Bu(t,e,2,!1),r.add(i))}function Mo(e,t,r){var i=0;t&&(i|=4),Bu(r,e,i,t)}var Js="_reactListening"+Math.random().toString(36).slice(2);function Qn(e){if(!e[Js]){e[Js]=!0,l.forEach(function(r){r!=="selectionchange"&&(lp.has(r)||Mo(r,!1,e),Mo(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Js]||(t[Js]=!0,Mo("selectionchange",!1,t))}}function Bu(e,t,r,i){switch(du(t)){case 1:var c=_h;break;case 4:c=Eh;break;default:c=ko}r=c.bind(null,t,r,e),c=void 0,!mo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),i?c!==void 0?e.addEventListener(t,r,{capture:!0,passive:c}):e.addEventListener(t,r,!0):c!==void 0?e.addEventListener(t,r,{passive:c}):e.addEventListener(t,r,!1)}function zo(e,t,r,i,c){var d=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var g=i.tag;if(g===3||g===4){var w=i.stateNode.containerInfo;if(w===c||w.nodeType===8&&w.parentNode===c)break;if(g===4)for(g=i.return;g!==null;){var _=g.tag;if((_===3||_===4)&&(_=g.stateNode.containerInfo,_===c||_.nodeType===8&&_.parentNode===c))return;g=g.return}for(;w!==null;){if(g=Er(w),g===null)return;if(_=g.tag,_===5||_===6){i=d=g;continue e}w=w.parentNode}}i=i.return}Ka(function(){var b=d,I=fo(r),$=[];e:{var L=Du.get(e);if(L!==void 0){var H=No,K=e;switch(e){case"keypress":if(Hs(r)===0)break e;case"keydown":case"keyup":H=Uh;break;case"focusin":K="focus",H=To;break;case"focusout":K="blur",H=To;break;case"beforeblur":case"afterblur":H=To;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=pu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=jh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Mh;break;case Au:case Iu:case $u:H=bh;break;case Uu:H=Bh;break;case"scroll":H=kh;break;case"wheel":H=qh;break;case"copy":case"cut":case"paste":H=Ph;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=gu}var G=(t&4)!==0,$e=!G&&e==="scroll",N=G?L!==null?L+"Capture":null:L;G=[];for(var E=b,C;E!==null;){C=E;var F=C.stateNode;if(C.tag===5&&F!==null&&(C=F,N!==null&&(F=On(E,N),F!=null&&G.push(Yn(E,F,C)))),$e)break;E=E.return}0<G.length&&(L=new H(L,K,null,r,I),$.push({event:L,listeners:G}))}}if((t&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",L&&r!==co&&(K=r.relatedTarget||r.fromElement)&&(Er(K)||K[At]))break e;if((H||L)&&(L=I.window===I?I:(L=I.ownerDocument)?L.defaultView||L.parentWindow:window,H?(K=r.relatedTarget||r.toElement,H=b,K=K?Er(K):null,K!==null&&($e=_r(K),K!==$e||K.tag!==5&&K.tag!==6)&&(K=null)):(H=null,K=b),H!==K)){if(G=pu,F="onMouseLeave",N="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(G=gu,F="onPointerLeave",N="onPointerEnter",E="pointer"),$e=H==null?L:Yr(H),C=K==null?L:Yr(K),L=new G(F,E+"leave",H,r,I),L.target=$e,L.relatedTarget=C,F=null,Er(I)===b&&(G=new G(N,E+"enter",K,r,I),G.target=C,G.relatedTarget=$e,F=G),$e=F,H&&K)t:{for(G=H,N=K,E=0,C=G;C;C=Jr(C))E++;for(C=0,F=N;F;F=Jr(F))C++;for(;0<E-C;)G=Jr(G),E--;for(;0<C-E;)N=Jr(N),C--;for(;E--;){if(G===N||N!==null&&G===N.alternate)break t;G=Jr(G),N=Jr(N)}G=null}else G=null;H!==null&&Hu($,L,H,G,!1),K!==null&&$e!==null&&Hu($,$e,K,G,!0)}}e:{if(L=b?Yr(b):window,H=L.nodeName&&L.nodeName.toLowerCase(),H==="select"||H==="input"&&L.type==="file")var Q=Yh;else if(Eu(L))if(Su)Q=tp;else{Q=Zh;var ee=Xh}else(H=L.nodeName)&&H.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(Q=ep);if(Q&&(Q=Q(e,b))){ku($,Q,r,I);break e}ee&&ee(e,L,b),e==="focusout"&&(ee=L._wrapperState)&&ee.controlled&&L.type==="number"&&io(L,"number",L.value)}switch(ee=b?Yr(b):window,e){case"focusin":(Eu(ee)||ee.contentEditable==="true")&&(Kr=ee,Io=b,Gn=null);break;case"focusout":Gn=Io=Kr=null;break;case"mousedown":$o=!0;break;case"contextmenu":case"mouseup":case"dragend":$o=!1,Ou($,r,I);break;case"selectionchange":if(sp)break;case"keydown":case"keyup":Ou($,r,I)}var te;if(Ro)e:{switch(e){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else Vr?xu(e,r)&&(se="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(se="onCompositionStart");se&&(vu&&r.locale!=="ko"&&(Vr||se!=="onCompositionStart"?se==="onCompositionEnd"&&Vr&&(te=fu()):(Yt=I,jo="value"in Yt?Yt.value:Yt.textContent,Vr=!0)),ee=Qs(b,se),0<ee.length&&(se=new mu(se,e,null,r,I),$.push({event:se,listeners:ee}),te?se.data=te:(te=_u(r),te!==null&&(se.data=te)))),(te=Vh?Kh(e,r):Gh(e,r))&&(b=Qs(b,"onBeforeInput"),0<b.length&&(I=new mu("onBeforeInput","beforeinput",null,r,I),$.push({event:I,listeners:b}),I.data=te))}zu($,t)})}function Yn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Qs(e,t){for(var r=t+"Capture",i=[];e!==null;){var c=e,d=c.stateNode;c.tag===5&&d!==null&&(c=d,d=On(e,r),d!=null&&i.unshift(Yn(e,d,c)),d=On(e,t),d!=null&&i.push(Yn(e,d,c))),e=e.return}return i}function Jr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hu(e,t,r,i,c){for(var d=t._reactName,g=[];r!==null&&r!==i;){var w=r,_=w.alternate,b=w.stateNode;if(_!==null&&_===i)break;w.tag===5&&b!==null&&(w=b,c?(_=On(r,d),_!=null&&g.unshift(Yn(r,_,w))):c||(_=On(r,d),_!=null&&g.push(Yn(r,_,w)))),r=r.return}g.length!==0&&e.push({event:t,listeners:g})}var ap=/\r\n?/g,up=/\u0000|\uFFFD/g;function qu(e){return(typeof e=="string"?e:""+e).replace(ap,`
`).replace(up,"")}function Ys(e,t,r){if(t=qu(t),qu(e)!==t&&r)throw Error(s(425))}function Xs(){}var Bo=null,Ho=null;function qo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wo=typeof setTimeout=="function"?setTimeout:void 0,cp=typeof clearTimeout=="function"?clearTimeout:void 0,Wu=typeof Promise=="function"?Promise:void 0,dp=typeof queueMicrotask=="function"?queueMicrotask:typeof Wu<"u"?function(e){return Wu.resolve(null).then(e).catch(fp)}:Wo;function fp(e){setTimeout(function(){throw e})}function Vo(e,t){var r=t,i=0;do{var c=r.nextSibling;if(e.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(i===0){e.removeChild(c),zn(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=c}while(r);zn(t)}function Zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Vu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Qr=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Qr,Xn="__reactProps$"+Qr,At="__reactContainer$"+Qr,Ko="__reactEvents$"+Qr,hp="__reactListeners$"+Qr,pp="__reactHandles$"+Qr;function Er(e){var t=e[Tt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[At]||r[Tt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Vu(e);e!==null;){if(r=e[Tt])return r;e=Vu(e)}return t}e=r,r=e.parentNode}return null}function Zn(e){return e=e[Tt]||e[At],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Zs(e){return e[Xn]||null}var Go=[],Xr=-1;function er(e){return{current:e}}function be(e){0>Xr||(e.current=Go[Xr],Go[Xr]=null,Xr--)}function Se(e,t){Xr++,Go[Xr]=e.current,e.current=t}var tr={},Ge=er(tr),tt=er(!1),kr=tr;function Zr(e,t){var r=e.type.contextTypes;if(!r)return tr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var c={},d;for(d in r)c[d]=t[d];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function rt(e){return e=e.childContextTypes,e!=null}function ei(){be(tt),be(Ge)}function Ku(e,t,r){if(Ge.current!==tr)throw Error(s(168));Se(Ge,t),Se(tt,r)}function Gu(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var c in i)if(!(c in t))throw Error(s(108,ke(e)||"Unknown",c));return q({},r,i)}function ti(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tr,kr=Ge.current,Se(Ge,e),Se(tt,tt.current),!0}function Ju(e,t,r){var i=e.stateNode;if(!i)throw Error(s(169));r?(e=Gu(e,t,kr),i.__reactInternalMemoizedMergedChildContext=e,be(tt),be(Ge),Se(Ge,e)):be(tt),Se(tt,r)}var It=null,ri=!1,Jo=!1;function Qu(e){It===null?It=[e]:It.push(e)}function mp(e){ri=!0,Qu(e)}function rr(){if(!Jo&&It!==null){Jo=!0;var e=0,t=xe;try{var r=It;for(xe=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}It=null,ri=!1}catch(c){throw It!==null&&(It=It.slice(e+1)),Xa(vo,rr),c}finally{xe=t,Jo=!1}}return null}var en=[],tn=0,ni=null,si=0,pt=[],mt=0,Sr=null,$t=1,Ut="";function jr(e,t){en[tn++]=si,en[tn++]=ni,ni=e,si=t}function Yu(e,t,r){pt[mt++]=$t,pt[mt++]=Ut,pt[mt++]=Sr,Sr=e;var i=$t;e=Ut;var c=32-xt(i)-1;i&=~(1<<c),r+=1;var d=32-xt(t)+c;if(30<d){var g=c-c%5;d=(i&(1<<g)-1).toString(32),i>>=g,c-=g,$t=1<<32-xt(t)+c|r<<c|i,Ut=d+e}else $t=1<<d|r<<c|i,Ut=e}function Qo(e){e.return!==null&&(jr(e,1),Yu(e,1,0))}function Yo(e){for(;e===ni;)ni=en[--tn],en[tn]=null,si=en[--tn],en[tn]=null;for(;e===Sr;)Sr=pt[--mt],pt[mt]=null,Ut=pt[--mt],pt[mt]=null,$t=pt[--mt],pt[mt]=null}var ct=null,dt=null,Pe=!1,Et=null;function Xu(e,t){var r=wt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Zu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ct=e,dt=Zt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ct=e,dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Sr!==null?{id:$t,overflow:Ut}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=wt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ct=e,dt=null,!0):!1;default:return!1}}function Xo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Zo(e){if(Pe){var t=dt;if(t){var r=t;if(!Zu(e,t)){if(Xo(e))throw Error(s(418));t=Zt(r.nextSibling);var i=ct;t&&Zu(e,t)?Xu(i,r):(e.flags=e.flags&-4097|2,Pe=!1,ct=e)}}else{if(Xo(e))throw Error(s(418));e.flags=e.flags&-4097|2,Pe=!1,ct=e}}}function ec(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ct=e}function ii(e){if(e!==ct)return!1;if(!Pe)return ec(e),Pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!qo(e.type,e.memoizedProps)),t&&(t=dt)){if(Xo(e))throw tc(),Error(s(418));for(;t;)Xu(e,t),t=Zt(t.nextSibling)}if(ec(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){dt=Zt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}dt=null}}else dt=ct?Zt(e.stateNode.nextSibling):null;return!0}function tc(){for(var e=dt;e;)e=Zt(e.nextSibling)}function rn(){dt=ct=null,Pe=!1}function el(e){Et===null?Et=[e]:Et.push(e)}var gp=J.ReactCurrentBatchConfig;function es(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(s(309));var i=r.stateNode}if(!i)throw Error(s(147,e));var c=i,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(g){var w=c.refs;g===null?delete w[d]:w[d]=g},t._stringRef=d,t)}if(typeof e!="string")throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function oi(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rc(e){var t=e._init;return t(e._payload)}function nc(e){function t(N,E){if(e){var C=N.deletions;C===null?(N.deletions=[E],N.flags|=16):C.push(E)}}function r(N,E){if(!e)return null;for(;E!==null;)t(N,E),E=E.sibling;return null}function i(N,E){for(N=new Map;E!==null;)E.key!==null?N.set(E.key,E):N.set(E.index,E),E=E.sibling;return N}function c(N,E){return N=cr(N,E),N.index=0,N.sibling=null,N}function d(N,E,C){return N.index=C,e?(C=N.alternate,C!==null?(C=C.index,C<E?(N.flags|=2,E):C):(N.flags|=2,E)):(N.flags|=1048576,E)}function g(N){return e&&N.alternate===null&&(N.flags|=2),N}function w(N,E,C,F){return E===null||E.tag!==6?(E=Wl(C,N.mode,F),E.return=N,E):(E=c(E,C),E.return=N,E)}function _(N,E,C,F){var Q=C.type;return Q===le?I(N,E,C.props.children,F,C.key):E!==null&&(E.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===he&&rc(Q)===E.type)?(F=c(E,C.props),F.ref=es(N,E,C),F.return=N,F):(F=Pi(C.type,C.key,C.props,null,N.mode,F),F.ref=es(N,E,C),F.return=N,F)}function b(N,E,C,F){return E===null||E.tag!==4||E.stateNode.containerInfo!==C.containerInfo||E.stateNode.implementation!==C.implementation?(E=Vl(C,N.mode,F),E.return=N,E):(E=c(E,C.children||[]),E.return=N,E)}function I(N,E,C,F,Q){return E===null||E.tag!==7?(E=Lr(C,N.mode,F,Q),E.return=N,E):(E=c(E,C),E.return=N,E)}function $(N,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Wl(""+E,N.mode,C),E.return=N,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case X:return C=Pi(E.type,E.key,E.props,null,N.mode,C),C.ref=es(N,null,E),C.return=N,C;case ye:return E=Vl(E,N.mode,C),E.return=N,E;case he:var F=E._init;return $(N,F(E._payload),C)}if(Tn(E)||ne(E))return E=Lr(E,N.mode,C,null),E.return=N,E;oi(N,E)}return null}function L(N,E,C,F){var Q=E!==null?E.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return Q!==null?null:w(N,E,""+C,F);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case X:return C.key===Q?_(N,E,C,F):null;case ye:return C.key===Q?b(N,E,C,F):null;case he:return Q=C._init,L(N,E,Q(C._payload),F)}if(Tn(C)||ne(C))return Q!==null?null:I(N,E,C,F,null);oi(N,C)}return null}function H(N,E,C,F,Q){if(typeof F=="string"&&F!==""||typeof F=="number")return N=N.get(C)||null,w(E,N,""+F,Q);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case X:return N=N.get(F.key===null?C:F.key)||null,_(E,N,F,Q);case ye:return N=N.get(F.key===null?C:F.key)||null,b(E,N,F,Q);case he:var ee=F._init;return H(N,E,C,ee(F._payload),Q)}if(Tn(F)||ne(F))return N=N.get(C)||null,I(E,N,F,Q,null);oi(E,F)}return null}function K(N,E,C,F){for(var Q=null,ee=null,te=E,se=E=0,He=null;te!==null&&se<C.length;se++){te.index>se?(He=te,te=null):He=te.sibling;var ve=L(N,te,C[se],F);if(ve===null){te===null&&(te=He);break}e&&te&&ve.alternate===null&&t(N,te),E=d(ve,E,se),ee===null?Q=ve:ee.sibling=ve,ee=ve,te=He}if(se===C.length)return r(N,te),Pe&&jr(N,se),Q;if(te===null){for(;se<C.length;se++)te=$(N,C[se],F),te!==null&&(E=d(te,E,se),ee===null?Q=te:ee.sibling=te,ee=te);return Pe&&jr(N,se),Q}for(te=i(N,te);se<C.length;se++)He=H(te,N,se,C[se],F),He!==null&&(e&&He.alternate!==null&&te.delete(He.key===null?se:He.key),E=d(He,E,se),ee===null?Q=He:ee.sibling=He,ee=He);return e&&te.forEach(function(dr){return t(N,dr)}),Pe&&jr(N,se),Q}function G(N,E,C,F){var Q=ne(C);if(typeof Q!="function")throw Error(s(150));if(C=Q.call(C),C==null)throw Error(s(151));for(var ee=Q=null,te=E,se=E=0,He=null,ve=C.next();te!==null&&!ve.done;se++,ve=C.next()){te.index>se?(He=te,te=null):He=te.sibling;var dr=L(N,te,ve.value,F);if(dr===null){te===null&&(te=He);break}e&&te&&dr.alternate===null&&t(N,te),E=d(dr,E,se),ee===null?Q=dr:ee.sibling=dr,ee=dr,te=He}if(ve.done)return r(N,te),Pe&&jr(N,se),Q;if(te===null){for(;!ve.done;se++,ve=C.next())ve=$(N,ve.value,F),ve!==null&&(E=d(ve,E,se),ee===null?Q=ve:ee.sibling=ve,ee=ve);return Pe&&jr(N,se),Q}for(te=i(N,te);!ve.done;se++,ve=C.next())ve=H(te,N,se,ve.value,F),ve!==null&&(e&&ve.alternate!==null&&te.delete(ve.key===null?se:ve.key),E=d(ve,E,se),ee===null?Q=ve:ee.sibling=ve,ee=ve);return e&&te.forEach(function(Jp){return t(N,Jp)}),Pe&&jr(N,se),Q}function $e(N,E,C,F){if(typeof C=="object"&&C!==null&&C.type===le&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case X:e:{for(var Q=C.key,ee=E;ee!==null;){if(ee.key===Q){if(Q=C.type,Q===le){if(ee.tag===7){r(N,ee.sibling),E=c(ee,C.props.children),E.return=N,N=E;break e}}else if(ee.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===he&&rc(Q)===ee.type){r(N,ee.sibling),E=c(ee,C.props),E.ref=es(N,ee,C),E.return=N,N=E;break e}r(N,ee);break}else t(N,ee);ee=ee.sibling}C.type===le?(E=Lr(C.props.children,N.mode,F,C.key),E.return=N,N=E):(F=Pi(C.type,C.key,C.props,null,N.mode,F),F.ref=es(N,E,C),F.return=N,N=F)}return g(N);case ye:e:{for(ee=C.key;E!==null;){if(E.key===ee)if(E.tag===4&&E.stateNode.containerInfo===C.containerInfo&&E.stateNode.implementation===C.implementation){r(N,E.sibling),E=c(E,C.children||[]),E.return=N,N=E;break e}else{r(N,E);break}else t(N,E);E=E.sibling}E=Vl(C,N.mode,F),E.return=N,N=E}return g(N);case he:return ee=C._init,$e(N,E,ee(C._payload),F)}if(Tn(C))return K(N,E,C,F);if(ne(C))return G(N,E,C,F);oi(N,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,E!==null&&E.tag===6?(r(N,E.sibling),E=c(E,C),E.return=N,N=E):(r(N,E),E=Wl(C,N.mode,F),E.return=N,N=E),g(N)):r(N,E)}return $e}var nn=nc(!0),sc=nc(!1),li=er(null),ai=null,sn=null,tl=null;function rl(){tl=sn=ai=null}function nl(e){var t=li.current;be(li),e._currentValue=t}function sl(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function on(e,t){ai=e,tl=sn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(nt=!0),e.firstContext=null)}function gt(e){var t=e._currentValue;if(tl!==e)if(e={context:e,memoizedValue:t,next:null},sn===null){if(ai===null)throw Error(s(308));sn=e,ai.dependencies={lanes:0,firstContext:e}}else sn=sn.next=e;return t}var Nr=null;function il(e){Nr===null?Nr=[e]:Nr.push(e)}function ic(e,t,r,i){var c=t.interleaved;return c===null?(r.next=r,il(t)):(r.next=c.next,c.next=r),t.interleaved=r,Dt(e,i)}function Dt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var nr=!1;function ol(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ft(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sr(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(pe&2)!==0){var c=i.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),i.pending=t,Dt(e,r)}return c=i.interleaved,c===null?(t.next=t,il(i)):(t.next=c.next,c.next=t),i.interleaved=t,Dt(e,r)}function ui(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,xo(e,r)}}function lc(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var c=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var g={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};d===null?c=d=g:d=d.next=g,r=r.next}while(r!==null);d===null?c=d=t:d=d.next=t}else c=d=t;r={baseState:i.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ci(e,t,r,i){var c=e.updateQueue;nr=!1;var d=c.firstBaseUpdate,g=c.lastBaseUpdate,w=c.shared.pending;if(w!==null){c.shared.pending=null;var _=w,b=_.next;_.next=null,g===null?d=b:g.next=b,g=_;var I=e.alternate;I!==null&&(I=I.updateQueue,w=I.lastBaseUpdate,w!==g&&(w===null?I.firstBaseUpdate=b:w.next=b,I.lastBaseUpdate=_))}if(d!==null){var $=c.baseState;g=0,I=b=_=null,w=d;do{var L=w.lane,H=w.eventTime;if((i&L)===L){I!==null&&(I=I.next={eventTime:H,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var K=e,G=w;switch(L=t,H=r,G.tag){case 1:if(K=G.payload,typeof K=="function"){$=K.call(H,$,L);break e}$=K;break e;case 3:K.flags=K.flags&-65537|128;case 0:if(K=G.payload,L=typeof K=="function"?K.call(H,$,L):K,L==null)break e;$=q({},$,L);break e;case 2:nr=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,L=c.effects,L===null?c.effects=[w]:L.push(w))}else H={eventTime:H,lane:L,tag:w.tag,payload:w.payload,callback:w.callback,next:null},I===null?(b=I=H,_=$):I=I.next=H,g|=L;if(w=w.next,w===null){if(w=c.shared.pending,w===null)break;L=w,w=L.next,L.next=null,c.lastBaseUpdate=L,c.shared.pending=null}}while(!0);if(I===null&&(_=$),c.baseState=_,c.firstBaseUpdate=b,c.lastBaseUpdate=I,t=c.shared.interleaved,t!==null){c=t;do g|=c.lane,c=c.next;while(c!==t)}else d===null&&(c.shared.lanes=0);Tr|=g,e.lanes=g,e.memoizedState=$}}function ac(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],c=i.callback;if(c!==null){if(i.callback=null,i=r,typeof c!="function")throw Error(s(191,c));c.call(i)}}}var ts={},Pt=er(ts),rs=er(ts),ns=er(ts);function Cr(e){if(e===ts)throw Error(s(174));return e}function ll(e,t){switch(Se(ns,t),Se(rs,e),Se(Pt,ts),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:lo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=lo(t,e)}be(Pt),Se(Pt,t)}function ln(){be(Pt),be(rs),be(ns)}function uc(e){Cr(ns.current);var t=Cr(Pt.current),r=lo(t,e.type);t!==r&&(Se(rs,e),Se(Pt,r))}function al(e){rs.current===e&&(be(Pt),be(rs))}var Re=er(0);function di(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ul=[];function cl(){for(var e=0;e<ul.length;e++)ul[e]._workInProgressVersionPrimary=null;ul.length=0}var fi=J.ReactCurrentDispatcher,dl=J.ReactCurrentBatchConfig,br=0,Oe=null,Fe=null,ze=null,hi=!1,ss=!1,is=0,vp=0;function Je(){throw Error(s(321))}function fl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!_t(e[r],t[r]))return!1;return!0}function hl(e,t,r,i,c,d){if(br=d,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fi.current=e===null||e.memoizedState===null?_p:Ep,e=r(i,c),ss){d=0;do{if(ss=!1,is=0,25<=d)throw Error(s(301));d+=1,ze=Fe=null,t.updateQueue=null,fi.current=kp,e=r(i,c)}while(ss)}if(fi.current=gi,t=Fe!==null&&Fe.next!==null,br=0,ze=Fe=Oe=null,hi=!1,t)throw Error(s(300));return e}function pl(){var e=is!==0;return is=0,e}function Rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Oe.memoizedState=ze=e:ze=ze.next=e,ze}function vt(){if(Fe===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=Fe.next;var t=ze===null?Oe.memoizedState:ze.next;if(t!==null)ze=t,Fe=e;else{if(e===null)throw Error(s(310));Fe=e,e={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},ze===null?Oe.memoizedState=ze=e:ze=ze.next=e}return ze}function os(e,t){return typeof t=="function"?t(e):t}function ml(e){var t=vt(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var i=Fe,c=i.baseQueue,d=r.pending;if(d!==null){if(c!==null){var g=c.next;c.next=d.next,d.next=g}i.baseQueue=c=d,r.pending=null}if(c!==null){d=c.next,i=i.baseState;var w=g=null,_=null,b=d;do{var I=b.lane;if((br&I)===I)_!==null&&(_=_.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),i=b.hasEagerState?b.eagerState:e(i,b.action);else{var $={lane:I,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};_===null?(w=_=$,g=i):_=_.next=$,Oe.lanes|=I,Tr|=I}b=b.next}while(b!==null&&b!==d);_===null?g=i:_.next=w,_t(i,t.memoizedState)||(nt=!0),t.memoizedState=i,t.baseState=g,t.baseQueue=_,r.lastRenderedState=i}if(e=r.interleaved,e!==null){c=e;do d=c.lane,Oe.lanes|=d,Tr|=d,c=c.next;while(c!==e)}else c===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function gl(e){var t=vt(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var i=r.dispatch,c=r.pending,d=t.memoizedState;if(c!==null){r.pending=null;var g=c=c.next;do d=e(d,g.action),g=g.next;while(g!==c);_t(d,t.memoizedState)||(nt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),r.lastRenderedState=d}return[d,i]}function cc(){}function dc(e,t){var r=Oe,i=vt(),c=t(),d=!_t(i.memoizedState,c);if(d&&(i.memoizedState=c,nt=!0),i=i.queue,vl(pc.bind(null,r,i,e),[e]),i.getSnapshot!==t||d||ze!==null&&ze.memoizedState.tag&1){if(r.flags|=2048,ls(9,hc.bind(null,r,i,c,t),void 0,null),Be===null)throw Error(s(349));(br&30)!==0||fc(r,t,c)}return c}function fc(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function hc(e,t,r,i){t.value=r,t.getSnapshot=i,mc(t)&&gc(e)}function pc(e,t,r){return r(function(){mc(t)&&gc(e)})}function mc(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!_t(e,r)}catch{return!0}}function gc(e){var t=Dt(e,1);t!==null&&Nt(t,e,1,-1)}function vc(e){var t=Rt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:e},t.queue=e,e=e.dispatch=xp.bind(null,Oe,e),[t.memoizedState,e]}function ls(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function yc(){return vt().memoizedState}function pi(e,t,r,i){var c=Rt();Oe.flags|=e,c.memoizedState=ls(1|t,r,void 0,i===void 0?null:i)}function mi(e,t,r,i){var c=vt();i=i===void 0?null:i;var d=void 0;if(Fe!==null){var g=Fe.memoizedState;if(d=g.destroy,i!==null&&fl(i,g.deps)){c.memoizedState=ls(t,r,d,i);return}}Oe.flags|=e,c.memoizedState=ls(1|t,r,d,i)}function wc(e,t){return pi(8390656,8,e,t)}function vl(e,t){return mi(2048,8,e,t)}function xc(e,t){return mi(4,2,e,t)}function _c(e,t){return mi(4,4,e,t)}function Ec(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kc(e,t,r){return r=r!=null?r.concat([e]):null,mi(4,4,Ec.bind(null,t,e),r)}function yl(){}function Sc(e,t){var r=vt();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&fl(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function jc(e,t){var r=vt();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&fl(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function Nc(e,t,r){return(br&21)===0?(e.baseState&&(e.baseState=!1,nt=!0),e.memoizedState=r):(_t(r,t)||(r=ru(),Oe.lanes|=r,Tr|=r,e.baseState=!0),t)}function yp(e,t){var r=xe;xe=r!==0&&4>r?r:4,e(!0);var i=dl.transition;dl.transition={};try{e(!1),t()}finally{xe=r,dl.transition=i}}function Cc(){return vt().memoizedState}function wp(e,t,r){var i=ar(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},bc(e))Tc(t,r);else if(r=ic(e,t,r,i),r!==null){var c=Ze();Nt(r,e,i,c),Pc(r,t,i)}}function xp(e,t,r){var i=ar(e),c={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(bc(e))Tc(t,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var g=t.lastRenderedState,w=d(g,r);if(c.hasEagerState=!0,c.eagerState=w,_t(w,g)){var _=t.interleaved;_===null?(c.next=c,il(t)):(c.next=_.next,_.next=c),t.interleaved=c;return}}catch{}finally{}r=ic(e,t,c,i),r!==null&&(c=Ze(),Nt(r,e,i,c),Pc(r,t,i))}}function bc(e){var t=e.alternate;return e===Oe||t!==null&&t===Oe}function Tc(e,t){ss=hi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Pc(e,t,r){if((r&4194240)!==0){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,xo(e,r)}}var gi={readContext:gt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},_p={readContext:gt,useCallback:function(e,t){return Rt().memoizedState=[e,t===void 0?null:t],e},useContext:gt,useEffect:wc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,pi(4194308,4,Ec.bind(null,t,e),r)},useLayoutEffect:function(e,t){return pi(4194308,4,e,t)},useInsertionEffect:function(e,t){return pi(4,2,e,t)},useMemo:function(e,t){var r=Rt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=Rt();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=wp.bind(null,Oe,e),[i.memoizedState,e]},useRef:function(e){var t=Rt();return e={current:e},t.memoizedState=e},useState:vc,useDebugValue:yl,useDeferredValue:function(e){return Rt().memoizedState=e},useTransition:function(){var e=vc(!1),t=e[0];return e=yp.bind(null,e[1]),Rt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=Oe,c=Rt();if(Pe){if(r===void 0)throw Error(s(407));r=r()}else{if(r=t(),Be===null)throw Error(s(349));(br&30)!==0||fc(i,t,r)}c.memoizedState=r;var d={value:r,getSnapshot:t};return c.queue=d,wc(pc.bind(null,i,d,e),[e]),i.flags|=2048,ls(9,hc.bind(null,i,d,r,t),void 0,null),r},useId:function(){var e=Rt(),t=Be.identifierPrefix;if(Pe){var r=Ut,i=$t;r=(i&~(1<<32-xt(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=is++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=vp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ep={readContext:gt,useCallback:Sc,useContext:gt,useEffect:vl,useImperativeHandle:kc,useInsertionEffect:xc,useLayoutEffect:_c,useMemo:jc,useReducer:ml,useRef:yc,useState:function(){return ml(os)},useDebugValue:yl,useDeferredValue:function(e){var t=vt();return Nc(t,Fe.memoizedState,e)},useTransition:function(){var e=ml(os)[0],t=vt().memoizedState;return[e,t]},useMutableSource:cc,useSyncExternalStore:dc,useId:Cc,unstable_isNewReconciler:!1},kp={readContext:gt,useCallback:Sc,useContext:gt,useEffect:vl,useImperativeHandle:kc,useInsertionEffect:xc,useLayoutEffect:_c,useMemo:jc,useReducer:gl,useRef:yc,useState:function(){return gl(os)},useDebugValue:yl,useDeferredValue:function(e){var t=vt();return Fe===null?t.memoizedState=e:Nc(t,Fe.memoizedState,e)},useTransition:function(){var e=gl(os)[0],t=vt().memoizedState;return[e,t]},useMutableSource:cc,useSyncExternalStore:dc,useId:Cc,unstable_isNewReconciler:!1};function kt(e,t){if(e&&e.defaultProps){t=q({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function wl(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:q({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var vi={isMounted:function(e){return(e=e._reactInternals)?_r(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=Ze(),c=ar(e),d=Ft(i,c);d.payload=t,r!=null&&(d.callback=r),t=sr(e,d,c),t!==null&&(Nt(t,e,c,i),ui(t,e,c))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=Ze(),c=ar(e),d=Ft(i,c);d.tag=1,d.payload=t,r!=null&&(d.callback=r),t=sr(e,d,c),t!==null&&(Nt(t,e,c,i),ui(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ze(),i=ar(e),c=Ft(r,i);c.tag=2,t!=null&&(c.callback=t),t=sr(e,c,i),t!==null&&(Nt(t,e,i,r),ui(t,e,i))}};function Rc(e,t,r,i,c,d,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,d,g):t.prototype&&t.prototype.isPureReactComponent?!Kn(r,i)||!Kn(c,d):!0}function Oc(e,t,r){var i=!1,c=tr,d=t.contextType;return typeof d=="object"&&d!==null?d=gt(d):(c=rt(t)?kr:Ge.current,i=t.contextTypes,d=(i=i!=null)?Zr(e,c):tr),t=new t(r,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vi,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=d),t}function Lc(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&vi.enqueueReplaceState(t,t.state,null)}function xl(e,t,r,i){var c=e.stateNode;c.props=r,c.state=e.memoizedState,c.refs={},ol(e);var d=t.contextType;typeof d=="object"&&d!==null?c.context=gt(d):(d=rt(t)?kr:Ge.current,c.context=Zr(e,d)),c.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(wl(e,t,d,r),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&vi.enqueueReplaceState(c,c.state,null),ci(e,r,c,i),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function an(e,t){try{var r="",i=t;do r+=me(i),i=i.return;while(i);var c=r}catch(d){c=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:c,digest:null}}function _l(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function El(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Sp=typeof WeakMap=="function"?WeakMap:Map;function Ac(e,t,r){r=Ft(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){Si||(Si=!0,Ul=i),El(e,t)},r}function Ic(e,t,r){r=Ft(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var c=t.value;r.payload=function(){return i(c)},r.callback=function(){El(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(r.callback=function(){El(e,t),typeof i!="function"&&(or===null?or=new Set([this]):or.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),r}function $c(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new Sp;var c=new Set;i.set(t,c)}else c=i.get(t),c===void 0&&(c=new Set,i.set(t,c));c.has(r)||(c.add(r),e=Dp.bind(null,e,t,r),t.then(e,e))}function Uc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Dc(e,t,r,i,c){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ft(-1,1),t.tag=2,sr(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=c,e)}var jp=J.ReactCurrentOwner,nt=!1;function Xe(e,t,r,i){t.child=e===null?sc(t,null,r,i):nn(t,e.child,r,i)}function Fc(e,t,r,i,c){r=r.render;var d=t.ref;return on(t,c),i=hl(e,t,r,i,d,c),r=pl(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Mt(e,t,c)):(Pe&&r&&Qo(t),t.flags|=1,Xe(e,t,i,c),t.child)}function Mc(e,t,r,i,c){if(e===null){var d=r.type;return typeof d=="function"&&!ql(d)&&d.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=d,zc(e,t,d,i,c)):(e=Pi(r.type,null,i,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,(e.lanes&c)===0){var g=d.memoizedProps;if(r=r.compare,r=r!==null?r:Kn,r(g,i)&&e.ref===t.ref)return Mt(e,t,c)}return t.flags|=1,e=cr(d,i),e.ref=t.ref,e.return=t,t.child=e}function zc(e,t,r,i,c){if(e!==null){var d=e.memoizedProps;if(Kn(d,i)&&e.ref===t.ref)if(nt=!1,t.pendingProps=i=d,(e.lanes&c)!==0)(e.flags&131072)!==0&&(nt=!0);else return t.lanes=e.lanes,Mt(e,t,c)}return kl(e,t,r,i,c)}function Bc(e,t,r){var i=t.pendingProps,c=i.children,d=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(cn,ft),ft|=r;else{if((r&1073741824)===0)return e=d!==null?d.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Se(cn,ft),ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=d!==null?d.baseLanes:r,Se(cn,ft),ft|=i}else d!==null?(i=d.baseLanes|r,t.memoizedState=null):i=r,Se(cn,ft),ft|=i;return Xe(e,t,c,r),t.child}function Hc(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function kl(e,t,r,i,c){var d=rt(r)?kr:Ge.current;return d=Zr(t,d),on(t,c),r=hl(e,t,r,i,d,c),i=pl(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Mt(e,t,c)):(Pe&&i&&Qo(t),t.flags|=1,Xe(e,t,r,c),t.child)}function qc(e,t,r,i,c){if(rt(r)){var d=!0;ti(t)}else d=!1;if(on(t,c),t.stateNode===null)wi(e,t),Oc(t,r,i),xl(t,r,i,c),i=!0;else if(e===null){var g=t.stateNode,w=t.memoizedProps;g.props=w;var _=g.context,b=r.contextType;typeof b=="object"&&b!==null?b=gt(b):(b=rt(r)?kr:Ge.current,b=Zr(t,b));var I=r.getDerivedStateFromProps,$=typeof I=="function"||typeof g.getSnapshotBeforeUpdate=="function";$||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==i||_!==b)&&Lc(t,g,i,b),nr=!1;var L=t.memoizedState;g.state=L,ci(t,i,g,c),_=t.memoizedState,w!==i||L!==_||tt.current||nr?(typeof I=="function"&&(wl(t,r,I,i),_=t.memoizedState),(w=nr||Rc(t,r,w,i,L,_,b))?($||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=_),g.props=i,g.state=_,g.context=b,i=w):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{g=t.stateNode,oc(e,t),w=t.memoizedProps,b=t.type===t.elementType?w:kt(t.type,w),g.props=b,$=t.pendingProps,L=g.context,_=r.contextType,typeof _=="object"&&_!==null?_=gt(_):(_=rt(r)?kr:Ge.current,_=Zr(t,_));var H=r.getDerivedStateFromProps;(I=typeof H=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==$||L!==_)&&Lc(t,g,i,_),nr=!1,L=t.memoizedState,g.state=L,ci(t,i,g,c);var K=t.memoizedState;w!==$||L!==K||tt.current||nr?(typeof H=="function"&&(wl(t,r,H,i),K=t.memoizedState),(b=nr||Rc(t,r,b,i,L,K,_)||!1)?(I||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(i,K,_),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(i,K,_)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=K),g.props=i,g.state=K,g.context=_,i=b):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),i=!1)}return Sl(e,t,r,i,d,c)}function Sl(e,t,r,i,c,d){Hc(e,t);var g=(t.flags&128)!==0;if(!i&&!g)return c&&Ju(t,r,!1),Mt(e,t,d);i=t.stateNode,jp.current=t;var w=g&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&g?(t.child=nn(t,e.child,null,d),t.child=nn(t,null,w,d)):Xe(e,t,w,d),t.memoizedState=i.state,c&&Ju(t,r,!0),t.child}function Wc(e){var t=e.stateNode;t.pendingContext?Ku(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ku(e,t.context,!1),ll(e,t.containerInfo)}function Vc(e,t,r,i,c){return rn(),el(c),t.flags|=256,Xe(e,t,r,i),t.child}var jl={dehydrated:null,treeContext:null,retryLane:0};function Nl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Kc(e,t,r){var i=t.pendingProps,c=Re.current,d=!1,g=(t.flags&128)!==0,w;if((w=g)||(w=e!==null&&e.memoizedState===null?!1:(c&2)!==0),w?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),Se(Re,c&1),e===null)return Zo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(g=i.children,e=i.fallback,d?(i=t.mode,d=t.child,g={mode:"hidden",children:g},(i&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=g):d=Ri(g,i,0,null),e=Lr(e,i,r,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=Nl(r),t.memoizedState=jl,e):Cl(t,g));if(c=e.memoizedState,c!==null&&(w=c.dehydrated,w!==null))return Np(e,t,g,i,w,c,r);if(d){d=i.fallback,g=t.mode,c=e.child,w=c.sibling;var _={mode:"hidden",children:i.children};return(g&1)===0&&t.child!==c?(i=t.child,i.childLanes=0,i.pendingProps=_,t.deletions=null):(i=cr(c,_),i.subtreeFlags=c.subtreeFlags&14680064),w!==null?d=cr(w,d):(d=Lr(d,g,r,null),d.flags|=2),d.return=t,i.return=t,i.sibling=d,t.child=i,i=d,d=t.child,g=e.child.memoizedState,g=g===null?Nl(r):{baseLanes:g.baseLanes|r,cachePool:null,transitions:g.transitions},d.memoizedState=g,d.childLanes=e.childLanes&~r,t.memoizedState=jl,i}return d=e.child,e=d.sibling,i=cr(d,{mode:"visible",children:i.children}),(t.mode&1)===0&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function Cl(e,t){return t=Ri({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function yi(e,t,r,i){return i!==null&&el(i),nn(t,e.child,null,r),e=Cl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Np(e,t,r,i,c,d,g){if(r)return t.flags&256?(t.flags&=-257,i=_l(Error(s(422))),yi(e,t,g,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=i.fallback,c=t.mode,i=Ri({mode:"visible",children:i.children},c,0,null),d=Lr(d,c,g,null),d.flags|=2,i.return=t,d.return=t,i.sibling=d,t.child=i,(t.mode&1)!==0&&nn(t,e.child,null,g),t.child.memoizedState=Nl(g),t.memoizedState=jl,d);if((t.mode&1)===0)return yi(e,t,g,null);if(c.data==="$!"){if(i=c.nextSibling&&c.nextSibling.dataset,i)var w=i.dgst;return i=w,d=Error(s(419)),i=_l(d,i,void 0),yi(e,t,g,i)}if(w=(g&e.childLanes)!==0,nt||w){if(i=Be,i!==null){switch(g&-g){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(i.suspendedLanes|g))!==0?0:c,c!==0&&c!==d.retryLane&&(d.retryLane=c,Dt(e,c),Nt(i,e,c,-1))}return Hl(),i=_l(Error(s(421))),yi(e,t,g,i)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=Fp.bind(null,e),c._reactRetry=t,null):(e=d.treeContext,dt=Zt(c.nextSibling),ct=t,Pe=!0,Et=null,e!==null&&(pt[mt++]=$t,pt[mt++]=Ut,pt[mt++]=Sr,$t=e.id,Ut=e.overflow,Sr=t),t=Cl(t,i.children),t.flags|=4096,t)}function Gc(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),sl(e.return,t,r)}function bl(e,t,r,i,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:c}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=i,d.tail=r,d.tailMode=c)}function Jc(e,t,r){var i=t.pendingProps,c=i.revealOrder,d=i.tail;if(Xe(e,t,i.children,r),i=Re.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gc(e,r,t);else if(e.tag===19)Gc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Se(Re,i),(t.mode&1)===0)t.memoizedState=null;else switch(c){case"forwards":for(r=t.child,c=null;r!==null;)e=r.alternate,e!==null&&di(e)===null&&(c=r),r=r.sibling;r=c,r===null?(c=t.child,t.child=null):(c=r.sibling,r.sibling=null),bl(t,!1,c,r,d);break;case"backwards":for(r=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&di(e)===null){t.child=c;break}e=c.sibling,c.sibling=r,r=c,c=e}bl(t,!0,r,null,d);break;case"together":bl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wi(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Mt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Tr|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,r=cr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=cr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Cp(e,t,r){switch(t.tag){case 3:Wc(t),rn();break;case 5:uc(t);break;case 1:rt(t.type)&&ti(t);break;case 4:ll(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,c=t.memoizedProps.value;Se(li,i._currentValue),i._currentValue=c;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Se(Re,Re.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?Kc(e,t,r):(Se(Re,Re.current&1),e=Mt(e,t,r),e!==null?e.sibling:null);Se(Re,Re.current&1);break;case 19:if(i=(r&t.childLanes)!==0,(e.flags&128)!==0){if(i)return Jc(e,t,r);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Se(Re,Re.current),i)break;return null;case 22:case 23:return t.lanes=0,Bc(e,t,r)}return Mt(e,t,r)}var Qc,Tl,Yc,Xc;Qc=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Tl=function(){},Yc=function(e,t,r,i){var c=e.memoizedProps;if(c!==i){e=t.stateNode,Cr(Pt.current);var d=null;switch(r){case"input":c=no(e,c),i=no(e,i),d=[];break;case"select":c=q({},c,{value:void 0}),i=q({},i,{value:void 0}),d=[];break;case"textarea":c=oo(e,c),i=oo(e,i),d=[];break;default:typeof c.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Xs)}ao(r,i);var g;r=null;for(b in c)if(!i.hasOwnProperty(b)&&c.hasOwnProperty(b)&&c[b]!=null)if(b==="style"){var w=c[b];for(g in w)w.hasOwnProperty(g)&&(r||(r={}),r[g]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(a.hasOwnProperty(b)?d||(d=[]):(d=d||[]).push(b,null));for(b in i){var _=i[b];if(w=c!=null?c[b]:void 0,i.hasOwnProperty(b)&&_!==w&&(_!=null||w!=null))if(b==="style")if(w){for(g in w)!w.hasOwnProperty(g)||_&&_.hasOwnProperty(g)||(r||(r={}),r[g]="");for(g in _)_.hasOwnProperty(g)&&w[g]!==_[g]&&(r||(r={}),r[g]=_[g])}else r||(d||(d=[]),d.push(b,r)),r=_;else b==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,w=w?w.__html:void 0,_!=null&&w!==_&&(d=d||[]).push(b,_)):b==="children"?typeof _!="string"&&typeof _!="number"||(d=d||[]).push(b,""+_):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(a.hasOwnProperty(b)?(_!=null&&b==="onScroll"&&Ce("scroll",e),d||w===_||(d=[])):(d=d||[]).push(b,_))}r&&(d=d||[]).push("style",r);var b=d;(t.updateQueue=b)&&(t.flags|=4)}},Xc=function(e,t,r,i){r!==i&&(t.flags|=4)};function as(e,t){if(!Pe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var c=e.child;c!==null;)r|=c.lanes|c.childLanes,i|=c.subtreeFlags&14680064,i|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)r|=c.lanes|c.childLanes,i|=c.subtreeFlags,i|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function bp(e,t,r){var i=t.pendingProps;switch(Yo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return rt(t.type)&&ei(),Qe(t),null;case 3:return i=t.stateNode,ln(),be(tt),be(Ge),cl(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(ii(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Et!==null&&(Ml(Et),Et=null))),Tl(e,t),Qe(t),null;case 5:al(t);var c=Cr(ns.current);if(r=t.type,e!==null&&t.stateNode!=null)Yc(e,t,r,i,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(s(166));return Qe(t),null}if(e=Cr(Pt.current),ii(t)){i=t.stateNode,r=t.type;var d=t.memoizedProps;switch(i[Tt]=t,i[Xn]=d,e=(t.mode&1)!==0,r){case"dialog":Ce("cancel",i),Ce("close",i);break;case"iframe":case"object":case"embed":Ce("load",i);break;case"video":case"audio":for(c=0;c<Jn.length;c++)Ce(Jn[c],i);break;case"source":Ce("error",i);break;case"img":case"image":case"link":Ce("error",i),Ce("load",i);break;case"details":Ce("toggle",i);break;case"input":Oa(i,d),Ce("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!d.multiple},Ce("invalid",i);break;case"textarea":Ia(i,d),Ce("invalid",i)}ao(r,d),c=null;for(var g in d)if(d.hasOwnProperty(g)){var w=d[g];g==="children"?typeof w=="string"?i.textContent!==w&&(d.suppressHydrationWarning!==!0&&Ys(i.textContent,w,e),c=["children",w]):typeof w=="number"&&i.textContent!==""+w&&(d.suppressHydrationWarning!==!0&&Ys(i.textContent,w,e),c=["children",""+w]):a.hasOwnProperty(g)&&w!=null&&g==="onScroll"&&Ce("scroll",i)}switch(r){case"input":bs(i),Aa(i,d,!0);break;case"textarea":bs(i),Ua(i);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(i.onclick=Xs)}i=c,t.updateQueue=i,i!==null&&(t.flags|=4)}else{g=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Da(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=g.createElement(r,{is:i.is}):(e=g.createElement(r),r==="select"&&(g=e,i.multiple?g.multiple=!0:i.size&&(g.size=i.size))):e=g.createElementNS(e,r),e[Tt]=t,e[Xn]=i,Qc(e,t,!1,!1),t.stateNode=e;e:{switch(g=uo(r,i),r){case"dialog":Ce("cancel",e),Ce("close",e),c=i;break;case"iframe":case"object":case"embed":Ce("load",e),c=i;break;case"video":case"audio":for(c=0;c<Jn.length;c++)Ce(Jn[c],e);c=i;break;case"source":Ce("error",e),c=i;break;case"img":case"image":case"link":Ce("error",e),Ce("load",e),c=i;break;case"details":Ce("toggle",e),c=i;break;case"input":Oa(e,i),c=no(e,i),Ce("invalid",e);break;case"option":c=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},c=q({},i,{value:void 0}),Ce("invalid",e);break;case"textarea":Ia(e,i),c=oo(e,i),Ce("invalid",e);break;default:c=i}ao(r,c),w=c;for(d in w)if(w.hasOwnProperty(d)){var _=w[d];d==="style"?za(e,_):d==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,_!=null&&Fa(e,_)):d==="children"?typeof _=="string"?(r!=="textarea"||_!=="")&&Pn(e,_):typeof _=="number"&&Pn(e,""+_):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(a.hasOwnProperty(d)?_!=null&&d==="onScroll"&&Ce("scroll",e):_!=null&&B(e,d,_,g))}switch(r){case"input":bs(e),Aa(e,i,!1);break;case"textarea":bs(e),Ua(e);break;case"option":i.value!=null&&e.setAttribute("value",""+we(i.value));break;case"select":e.multiple=!!i.multiple,d=i.value,d!=null?zr(e,!!i.multiple,d,!1):i.defaultValue!=null&&zr(e,!!i.multiple,i.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Xs)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qe(t),null;case 6:if(e&&t.stateNode!=null)Xc(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(s(166));if(r=Cr(ns.current),Cr(Pt.current),ii(t)){if(i=t.stateNode,r=t.memoizedProps,i[Tt]=t,(d=i.nodeValue!==r)&&(e=ct,e!==null))switch(e.tag){case 3:Ys(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ys(i.nodeValue,r,(e.mode&1)!==0)}d&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[Tt]=t,t.stateNode=i}return Qe(t),null;case 13:if(be(Re),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pe&&dt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)tc(),rn(),t.flags|=98560,d=!1;else if(d=ii(t),i!==null&&i.dehydrated!==null){if(e===null){if(!d)throw Error(s(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Tt]=t}else rn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),d=!1}else Et!==null&&(Ml(Et),Et=null),d=!0;if(!d)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Re.current&1)!==0?Me===0&&(Me=3):Hl())),t.updateQueue!==null&&(t.flags|=4),Qe(t),null);case 4:return ln(),Tl(e,t),e===null&&Qn(t.stateNode.containerInfo),Qe(t),null;case 10:return nl(t.type._context),Qe(t),null;case 17:return rt(t.type)&&ei(),Qe(t),null;case 19:if(be(Re),d=t.memoizedState,d===null)return Qe(t),null;if(i=(t.flags&128)!==0,g=d.rendering,g===null)if(i)as(d,!1);else{if(Me!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(g=di(e),g!==null){for(t.flags|=128,as(d,!1),i=g.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)d=r,e=i,d.flags&=14680066,g=d.alternate,g===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=g.childLanes,d.lanes=g.lanes,d.child=g.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=g.memoizedProps,d.memoizedState=g.memoizedState,d.updateQueue=g.updateQueue,d.type=g.type,e=g.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Se(Re,Re.current&1|2),t.child}e=e.sibling}d.tail!==null&&Ie()>dn&&(t.flags|=128,i=!0,as(d,!1),t.lanes=4194304)}else{if(!i)if(e=di(g),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),as(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!Pe)return Qe(t),null}else 2*Ie()-d.renderingStartTime>dn&&r!==1073741824&&(t.flags|=128,i=!0,as(d,!1),t.lanes=4194304);d.isBackwards?(g.sibling=t.child,t.child=g):(r=d.last,r!==null?r.sibling=g:t.child=g,d.last=g)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=Ie(),t.sibling=null,r=Re.current,Se(Re,i?r&1|2:r&1),t):(Qe(t),null);case 22:case 23:return Bl(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&(t.mode&1)!==0?(ft&1073741824)!==0&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function Tp(e,t){switch(Yo(t),t.tag){case 1:return rt(t.type)&&ei(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ln(),be(tt),be(Ge),cl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return al(t),null;case 13:if(be(Re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));rn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return be(Re),null;case 4:return ln(),null;case 10:return nl(t.type._context),null;case 22:case 23:return Bl(),null;case 24:return null;default:return null}}var xi=!1,Ye=!1,Pp=typeof WeakSet=="function"?WeakSet:Set,V=null;function un(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){Ae(e,t,i)}else r.current=null}function Pl(e,t,r){try{r()}catch(i){Ae(e,t,i)}}var Zc=!1;function Rp(e,t){if(Bo=Ms,e=Ru(),Ao(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var c=i.anchorOffset,d=i.focusNode;i=i.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var g=0,w=-1,_=-1,b=0,I=0,$=e,L=null;t:for(;;){for(var H;$!==r||c!==0&&$.nodeType!==3||(w=g+c),$!==d||i!==0&&$.nodeType!==3||(_=g+i),$.nodeType===3&&(g+=$.nodeValue.length),(H=$.firstChild)!==null;)L=$,$=H;for(;;){if($===e)break t;if(L===r&&++b===c&&(w=g),L===d&&++I===i&&(_=g),(H=$.nextSibling)!==null)break;$=L,L=$.parentNode}$=H}r=w===-1||_===-1?null:{start:w,end:_}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ho={focusedElem:e,selectionRange:r},Ms=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var K=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(K!==null){var G=K.memoizedProps,$e=K.memoizedState,N=t.stateNode,E=N.getSnapshotBeforeUpdate(t.elementType===t.type?G:kt(t.type,G),$e);N.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(F){Ae(t,t.return,F)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return K=Zc,Zc=!1,K}function us(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&e)===e){var d=c.destroy;c.destroy=void 0,d!==void 0&&Pl(t,r,d)}c=c.next}while(c!==i)}}function _i(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function Rl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ed(e){var t=e.alternate;t!==null&&(e.alternate=null,ed(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Tt],delete t[Xn],delete t[Ko],delete t[hp],delete t[pp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function td(e){return e.tag===5||e.tag===3||e.tag===4}function rd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||td(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ol(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Xs));else if(i!==4&&(e=e.child,e!==null))for(Ol(e,t,r),e=e.sibling;e!==null;)Ol(e,t,r),e=e.sibling}function Ll(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Ll(e,t,r),e=e.sibling;e!==null;)Ll(e,t,r),e=e.sibling}var Ve=null,St=!1;function ir(e,t,r){for(r=r.child;r!==null;)nd(e,t,r),r=r.sibling}function nd(e,t,r){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(As,r)}catch{}switch(r.tag){case 5:Ye||un(r,t);case 6:var i=Ve,c=St;Ve=null,ir(e,t,r),Ve=i,St=c,Ve!==null&&(St?(e=Ve,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ve.removeChild(r.stateNode));break;case 18:Ve!==null&&(St?(e=Ve,r=r.stateNode,e.nodeType===8?Vo(e.parentNode,r):e.nodeType===1&&Vo(e,r),zn(e)):Vo(Ve,r.stateNode));break;case 4:i=Ve,c=St,Ve=r.stateNode.containerInfo,St=!0,ir(e,t,r),Ve=i,St=c;break;case 0:case 11:case 14:case 15:if(!Ye&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){c=i=i.next;do{var d=c,g=d.destroy;d=d.tag,g!==void 0&&((d&2)!==0||(d&4)!==0)&&Pl(r,t,g),c=c.next}while(c!==i)}ir(e,t,r);break;case 1:if(!Ye&&(un(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(w){Ae(r,t,w)}ir(e,t,r);break;case 21:ir(e,t,r);break;case 22:r.mode&1?(Ye=(i=Ye)||r.memoizedState!==null,ir(e,t,r),Ye=i):ir(e,t,r);break;default:ir(e,t,r)}}function sd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Pp),t.forEach(function(i){var c=Mp.bind(null,e,i);r.has(i)||(r.add(i),i.then(c,c))})}}function jt(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var c=r[i];try{var d=e,g=t,w=g;e:for(;w!==null;){switch(w.tag){case 5:Ve=w.stateNode,St=!1;break e;case 3:Ve=w.stateNode.containerInfo,St=!0;break e;case 4:Ve=w.stateNode.containerInfo,St=!0;break e}w=w.return}if(Ve===null)throw Error(s(160));nd(d,g,c),Ve=null,St=!1;var _=c.alternate;_!==null&&(_.return=null),c.return=null}catch(b){Ae(c,t,b)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)id(t,e),t=t.sibling}function id(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jt(t,e),Ot(e),i&4){try{us(3,e,e.return),_i(3,e)}catch(G){Ae(e,e.return,G)}try{us(5,e,e.return)}catch(G){Ae(e,e.return,G)}}break;case 1:jt(t,e),Ot(e),i&512&&r!==null&&un(r,r.return);break;case 5:if(jt(t,e),Ot(e),i&512&&r!==null&&un(r,r.return),e.flags&32){var c=e.stateNode;try{Pn(c,"")}catch(G){Ae(e,e.return,G)}}if(i&4&&(c=e.stateNode,c!=null)){var d=e.memoizedProps,g=r!==null?r.memoizedProps:d,w=e.type,_=e.updateQueue;if(e.updateQueue=null,_!==null)try{w==="input"&&d.type==="radio"&&d.name!=null&&La(c,d),uo(w,g);var b=uo(w,d);for(g=0;g<_.length;g+=2){var I=_[g],$=_[g+1];I==="style"?za(c,$):I==="dangerouslySetInnerHTML"?Fa(c,$):I==="children"?Pn(c,$):B(c,I,$,b)}switch(w){case"input":so(c,d);break;case"textarea":$a(c,d);break;case"select":var L=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!d.multiple;var H=d.value;H!=null?zr(c,!!d.multiple,H,!1):L!==!!d.multiple&&(d.defaultValue!=null?zr(c,!!d.multiple,d.defaultValue,!0):zr(c,!!d.multiple,d.multiple?[]:"",!1))}c[Xn]=d}catch(G){Ae(e,e.return,G)}}break;case 6:if(jt(t,e),Ot(e),i&4){if(e.stateNode===null)throw Error(s(162));c=e.stateNode,d=e.memoizedProps;try{c.nodeValue=d}catch(G){Ae(e,e.return,G)}}break;case 3:if(jt(t,e),Ot(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{zn(t.containerInfo)}catch(G){Ae(e,e.return,G)}break;case 4:jt(t,e),Ot(e);break;case 13:jt(t,e),Ot(e),c=e.child,c.flags&8192&&(d=c.memoizedState!==null,c.stateNode.isHidden=d,!d||c.alternate!==null&&c.alternate.memoizedState!==null||($l=Ie())),i&4&&sd(e);break;case 22:if(I=r!==null&&r.memoizedState!==null,e.mode&1?(Ye=(b=Ye)||I,jt(t,e),Ye=b):jt(t,e),Ot(e),i&8192){if(b=e.memoizedState!==null,(e.stateNode.isHidden=b)&&!I&&(e.mode&1)!==0)for(V=e,I=e.child;I!==null;){for($=V=I;V!==null;){switch(L=V,H=L.child,L.tag){case 0:case 11:case 14:case 15:us(4,L,L.return);break;case 1:un(L,L.return);var K=L.stateNode;if(typeof K.componentWillUnmount=="function"){i=L,r=L.return;try{t=i,K.props=t.memoizedProps,K.state=t.memoizedState,K.componentWillUnmount()}catch(G){Ae(i,r,G)}}break;case 5:un(L,L.return);break;case 22:if(L.memoizedState!==null){ad($);continue}}H!==null?(H.return=L,V=H):ad($)}I=I.sibling}e:for(I=null,$=e;;){if($.tag===5){if(I===null){I=$;try{c=$.stateNode,b?(d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(w=$.stateNode,_=$.memoizedProps.style,g=_!=null&&_.hasOwnProperty("display")?_.display:null,w.style.display=Ma("display",g))}catch(G){Ae(e,e.return,G)}}}else if($.tag===6){if(I===null)try{$.stateNode.nodeValue=b?"":$.memoizedProps}catch(G){Ae(e,e.return,G)}}else if(($.tag!==22&&$.tag!==23||$.memoizedState===null||$===e)&&$.child!==null){$.child.return=$,$=$.child;continue}if($===e)break e;for(;$.sibling===null;){if($.return===null||$.return===e)break e;I===$&&(I=null),$=$.return}I===$&&(I=null),$.sibling.return=$.return,$=$.sibling}}break;case 19:jt(t,e),Ot(e),i&4&&sd(e);break;case 21:break;default:jt(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(td(r)){var i=r;break e}r=r.return}throw Error(s(160))}switch(i.tag){case 5:var c=i.stateNode;i.flags&32&&(Pn(c,""),i.flags&=-33);var d=rd(e);Ll(e,d,c);break;case 3:case 4:var g=i.stateNode.containerInfo,w=rd(e);Ol(e,w,g);break;default:throw Error(s(161))}}catch(_){Ae(e,e.return,_)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Op(e,t,r){V=e,od(e)}function od(e,t,r){for(var i=(e.mode&1)!==0;V!==null;){var c=V,d=c.child;if(c.tag===22&&i){var g=c.memoizedState!==null||xi;if(!g){var w=c.alternate,_=w!==null&&w.memoizedState!==null||Ye;w=xi;var b=Ye;if(xi=g,(Ye=_)&&!b)for(V=c;V!==null;)g=V,_=g.child,g.tag===22&&g.memoizedState!==null?ud(c):_!==null?(_.return=g,V=_):ud(c);for(;d!==null;)V=d,od(d),d=d.sibling;V=c,xi=w,Ye=b}ld(e)}else(c.subtreeFlags&8772)!==0&&d!==null?(d.return=c,V=d):ld(e)}}function ld(e){for(;V!==null;){var t=V;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Ye||_i(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Ye)if(r===null)i.componentDidMount();else{var c=t.elementType===t.type?r.memoizedProps:kt(t.type,r.memoizedProps);i.componentDidUpdate(c,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&ac(t,d,i);break;case 3:var g=t.updateQueue;if(g!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ac(t,g,r)}break;case 5:var w=t.stateNode;if(r===null&&t.flags&4){r=w;var _=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":_.autoFocus&&r.focus();break;case"img":_.src&&(r.src=_.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var b=t.alternate;if(b!==null){var I=b.memoizedState;if(I!==null){var $=I.dehydrated;$!==null&&zn($)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Ye||t.flags&512&&Rl(t)}catch(L){Ae(t,t.return,L)}}if(t===e){V=null;break}if(r=t.sibling,r!==null){r.return=t.return,V=r;break}V=t.return}}function ad(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var r=t.sibling;if(r!==null){r.return=t.return,V=r;break}V=t.return}}function ud(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{_i(4,t)}catch(_){Ae(t,r,_)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var c=t.return;try{i.componentDidMount()}catch(_){Ae(t,c,_)}}var d=t.return;try{Rl(t)}catch(_){Ae(t,d,_)}break;case 5:var g=t.return;try{Rl(t)}catch(_){Ae(t,g,_)}}}catch(_){Ae(t,t.return,_)}if(t===e){V=null;break}var w=t.sibling;if(w!==null){w.return=t.return,V=w;break}V=t.return}}var Lp=Math.ceil,Ei=J.ReactCurrentDispatcher,Al=J.ReactCurrentOwner,yt=J.ReactCurrentBatchConfig,pe=0,Be=null,De=null,Ke=0,ft=0,cn=er(0),Me=0,cs=null,Tr=0,ki=0,Il=0,ds=null,st=null,$l=0,dn=1/0,zt=null,Si=!1,Ul=null,or=null,ji=!1,lr=null,Ni=0,fs=0,Dl=null,Ci=-1,bi=0;function Ze(){return(pe&6)!==0?Ie():Ci!==-1?Ci:Ci=Ie()}function ar(e){return(e.mode&1)===0?1:(pe&2)!==0&&Ke!==0?Ke&-Ke:gp.transition!==null?(bi===0&&(bi=ru()),bi):(e=xe,e!==0||(e=window.event,e=e===void 0?16:du(e.type)),e)}function Nt(e,t,r,i){if(50<fs)throw fs=0,Dl=null,Error(s(185));$n(e,r,i),((pe&2)===0||e!==Be)&&(e===Be&&((pe&2)===0&&(ki|=r),Me===4&&ur(e,Ke)),it(e,i),r===1&&pe===0&&(t.mode&1)===0&&(dn=Ie()+500,ri&&rr()))}function it(e,t){var r=e.callbackNode;gh(e,t);var i=Us(e,e===Be?Ke:0);if(i===0)r!==null&&Za(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&Za(r),t===1)e.tag===0?mp(dd.bind(null,e)):Qu(dd.bind(null,e)),dp(function(){(pe&6)===0&&rr()}),r=null;else{switch(nu(i)){case 1:r=vo;break;case 4:r=eu;break;case 16:r=Ls;break;case 536870912:r=tu;break;default:r=Ls}r=wd(r,cd.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function cd(e,t){if(Ci=-1,bi=0,(pe&6)!==0)throw Error(s(327));var r=e.callbackNode;if(fn()&&e.callbackNode!==r)return null;var i=Us(e,e===Be?Ke:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||t)t=Ti(e,i);else{t=i;var c=pe;pe|=2;var d=hd();(Be!==e||Ke!==t)&&(zt=null,dn=Ie()+500,Rr(e,t));do try{$p();break}catch(w){fd(e,w)}while(!0);rl(),Ei.current=d,pe=c,De!==null?t=0:(Be=null,Ke=0,t=Me)}if(t!==0){if(t===2&&(c=yo(e),c!==0&&(i=c,t=Fl(e,c))),t===1)throw r=cs,Rr(e,0),ur(e,i),it(e,Ie()),r;if(t===6)ur(e,i);else{if(c=e.current.alternate,(i&30)===0&&!Ap(c)&&(t=Ti(e,i),t===2&&(d=yo(e),d!==0&&(i=d,t=Fl(e,d))),t===1))throw r=cs,Rr(e,0),ur(e,i),it(e,Ie()),r;switch(e.finishedWork=c,e.finishedLanes=i,t){case 0:case 1:throw Error(s(345));case 2:Or(e,st,zt);break;case 3:if(ur(e,i),(i&130023424)===i&&(t=$l+500-Ie(),10<t)){if(Us(e,0)!==0)break;if(c=e.suspendedLanes,(c&i)!==i){Ze(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=Wo(Or.bind(null,e,st,zt),t);break}Or(e,st,zt);break;case 4:if(ur(e,i),(i&4194240)===i)break;for(t=e.eventTimes,c=-1;0<i;){var g=31-xt(i);d=1<<g,g=t[g],g>c&&(c=g),i&=~d}if(i=c,i=Ie()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Lp(i/1960))-i,10<i){e.timeoutHandle=Wo(Or.bind(null,e,st,zt),i);break}Or(e,st,zt);break;case 5:Or(e,st,zt);break;default:throw Error(s(329))}}}return it(e,Ie()),e.callbackNode===r?cd.bind(null,e):null}function Fl(e,t){var r=ds;return e.current.memoizedState.isDehydrated&&(Rr(e,t).flags|=256),e=Ti(e,t),e!==2&&(t=st,st=r,t!==null&&Ml(t)),e}function Ml(e){st===null?st=e:st.push.apply(st,e)}function Ap(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var c=r[i],d=c.getSnapshot;c=c.value;try{if(!_t(d(),c))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ur(e,t){for(t&=~Il,t&=~ki,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-xt(t),i=1<<r;e[r]=-1,t&=~i}}function dd(e){if((pe&6)!==0)throw Error(s(327));fn();var t=Us(e,0);if((t&1)===0)return it(e,Ie()),null;var r=Ti(e,t);if(e.tag!==0&&r===2){var i=yo(e);i!==0&&(t=i,r=Fl(e,i))}if(r===1)throw r=cs,Rr(e,0),ur(e,t),it(e,Ie()),r;if(r===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Or(e,st,zt),it(e,Ie()),null}function zl(e,t){var r=pe;pe|=1;try{return e(t)}finally{pe=r,pe===0&&(dn=Ie()+500,ri&&rr())}}function Pr(e){lr!==null&&lr.tag===0&&(pe&6)===0&&fn();var t=pe;pe|=1;var r=yt.transition,i=xe;try{if(yt.transition=null,xe=1,e)return e()}finally{xe=i,yt.transition=r,pe=t,(pe&6)===0&&rr()}}function Bl(){ft=cn.current,be(cn)}function Rr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,cp(r)),De!==null)for(r=De.return;r!==null;){var i=r;switch(Yo(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&ei();break;case 3:ln(),be(tt),be(Ge),cl();break;case 5:al(i);break;case 4:ln();break;case 13:be(Re);break;case 19:be(Re);break;case 10:nl(i.type._context);break;case 22:case 23:Bl()}r=r.return}if(Be=e,De=e=cr(e.current,null),Ke=ft=t,Me=0,cs=null,Il=ki=Tr=0,st=ds=null,Nr!==null){for(t=0;t<Nr.length;t++)if(r=Nr[t],i=r.interleaved,i!==null){r.interleaved=null;var c=i.next,d=r.pending;if(d!==null){var g=d.next;d.next=c,i.next=g}r.pending=i}Nr=null}return e}function fd(e,t){do{var r=De;try{if(rl(),fi.current=gi,hi){for(var i=Oe.memoizedState;i!==null;){var c=i.queue;c!==null&&(c.pending=null),i=i.next}hi=!1}if(br=0,ze=Fe=Oe=null,ss=!1,is=0,Al.current=null,r===null||r.return===null){Me=1,cs=t,De=null;break}e:{var d=e,g=r.return,w=r,_=t;if(t=Ke,w.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){var b=_,I=w,$=I.tag;if((I.mode&1)===0&&($===0||$===11||$===15)){var L=I.alternate;L?(I.updateQueue=L.updateQueue,I.memoizedState=L.memoizedState,I.lanes=L.lanes):(I.updateQueue=null,I.memoizedState=null)}var H=Uc(g);if(H!==null){H.flags&=-257,Dc(H,g,w,d,t),H.mode&1&&$c(d,b,t),t=H,_=b;var K=t.updateQueue;if(K===null){var G=new Set;G.add(_),t.updateQueue=G}else K.add(_);break e}else{if((t&1)===0){$c(d,b,t),Hl();break e}_=Error(s(426))}}else if(Pe&&w.mode&1){var $e=Uc(g);if($e!==null){($e.flags&65536)===0&&($e.flags|=256),Dc($e,g,w,d,t),el(an(_,w));break e}}d=_=an(_,w),Me!==4&&(Me=2),ds===null?ds=[d]:ds.push(d),d=g;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var N=Ac(d,_,t);lc(d,N);break e;case 1:w=_;var E=d.type,C=d.stateNode;if((d.flags&128)===0&&(typeof E.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(or===null||!or.has(C)))){d.flags|=65536,t&=-t,d.lanes|=t;var F=Ic(d,w,t);lc(d,F);break e}}d=d.return}while(d!==null)}md(r)}catch(Q){t=Q,De===r&&r!==null&&(De=r=r.return);continue}break}while(!0)}function hd(){var e=Ei.current;return Ei.current=gi,e===null?gi:e}function Hl(){(Me===0||Me===3||Me===2)&&(Me=4),Be===null||(Tr&268435455)===0&&(ki&268435455)===0||ur(Be,Ke)}function Ti(e,t){var r=pe;pe|=2;var i=hd();(Be!==e||Ke!==t)&&(zt=null,Rr(e,t));do try{Ip();break}catch(c){fd(e,c)}while(!0);if(rl(),pe=r,Ei.current=i,De!==null)throw Error(s(261));return Be=null,Ke=0,Me}function Ip(){for(;De!==null;)pd(De)}function $p(){for(;De!==null&&!lh();)pd(De)}function pd(e){var t=yd(e.alternate,e,ft);e.memoizedProps=e.pendingProps,t===null?md(e):De=t,Al.current=null}function md(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=bp(r,t,ft),r!==null){De=r;return}}else{if(r=Tp(r,t),r!==null){r.flags&=32767,De=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Me=6,De=null;return}}if(t=t.sibling,t!==null){De=t;return}De=t=e}while(t!==null);Me===0&&(Me=5)}function Or(e,t,r){var i=xe,c=yt.transition;try{yt.transition=null,xe=1,Up(e,t,r,i)}finally{yt.transition=c,xe=i}return null}function Up(e,t,r,i){do fn();while(lr!==null);if((pe&6)!==0)throw Error(s(327));r=e.finishedWork;var c=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var d=r.lanes|r.childLanes;if(vh(e,d),e===Be&&(De=Be=null,Ke=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||ji||(ji=!0,wd(Ls,function(){return fn(),null})),d=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||d){d=yt.transition,yt.transition=null;var g=xe;xe=1;var w=pe;pe|=4,Al.current=null,Rp(e,r),id(r,e),np(Ho),Ms=!!Bo,Ho=Bo=null,e.current=r,Op(r),ah(),pe=w,xe=g,yt.transition=d}else e.current=r;if(ji&&(ji=!1,lr=e,Ni=c),d=e.pendingLanes,d===0&&(or=null),dh(r.stateNode),it(e,Ie()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)c=t[r],i(c.value,{componentStack:c.stack,digest:c.digest});if(Si)throw Si=!1,e=Ul,Ul=null,e;return(Ni&1)!==0&&e.tag!==0&&fn(),d=e.pendingLanes,(d&1)!==0?e===Dl?fs++:(fs=0,Dl=e):fs=0,rr(),null}function fn(){if(lr!==null){var e=nu(Ni),t=yt.transition,r=xe;try{if(yt.transition=null,xe=16>e?16:e,lr===null)var i=!1;else{if(e=lr,lr=null,Ni=0,(pe&6)!==0)throw Error(s(331));var c=pe;for(pe|=4,V=e.current;V!==null;){var d=V,g=d.child;if((V.flags&16)!==0){var w=d.deletions;if(w!==null){for(var _=0;_<w.length;_++){var b=w[_];for(V=b;V!==null;){var I=V;switch(I.tag){case 0:case 11:case 15:us(8,I,d)}var $=I.child;if($!==null)$.return=I,V=$;else for(;V!==null;){I=V;var L=I.sibling,H=I.return;if(ed(I),I===b){V=null;break}if(L!==null){L.return=H,V=L;break}V=H}}}var K=d.alternate;if(K!==null){var G=K.child;if(G!==null){K.child=null;do{var $e=G.sibling;G.sibling=null,G=$e}while(G!==null)}}V=d}}if((d.subtreeFlags&2064)!==0&&g!==null)g.return=d,V=g;else e:for(;V!==null;){if(d=V,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:us(9,d,d.return)}var N=d.sibling;if(N!==null){N.return=d.return,V=N;break e}V=d.return}}var E=e.current;for(V=E;V!==null;){g=V;var C=g.child;if((g.subtreeFlags&2064)!==0&&C!==null)C.return=g,V=C;else e:for(g=E;V!==null;){if(w=V,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:_i(9,w)}}catch(Q){Ae(w,w.return,Q)}if(w===g){V=null;break e}var F=w.sibling;if(F!==null){F.return=w.return,V=F;break e}V=w.return}}if(pe=c,rr(),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(As,e)}catch{}i=!0}return i}finally{xe=r,yt.transition=t}}return!1}function gd(e,t,r){t=an(r,t),t=Ac(e,t,1),e=sr(e,t,1),t=Ze(),e!==null&&($n(e,1,t),it(e,t))}function Ae(e,t,r){if(e.tag===3)gd(e,e,r);else for(;t!==null;){if(t.tag===3){gd(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(or===null||!or.has(i))){e=an(r,e),e=Ic(t,e,1),t=sr(t,e,1),e=Ze(),t!==null&&($n(t,1,e),it(t,e));break}}t=t.return}}function Dp(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=Ze(),e.pingedLanes|=e.suspendedLanes&r,Be===e&&(Ke&r)===r&&(Me===4||Me===3&&(Ke&130023424)===Ke&&500>Ie()-$l?Rr(e,0):Il|=r),it(e,t)}function vd(e,t){t===0&&((e.mode&1)===0?t=1:(t=$s,$s<<=1,($s&130023424)===0&&($s=4194304)));var r=Ze();e=Dt(e,t),e!==null&&($n(e,t,r),it(e,r))}function Fp(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),vd(e,r)}function Mp(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,c=e.memoizedState;c!==null&&(r=c.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(s(314))}i!==null&&i.delete(t),vd(e,r)}var yd;yd=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||tt.current)nt=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return nt=!1,Cp(e,t,r);nt=(e.flags&131072)!==0}else nt=!1,Pe&&(t.flags&1048576)!==0&&Yu(t,si,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;wi(e,t),e=t.pendingProps;var c=Zr(t,Ge.current);on(t,r),c=hl(null,t,i,e,c,r);var d=pl();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rt(i)?(d=!0,ti(t)):d=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,ol(t),c.updater=vi,t.stateNode=c,c._reactInternals=t,xl(t,i,e,r),t=Sl(null,t,i,!0,d,r)):(t.tag=0,Pe&&d&&Qo(t),Xe(null,t,c,r),t=t.child),t;case 16:i=t.elementType;e:{switch(wi(e,t),e=t.pendingProps,c=i._init,i=c(i._payload),t.type=i,c=t.tag=Bp(i),e=kt(i,e),c){case 0:t=kl(null,t,i,e,r);break e;case 1:t=qc(null,t,i,e,r);break e;case 11:t=Fc(null,t,i,e,r);break e;case 14:t=Mc(null,t,i,kt(i.type,e),r);break e}throw Error(s(306,i,""))}return t;case 0:return i=t.type,c=t.pendingProps,c=t.elementType===i?c:kt(i,c),kl(e,t,i,c,r);case 1:return i=t.type,c=t.pendingProps,c=t.elementType===i?c:kt(i,c),qc(e,t,i,c,r);case 3:e:{if(Wc(t),e===null)throw Error(s(387));i=t.pendingProps,d=t.memoizedState,c=d.element,oc(e,t),ci(t,i,null,r);var g=t.memoizedState;if(i=g.element,d.isDehydrated)if(d={element:i,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){c=an(Error(s(423)),t),t=Vc(e,t,i,r,c);break e}else if(i!==c){c=an(Error(s(424)),t),t=Vc(e,t,i,r,c);break e}else for(dt=Zt(t.stateNode.containerInfo.firstChild),ct=t,Pe=!0,Et=null,r=sc(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(rn(),i===c){t=Mt(e,t,r);break e}Xe(e,t,i,r)}t=t.child}return t;case 5:return uc(t),e===null&&Zo(t),i=t.type,c=t.pendingProps,d=e!==null?e.memoizedProps:null,g=c.children,qo(i,c)?g=null:d!==null&&qo(i,d)&&(t.flags|=32),Hc(e,t),Xe(e,t,g,r),t.child;case 6:return e===null&&Zo(t),null;case 13:return Kc(e,t,r);case 4:return ll(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=nn(t,null,i,r):Xe(e,t,i,r),t.child;case 11:return i=t.type,c=t.pendingProps,c=t.elementType===i?c:kt(i,c),Fc(e,t,i,c,r);case 7:return Xe(e,t,t.pendingProps,r),t.child;case 8:return Xe(e,t,t.pendingProps.children,r),t.child;case 12:return Xe(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,c=t.pendingProps,d=t.memoizedProps,g=c.value,Se(li,i._currentValue),i._currentValue=g,d!==null)if(_t(d.value,g)){if(d.children===c.children&&!tt.current){t=Mt(e,t,r);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var w=d.dependencies;if(w!==null){g=d.child;for(var _=w.firstContext;_!==null;){if(_.context===i){if(d.tag===1){_=Ft(-1,r&-r),_.tag=2;var b=d.updateQueue;if(b!==null){b=b.shared;var I=b.pending;I===null?_.next=_:(_.next=I.next,I.next=_),b.pending=_}}d.lanes|=r,_=d.alternate,_!==null&&(_.lanes|=r),sl(d.return,r,t),w.lanes|=r;break}_=_.next}}else if(d.tag===10)g=d.type===t.type?null:d.child;else if(d.tag===18){if(g=d.return,g===null)throw Error(s(341));g.lanes|=r,w=g.alternate,w!==null&&(w.lanes|=r),sl(g,r,t),g=d.sibling}else g=d.child;if(g!==null)g.return=d;else for(g=d;g!==null;){if(g===t){g=null;break}if(d=g.sibling,d!==null){d.return=g.return,g=d;break}g=g.return}d=g}Xe(e,t,c.children,r),t=t.child}return t;case 9:return c=t.type,i=t.pendingProps.children,on(t,r),c=gt(c),i=i(c),t.flags|=1,Xe(e,t,i,r),t.child;case 14:return i=t.type,c=kt(i,t.pendingProps),c=kt(i.type,c),Mc(e,t,i,c,r);case 15:return zc(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,c=t.pendingProps,c=t.elementType===i?c:kt(i,c),wi(e,t),t.tag=1,rt(i)?(e=!0,ti(t)):e=!1,on(t,r),Oc(t,i,c),xl(t,i,c,r),Sl(null,t,i,!0,e,r);case 19:return Jc(e,t,r);case 22:return Bc(e,t,r)}throw Error(s(156,t.tag))};function wd(e,t){return Xa(e,t)}function zp(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(e,t,r,i){return new zp(e,t,r,i)}function ql(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bp(e){if(typeof e=="function")return ql(e)?1:0;if(e!=null){if(e=e.$$typeof,e===re)return 11;if(e===Y)return 14}return 2}function cr(e,t){var r=e.alternate;return r===null?(r=wt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Pi(e,t,r,i,c,d){var g=2;if(i=e,typeof e=="function")ql(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case le:return Lr(r.children,c,d,t);case fe:g=8,c|=8;break;case _e:return e=wt(12,r,t,c|2),e.elementType=_e,e.lanes=d,e;case Ee:return e=wt(13,r,t,c),e.elementType=Ee,e.lanes=d,e;case U:return e=wt(19,r,t,c),e.elementType=U,e.lanes=d,e;case ae:return Ri(r,c,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ne:g=10;break e;case M:g=9;break e;case re:g=11;break e;case Y:g=14;break e;case he:g=16,i=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=wt(g,r,t,c),t.elementType=e,t.type=i,t.lanes=d,t}function Lr(e,t,r,i){return e=wt(7,e,i,t),e.lanes=r,e}function Ri(e,t,r,i){return e=wt(22,e,i,t),e.elementType=ae,e.lanes=r,e.stateNode={isHidden:!1},e}function Wl(e,t,r){return e=wt(6,e,null,t),e.lanes=r,e}function Vl(e,t,r){return t=wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hp(e,t,r,i,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wo(0),this.expirationTimes=wo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wo(0),this.identifierPrefix=i,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function Kl(e,t,r,i,c,d,g,w,_){return e=new Hp(e,t,r,w,_),t===1?(t=1,d===!0&&(t|=8)):t=0,d=wt(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ol(d),e}function qp(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ye,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function xd(e){if(!e)return tr;e=e._reactInternals;e:{if(_r(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var r=e.type;if(rt(r))return Gu(e,r,t)}return t}function _d(e,t,r,i,c,d,g,w,_){return e=Kl(r,i,!0,e,c,d,g,w,_),e.context=xd(null),r=e.current,i=Ze(),c=ar(r),d=Ft(i,c),d.callback=t??null,sr(r,d,c),e.current.lanes=c,$n(e,c,i),it(e,i),e}function Oi(e,t,r,i){var c=t.current,d=Ze(),g=ar(c);return r=xd(r),t.context===null?t.context=r:t.pendingContext=r,t=Ft(d,g),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=sr(c,t,g),e!==null&&(Nt(e,c,g,d),ui(e,c,g)),g}function Li(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ed(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Gl(e,t){Ed(e,t),(e=e.alternate)&&Ed(e,t)}function Wp(){return null}var kd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Jl(e){this._internalRoot=e}Ai.prototype.render=Jl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));Oi(e,t,null,null)},Ai.prototype.unmount=Jl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pr(function(){Oi(null,e,null,null)}),t[At]=null}};function Ai(e){this._internalRoot=e}Ai.prototype.unstable_scheduleHydration=function(e){if(e){var t=ou();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Qt.length&&t!==0&&t<Qt[r].priority;r++);Qt.splice(r,0,e),r===0&&uu(e)}};function Ql(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ii(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Sd(){}function Vp(e,t,r,i,c){if(c){if(typeof i=="function"){var d=i;i=function(){var b=Li(g);d.call(b)}}var g=_d(t,i,e,0,null,!1,!1,"",Sd);return e._reactRootContainer=g,e[At]=g.current,Qn(e.nodeType===8?e.parentNode:e),Pr(),g}for(;c=e.lastChild;)e.removeChild(c);if(typeof i=="function"){var w=i;i=function(){var b=Li(_);w.call(b)}}var _=Kl(e,0,!1,null,null,!1,!1,"",Sd);return e._reactRootContainer=_,e[At]=_.current,Qn(e.nodeType===8?e.parentNode:e),Pr(function(){Oi(t,_,r,i)}),_}function $i(e,t,r,i,c){var d=r._reactRootContainer;if(d){var g=d;if(typeof c=="function"){var w=c;c=function(){var _=Li(g);w.call(_)}}Oi(t,g,e,c)}else g=Vp(r,t,e,c,i);return Li(g)}su=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=In(t.pendingLanes);r!==0&&(xo(t,r|1),it(t,Ie()),(pe&6)===0&&(dn=Ie()+500,rr()))}break;case 13:Pr(function(){var i=Dt(e,1);if(i!==null){var c=Ze();Nt(i,e,1,c)}}),Gl(e,1)}},_o=function(e){if(e.tag===13){var t=Dt(e,134217728);if(t!==null){var r=Ze();Nt(t,e,134217728,r)}Gl(e,134217728)}},iu=function(e){if(e.tag===13){var t=ar(e),r=Dt(e,t);if(r!==null){var i=Ze();Nt(r,e,t,i)}Gl(e,t)}},ou=function(){return xe},lu=function(e,t){var r=xe;try{return xe=e,t()}finally{xe=r}},ho=function(e,t,r){switch(t){case"input":if(so(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var c=Zs(i);if(!c)throw Error(s(90));Ra(i),so(i,c)}}}break;case"textarea":$a(e,r);break;case"select":t=r.value,t!=null&&zr(e,!!r.multiple,t,!1)}},Wa=zl,Va=Pr;var Kp={usingClientEntryPoint:!1,Events:[Zn,Yr,Zs,Ha,qa,zl]},hs={findFiberByHostInstance:Er,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gp={bundleType:hs.bundleType,version:hs.version,rendererPackageName:hs.rendererPackageName,rendererConfig:hs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:J.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qa(e),e===null?null:e.stateNode},findFiberByHostInstance:hs.findFiberByHostInstance||Wp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ui=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ui.isDisabled&&Ui.supportsFiber)try{As=Ui.inject(Gp),bt=Ui}catch{}}return ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kp,ot.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ql(t))throw Error(s(200));return qp(e,t,null,r)},ot.createRoot=function(e,t){if(!Ql(e))throw Error(s(299));var r=!1,i="",c=kd;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=Kl(e,1,!1,null,null,r,!1,i,c),e[At]=t.current,Qn(e.nodeType===8?e.parentNode:e),new Jl(t)},ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Qa(t),e=e===null?null:e.stateNode,e},ot.flushSync=function(e){return Pr(e)},ot.hydrate=function(e,t,r){if(!Ii(t))throw Error(s(200));return $i(null,e,t,!0,r)},ot.hydrateRoot=function(e,t,r){if(!Ql(e))throw Error(s(405));var i=r!=null&&r.hydratedSources||null,c=!1,d="",g=kd;if(r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onRecoverableError!==void 0&&(g=r.onRecoverableError)),t=_d(t,null,e,1,r??null,c,!1,d,g),e[At]=t.current,Qn(e),i)for(e=0;e<i.length;e++)r=i[e],c=r._getVersion,c=c(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,c]:t.mutableSourceEagerHydrationData.push(r,c);return new Ai(t)},ot.render=function(e,t,r){if(!Ii(t))throw Error(s(200));return $i(null,e,t,!1,r)},ot.unmountComponentAtNode=function(e){if(!Ii(e))throw Error(s(40));return e._reactRootContainer?(Pr(function(){$i(null,null,e,!1,function(){e._reactRootContainer=null,e[At]=null})}),!0):!1},ot.unstable_batchedUpdates=zl,ot.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!Ii(r))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return $i(e,t,r,!1,i)},ot.version="18.3.1-next-f1338f8080-20240426",ot}var Od;function yf(){if(Od)return Zl.exports;Od=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(n){console.error(n)}}return o(),Zl.exports=sm(),Zl.exports}var Ld;function im(){if(Ld)return Di;Ld=1;var o=yf();return Di.createRoot=o.createRoot,Di.hydrateRoot=o.hydrateRoot,Di}var om=im();yf();/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Es(){return Es=Object.assign?Object.assign.bind():function(o){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(o[l]=s[l])}return o},Es.apply(this,arguments)}var vr;(function(o){o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE"})(vr||(vr={}));const Ad="popstate";function lm(o){o===void 0&&(o={});function n(l,a){let{pathname:u,search:f,hash:p}=l.location;return la("",{pathname:u,search:f,hash:p},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(l,a){return typeof a=="string"?a:Ji(a)}return um(n,s,null,o)}function Ue(o,n){if(o===!1||o===null||typeof o>"u")throw new Error(n)}function wf(o,n){if(!o){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function am(){return Math.random().toString(36).substr(2,8)}function Id(o,n){return{usr:o.state,key:o.key,idx:n}}function la(o,n,s,l){return s===void 0&&(s=null),Es({pathname:typeof o=="string"?o:o.pathname,search:"",hash:""},typeof n=="string"?jn(n):n,{state:s,key:n&&n.key||l||am()})}function Ji(o){let{pathname:n="/",search:s="",hash:l=""}=o;return s&&s!=="?"&&(n+=s.charAt(0)==="?"?s:"?"+s),l&&l!=="#"&&(n+=l.charAt(0)==="#"?l:"#"+l),n}function jn(o){let n={};if(o){let s=o.indexOf("#");s>=0&&(n.hash=o.substr(s),o=o.substr(0,s));let l=o.indexOf("?");l>=0&&(n.search=o.substr(l),o=o.substr(0,l)),o&&(n.pathname=o)}return n}function um(o,n,s,l){l===void 0&&(l={});let{window:a=document.defaultView,v5Compat:u=!1}=l,f=a.history,p=vr.Pop,m=null,v=y();v==null&&(v=0,f.replaceState(Es({},f.state,{idx:v}),""));function y(){return(f.state||{idx:null}).idx}function x(){p=vr.Pop;let P=y(),D=P==null?null:P-v;v=P,m&&m({action:p,location:R.location,delta:D})}function k(P,D){p=vr.Push;let Z=la(R.location,P,D);v=y()+1;let B=Id(Z,v),J=R.createHref(Z);try{f.pushState(B,"",J)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;a.location.assign(J)}u&&m&&m({action:p,location:R.location,delta:1})}function T(P,D){p=vr.Replace;let Z=la(R.location,P,D);v=y();let B=Id(Z,v),J=R.createHref(Z);f.replaceState(B,"",J),u&&m&&m({action:p,location:R.location,delta:0})}function O(P){let D=a.location.origin!=="null"?a.location.origin:a.location.href,Z=typeof P=="string"?P:Ji(P);return Z=Z.replace(/ $/,"%20"),Ue(D,"No window.location.(origin|href) available to create URL for href: "+Z),new URL(Z,D)}let R={get action(){return p},get location(){return o(a,f)},listen(P){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(Ad,x),m=P,()=>{a.removeEventListener(Ad,x),m=null}},createHref(P){return n(a,P)},createURL:O,encodeLocation(P){let D=O(P);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:k,replace:T,go(P){return f.go(P)}};return R}var $d;(function(o){o.data="data",o.deferred="deferred",o.redirect="redirect",o.error="error"})($d||($d={}));function cm(o,n,s){return s===void 0&&(s="/"),dm(o,n,s)}function dm(o,n,s,l){let a=typeof n=="string"?jn(n):n,u=Ea(a.pathname||"/",s);if(u==null)return null;let f=xf(o);fm(f);let p=null;for(let m=0;p==null&&m<f.length;++m){let v=Sm(u);p=_m(f[m],v)}return p}function xf(o,n,s,l){n===void 0&&(n=[]),s===void 0&&(s=[]),l===void 0&&(l="");let a=(u,f,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};m.relativePath.startsWith("/")&&(Ue(m.relativePath.startsWith(l),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+l+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(l.length));let v=yr([l,m.relativePath]),y=s.concat(m);u.children&&u.children.length>0&&(Ue(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),xf(u.children,n,y,v)),!(u.path==null&&!u.index)&&n.push({path:v,score:wm(v,u.index),routesMeta:y})};return o.forEach((u,f)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))a(u,f);else for(let m of _f(u.path))a(u,f,m)}),n}function _f(o){let n=o.split("/");if(n.length===0)return[];let[s,...l]=n,a=s.endsWith("?"),u=s.replace(/\?$/,"");if(l.length===0)return a?[u,""]:[u];let f=_f(l.join("/")),p=[];return p.push(...f.map(m=>m===""?u:[u,m].join("/"))),a&&p.push(...f),p.map(m=>o.startsWith("/")&&m===""?"/":m)}function fm(o){o.sort((n,s)=>n.score!==s.score?s.score-n.score:xm(n.routesMeta.map(l=>l.childrenIndex),s.routesMeta.map(l=>l.childrenIndex)))}const hm=/^:[\w-]+$/,pm=3,mm=2,gm=1,vm=10,ym=-2,Ud=o=>o==="*";function wm(o,n){let s=o.split("/"),l=s.length;return s.some(Ud)&&(l+=ym),n&&(l+=mm),s.filter(a=>!Ud(a)).reduce((a,u)=>a+(hm.test(u)?pm:u===""?gm:vm),l)}function xm(o,n){return o.length===n.length&&o.slice(0,-1).every((l,a)=>l===n[a])?o[o.length-1]-n[n.length-1]:0}function _m(o,n,s){let{routesMeta:l}=o,a={},u="/",f=[];for(let p=0;p<l.length;++p){let m=l[p],v=p===l.length-1,y=u==="/"?n:n.slice(u.length)||"/",x=Em({path:m.relativePath,caseSensitive:m.caseSensitive,end:v},y),k=m.route;if(!x)return null;Object.assign(a,x.params),f.push({params:a,pathname:yr([u,x.pathname]),pathnameBase:bm(yr([u,x.pathnameBase])),route:k}),x.pathnameBase!=="/"&&(u=yr([u,x.pathnameBase]))}return f}function Em(o,n){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[s,l]=km(o.path,o.caseSensitive,o.end),a=n.match(s);if(!a)return null;let u=a[0],f=u.replace(/(.)\/+$/,"$1"),p=a.slice(1);return{params:l.reduce((v,y,x)=>{let{paramName:k,isOptional:T}=y;if(k==="*"){let R=p[x]||"";f=u.slice(0,u.length-R.length).replace(/(.)\/+$/,"$1")}const O=p[x];return T&&!O?v[k]=void 0:v[k]=(O||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:f,pattern:o}}function km(o,n,s){n===void 0&&(n=!1),s===void 0&&(s=!0),wf(o==="*"||!o.endsWith("*")||o.endsWith("/*"),'Route path "'+o+'" will be treated as if it were '+('"'+o.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+o.replace(/\*$/,"/*")+'".'));let l=[],a="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,m)=>(l.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?(l.push({paramName:"*"}),a+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":o!==""&&o!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,n?void 0:"i"),l]}function Sm(o){try{return o.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return wf(!1,'The URL path "'+o+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),o}}function Ea(o,n){if(n==="/")return o;if(!o.toLowerCase().startsWith(n.toLowerCase()))return null;let s=n.endsWith("/")?n.length-1:n.length,l=o.charAt(s);return l&&l!=="/"?null:o.slice(s)||"/"}function jm(o,n){n===void 0&&(n="/");let{pathname:s,search:l="",hash:a=""}=typeof o=="string"?jn(o):o;return{pathname:s?s.startsWith("/")?s:Nm(s,n):n,search:Tm(l),hash:Pm(a)}}function Nm(o,n){let s=n.replace(/\/+$/,"").split("/");return o.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function ra(o,n,s,l){return"Cannot include a '"+o+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(l)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Cm(o){return o.filter((n,s)=>s===0||n.route.path&&n.route.path.length>0)}function ka(o,n){let s=Cm(o);return n?s.map((l,a)=>a===s.length-1?l.pathname:l.pathnameBase):s.map(l=>l.pathnameBase)}function Sa(o,n,s,l){l===void 0&&(l=!1);let a;typeof o=="string"?a=jn(o):(a=Es({},o),Ue(!a.pathname||!a.pathname.includes("?"),ra("?","pathname","search",a)),Ue(!a.pathname||!a.pathname.includes("#"),ra("#","pathname","hash",a)),Ue(!a.search||!a.search.includes("#"),ra("#","search","hash",a)));let u=o===""||a.pathname==="",f=u?"/":a.pathname,p;if(f==null)p=s;else{let x=n.length-1;if(!l&&f.startsWith("..")){let k=f.split("/");for(;k[0]==="..";)k.shift(),x-=1;a.pathname=k.join("/")}p=x>=0?n[x]:"/"}let m=jm(a,p),v=f&&f!=="/"&&f.endsWith("/"),y=(u||f===".")&&s.endsWith("/");return!m.pathname.endsWith("/")&&(v||y)&&(m.pathname+="/"),m}const yr=o=>o.join("/").replace(/\/\/+/g,"/"),bm=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),Tm=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,Pm=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function Rm(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}const Ef=["post","put","patch","delete"];new Set(Ef);const Om=["get",...Ef];new Set(Om);/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ks(){return ks=Object.assign?Object.assign.bind():function(o){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(o[l]=s[l])}return o},ks.apply(this,arguments)}const ja=j.createContext(null),Lm=j.createContext(null),wr=j.createContext(null),Zi=j.createContext(null),Vt=j.createContext({outlet:null,matches:[],isDataRoute:!1}),kf=j.createContext(null);function Am(o,n){let{relative:s}=n===void 0?{}:n;Nn()||Ue(!1);let{basename:l,navigator:a}=j.useContext(wr),{hash:u,pathname:f,search:p}=jf(o,{relative:s}),m=f;return l!=="/"&&(m=f==="/"?l:yr([l,f])),a.createHref({pathname:m,search:p,hash:u})}function Nn(){return j.useContext(Zi)!=null}function Cn(){return Nn()||Ue(!1),j.useContext(Zi).location}function Sf(o){j.useContext(wr).static||j.useLayoutEffect(o)}function eo(){let{isDataRoute:o}=j.useContext(Vt);return o?Gm():Im()}function Im(){Nn()||Ue(!1);let o=j.useContext(ja),{basename:n,future:s,navigator:l}=j.useContext(wr),{matches:a}=j.useContext(Vt),{pathname:u}=Cn(),f=JSON.stringify(ka(a,s.v7_relativeSplatPath)),p=j.useRef(!1);return Sf(()=>{p.current=!0}),j.useCallback(function(v,y){if(y===void 0&&(y={}),!p.current)return;if(typeof v=="number"){l.go(v);return}let x=Sa(v,JSON.parse(f),u,y.relative==="path");o==null&&n!=="/"&&(x.pathname=x.pathname==="/"?n:yr([n,x.pathname])),(y.replace?l.replace:l.push)(x,y.state,y)},[n,l,f,u,o])}function $m(){let{matches:o}=j.useContext(Vt),n=o[o.length-1];return n?n.params:{}}function jf(o,n){let{relative:s}=n===void 0?{}:n,{future:l}=j.useContext(wr),{matches:a}=j.useContext(Vt),{pathname:u}=Cn(),f=JSON.stringify(ka(a,l.v7_relativeSplatPath));return j.useMemo(()=>Sa(o,JSON.parse(f),u,s==="path"),[o,f,u,s])}function Um(o,n){return Dm(o,n)}function Dm(o,n,s,l){Nn()||Ue(!1);let{navigator:a,static:u}=j.useContext(wr),{matches:f}=j.useContext(Vt),p=f[f.length-1],m=p?p.params:{};p&&p.pathname;let v=p?p.pathnameBase:"/";p&&p.route;let y=Cn(),x;if(n){var k;let D=typeof n=="string"?jn(n):n;v==="/"||(k=D.pathname)!=null&&k.startsWith(v)||Ue(!1),x=D}else x=y;let T=x.pathname||"/",O=T;if(v!=="/"){let D=v.replace(/^\//,"").split("/");O="/"+T.replace(/^\//,"").split("/").slice(D.length).join("/")}let R=cm(o,{pathname:O}),P=Hm(R&&R.map(D=>Object.assign({},D,{params:Object.assign({},m,D.params),pathname:yr([v,a.encodeLocation?a.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?v:yr([v,a.encodeLocation?a.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),f,s,l);return n&&P?j.createElement(Zi.Provider,{value:{location:ks({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:vr.Pop}},P):P}function Fm(){let o=Km(),n=Rm(o)?o.status+" "+o.statusText:o instanceof Error?o.message:JSON.stringify(o),s=o instanceof Error?o.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},n),s?j.createElement("pre",{style:a},s):null,null)}const Mm=j.createElement(Fm,null);class zm extends j.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,s){return s.location!==n.location||s.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:s.error,location:s.location,revalidation:n.revalidation||s.revalidation}}componentDidCatch(n,s){console.error("React Router caught the following error during render",n,s)}render(){return this.state.error!==void 0?j.createElement(Vt.Provider,{value:this.props.routeContext},j.createElement(kf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Bm(o){let{routeContext:n,match:s,children:l}=o,a=j.useContext(ja);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),j.createElement(Vt.Provider,{value:n},l)}function Hm(o,n,s,l){var a;if(n===void 0&&(n=[]),s===void 0&&(s=null),l===void 0&&(l=null),o==null){var u;if(!s)return null;if(s.errors)o=s.matches;else if((u=l)!=null&&u.v7_partialHydration&&n.length===0&&!s.initialized&&s.matches.length>0)o=s.matches;else return null}let f=o,p=(a=s)==null?void 0:a.errors;if(p!=null){let y=f.findIndex(x=>x.route.id&&(p==null?void 0:p[x.route.id])!==void 0);y>=0||Ue(!1),f=f.slice(0,Math.min(f.length,y+1))}let m=!1,v=-1;if(s&&l&&l.v7_partialHydration)for(let y=0;y<f.length;y++){let x=f[y];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(v=y),x.route.id){let{loaderData:k,errors:T}=s,O=x.route.loader&&k[x.route.id]===void 0&&(!T||T[x.route.id]===void 0);if(x.route.lazy||O){m=!0,v>=0?f=f.slice(0,v+1):f=[f[0]];break}}}return f.reduceRight((y,x,k)=>{let T,O=!1,R=null,P=null;s&&(T=p&&x.route.id?p[x.route.id]:void 0,R=x.route.errorElement||Mm,m&&(v<0&&k===0?(Jm("route-fallback"),O=!0,P=null):v===k&&(O=!0,P=x.route.hydrateFallbackElement||null)));let D=n.concat(f.slice(0,k+1)),Z=()=>{let B;return T?B=R:O?B=P:x.route.Component?B=j.createElement(x.route.Component,null):x.route.element?B=x.route.element:B=y,j.createElement(Bm,{match:x,routeContext:{outlet:y,matches:D,isDataRoute:s!=null},children:B})};return s&&(x.route.ErrorBoundary||x.route.errorElement||k===0)?j.createElement(zm,{location:s.location,revalidation:s.revalidation,component:R,error:T,children:Z(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):Z()},null)}var Nf=function(o){return o.UseBlocker="useBlocker",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o}(Nf||{}),Cf=function(o){return o.UseBlocker="useBlocker",o.UseLoaderData="useLoaderData",o.UseActionData="useActionData",o.UseRouteError="useRouteError",o.UseNavigation="useNavigation",o.UseRouteLoaderData="useRouteLoaderData",o.UseMatches="useMatches",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o.UseRouteId="useRouteId",o}(Cf||{});function qm(o){let n=j.useContext(ja);return n||Ue(!1),n}function Wm(o){let n=j.useContext(Lm);return n||Ue(!1),n}function Vm(o){let n=j.useContext(Vt);return n||Ue(!1),n}function bf(o){let n=Vm(),s=n.matches[n.matches.length-1];return s.route.id||Ue(!1),s.route.id}function Km(){var o;let n=j.useContext(kf),s=Wm(),l=bf();return n!==void 0?n:(o=s.errors)==null?void 0:o[l]}function Gm(){let{router:o}=qm(Nf.UseNavigateStable),n=bf(Cf.UseNavigateStable),s=j.useRef(!1);return Sf(()=>{s.current=!0}),j.useCallback(function(a,u){u===void 0&&(u={}),s.current&&(typeof a=="number"?o.navigate(a):o.navigate(a,ks({fromRouteId:n},u)))},[o,n])}const Dd={};function Jm(o,n,s){Dd[o]||(Dd[o]=!0)}function Qm(o,n){o==null||o.v7_startTransition,o==null||o.v7_relativeSplatPath}function Ym(o){let{to:n,replace:s,state:l,relative:a}=o;Nn()||Ue(!1);let{future:u,static:f}=j.useContext(wr),{matches:p}=j.useContext(Vt),{pathname:m}=Cn(),v=eo(),y=Sa(n,ka(p,u.v7_relativeSplatPath),m,a==="path"),x=JSON.stringify(y);return j.useEffect(()=>v(JSON.parse(x),{replace:s,state:l,relative:a}),[v,x,a,s,l]),null}function Ht(o){Ue(!1)}function Xm(o){let{basename:n="/",children:s=null,location:l,navigationType:a=vr.Pop,navigator:u,static:f=!1,future:p}=o;Nn()&&Ue(!1);let m=n.replace(/^\/*/,"/"),v=j.useMemo(()=>({basename:m,navigator:u,static:f,future:ks({v7_relativeSplatPath:!1},p)}),[m,p,u,f]);typeof l=="string"&&(l=jn(l));let{pathname:y="/",search:x="",hash:k="",state:T=null,key:O="default"}=l,R=j.useMemo(()=>{let P=Ea(y,m);return P==null?null:{location:{pathname:P,search:x,hash:k,state:T,key:O},navigationType:a}},[m,y,x,k,T,O,a]);return R==null?null:j.createElement(wr.Provider,{value:v},j.createElement(Zi.Provider,{children:s,value:R}))}function Fd(o){let{children:n,location:s}=o;return Um(aa(n),s)}new Promise(()=>{});function aa(o,n){n===void 0&&(n=[]);let s=[];return j.Children.forEach(o,(l,a)=>{if(!j.isValidElement(l))return;let u=[...n,a];if(l.type===j.Fragment){s.push.apply(s,aa(l.props.children,u));return}l.type!==Ht&&Ue(!1),!l.props.index||!l.props.children||Ue(!1);let f={id:l.props.id||u.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(f.children=aa(l.props.children,u)),s.push(f)}),s}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ua(){return ua=Object.assign?Object.assign.bind():function(o){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(o[l]=s[l])}return o},ua.apply(this,arguments)}function Zm(o,n){if(o==null)return{};var s={},l=Object.keys(o),a,u;for(u=0;u<l.length;u++)a=l[u],!(n.indexOf(a)>=0)&&(s[a]=o[a]);return s}function eg(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function tg(o,n){return o.button===0&&(!n||n==="_self")&&!eg(o)}const rg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ng="6";try{window.__reactRouterVersion=ng}catch{}const sg="startTransition",Md=tm[sg];function ig(o){let{basename:n,children:s,future:l,window:a}=o,u=j.useRef();u.current==null&&(u.current=lm({window:a,v5Compat:!0}));let f=u.current,[p,m]=j.useState({action:f.action,location:f.location}),{v7_startTransition:v}=l||{},y=j.useCallback(x=>{v&&Md?Md(()=>m(x)):m(x)},[m,v]);return j.useLayoutEffect(()=>f.listen(y),[f,y]),j.useEffect(()=>Qm(l),[l]),j.createElement(Xm,{basename:n,children:s,location:p.location,navigationType:p.action,navigator:f,future:l})}const og=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_n=j.forwardRef(function(n,s){let{onClick:l,relative:a,reloadDocument:u,replace:f,state:p,target:m,to:v,preventScrollReset:y,viewTransition:x}=n,k=Zm(n,rg),{basename:T}=j.useContext(wr),O,R=!1;if(typeof v=="string"&&lg.test(v)&&(O=v,og))try{let B=new URL(window.location.href),J=v.startsWith("//")?new URL(B.protocol+v):new URL(v),X=Ea(J.pathname,T);J.origin===B.origin&&X!=null?v=X+J.search+J.hash:R=!0}catch{}let P=Am(v,{relative:a}),D=ag(v,{replace:f,state:p,target:m,preventScrollReset:y,relative:a,viewTransition:x});function Z(B){l&&l(B),B.defaultPrevented||D(B)}return j.createElement("a",ua({},k,{href:O||P,onClick:R||u?l:Z,ref:s,target:m}))});var zd;(function(o){o.UseScrollRestoration="useScrollRestoration",o.UseSubmit="useSubmit",o.UseSubmitFetcher="useSubmitFetcher",o.UseFetcher="useFetcher",o.useViewTransitionState="useViewTransitionState"})(zd||(zd={}));var Bd;(function(o){o.UseFetcher="useFetcher",o.UseFetchers="useFetchers",o.UseScrollRestoration="useScrollRestoration"})(Bd||(Bd={}));function ag(o,n){let{target:s,replace:l,state:a,preventScrollReset:u,relative:f,viewTransition:p}=n===void 0?{}:n,m=eo(),v=Cn(),y=jf(o,{relative:f});return j.useCallback(x=>{if(tg(x,s)){x.preventDefault();let k=l!==void 0?l:Ji(v)===Ji(y);m(o,{replace:k,state:a,preventScrollReset:u,relative:f,viewTransition:p})}},[v,m,y,l,a,s,o,u,f,p])}const ug="modulepreload",cg=function(o){return"/unihive/"+o},Hd={},kn=function(n,s,l){let a=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));a=Promise.allSettled(s.map(m=>{if(m=cg(m),m in Hd)return;Hd[m]=!0;const v=m.endsWith(".css"),y=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${y}`))return;const x=document.createElement("link");if(x.rel=v?"stylesheet":ug,v||(x.as="script"),x.crossOrigin="",x.href=m,p&&x.setAttribute("nonce",p),document.head.appendChild(x),v)return new Promise((k,T)=>{x.addEventListener("load",k),x.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${m}`)))})}))}function u(f){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f}return a.then(f=>{for(const p of f||[])p.status==="rejected"&&u(p.reason);return n().catch(u)})},dg=o=>{let n;return o?n=o:typeof fetch>"u"?n=(...s)=>kn(async()=>{const{default:l}=await Promise.resolve().then(()=>bn);return{default:l}},void 0).then(({default:l})=>l(...s)):n=fetch,(...s)=>n(...s)};class Na extends Error{constructor(n,s="FunctionsError",l){super(n),this.name=s,this.context=l}}class fg extends Na{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class hg extends Na{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class pg extends Na{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var ca;(function(o){o.Any="any",o.ApNortheast1="ap-northeast-1",o.ApNortheast2="ap-northeast-2",o.ApSouth1="ap-south-1",o.ApSoutheast1="ap-southeast-1",o.ApSoutheast2="ap-southeast-2",o.CaCentral1="ca-central-1",o.EuCentral1="eu-central-1",o.EuWest1="eu-west-1",o.EuWest2="eu-west-2",o.EuWest3="eu-west-3",o.SaEast1="sa-east-1",o.UsEast1="us-east-1",o.UsWest1="us-west-1",o.UsWest2="us-west-2"})(ca||(ca={}));var mg=function(o,n,s,l){function a(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function p(y){try{v(l.next(y))}catch(x){f(x)}}function m(y){try{v(l.throw(y))}catch(x){f(x)}}function v(y){y.done?u(y.value):a(y.value).then(p,m)}v((l=l.apply(o,n||[])).next())})};class gg{constructor(n,{headers:s={},customFetch:l,region:a=ca.Any}={}){this.url=n,this.headers=s,this.region=a,this.fetch=dg(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,s={}){var l;return mg(this,void 0,void 0,function*(){try{const{headers:a,method:u,body:f}=s;let p={},{region:m}=s;m||(m=this.region),m&&m!=="any"&&(p["x-region"]=m);let v;f&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",v=f):typeof f=="string"?(p["Content-Type"]="text/plain",v=f):typeof FormData<"u"&&f instanceof FormData?v=f:(p["Content-Type"]="application/json",v=JSON.stringify(f)));const y=yield this.fetch(`${this.url}/${n}`,{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:v}).catch(O=>{throw new fg(O)}),x=y.headers.get("x-relay-error");if(x&&x==="true")throw new hg(y);if(!y.ok)throw new pg(y);let k=((l=y.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),T;return k==="application/json"?T=yield y.json():k==="application/octet-stream"?T=yield y.blob():k==="text/event-stream"?T=y:k==="multipart/form-data"?T=yield y.formData():T=yield y.text(),{data:T,error:null}}catch(a){return{data:null,error:a}}})}}var qe={},hn={},pn={},mn={},gn={},vn={},vg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Sn=vg();const yg=Sn.fetch,Tf=Sn.fetch.bind(Sn),Pf=Sn.Headers,wg=Sn.Request,xg=Sn.Response,bn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Pf,Request:wg,Response:xg,default:Tf,fetch:yg},Symbol.toStringTag,{value:"Module"})),_g=Yp(bn);var Fi={},qd;function Rf(){if(qd)return Fi;qd=1,Object.defineProperty(Fi,"__esModule",{value:!0});class o extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Fi.default=o,Fi}var Wd;function Of(){if(Wd)return vn;Wd=1;var o=vn&&vn.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(vn,"__esModule",{value:!0});const n=o(_g),s=o(Rf());class l{constructor(u){this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=u.headers,this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=u.shouldThrowOnError,this.signal=u.signal,this.isMaybeSingle=u.isMaybeSingle,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,f){return this.headers=Object.assign({},this.headers),this.headers[u]=f,this}then(u,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const p=this.fetch;let m=p(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async v=>{var y,x,k;let T=null,O=null,R=null,P=v.status,D=v.statusText;if(v.ok){if(this.method!=="HEAD"){const X=await v.text();X===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?O=X:O=JSON.parse(X))}const B=(y=this.headers.Prefer)===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),J=(x=v.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");B&&J&&J.length>1&&(R=parseInt(J[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(O)&&(O.length>1?(T={code:"PGRST116",details:`Results contain ${O.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},O=null,R=null,P=406,D="Not Acceptable"):O.length===1?O=O[0]:O=null)}else{const B=await v.text();try{T=JSON.parse(B),Array.isArray(T)&&v.status===404&&(O=[],T=null,P=200,D="OK")}catch{v.status===404&&B===""?(P=204,D="No Content"):T={message:B}}if(T&&this.isMaybeSingle&&(!((k=T==null?void 0:T.details)===null||k===void 0)&&k.includes("0 rows"))&&(T=null,P=200,D="OK"),T&&this.shouldThrowOnError)throw new s.default(T)}return{error:T,data:O,count:R,status:P,statusText:D}});return this.shouldThrowOnError||(m=m.catch(v=>{var y,x,k;return{error:{message:`${(y=v==null?void 0:v.name)!==null&&y!==void 0?y:"FetchError"}: ${v==null?void 0:v.message}`,details:`${(x=v==null?void 0:v.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(k=v==null?void 0:v.code)!==null&&k!==void 0?k:""}`},data:null,count:null,status:0,statusText:""}})),m.then(u,f)}}return vn.default=l,vn}var Vd;function Lf(){if(Vd)return gn;Vd=1;var o=gn&&gn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(gn,"__esModule",{value:!0});const n=o(Of());class s extends n.default{select(a){let u=!1;const f=(a??"*").split("").map(p=>/\s/.test(p)&&!u?"":(p==='"'&&(u=!u),p)).join("");return this.url.searchParams.set("select",f),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:u=!0,nullsFirst:f,foreignTable:p,referencedTable:m=p}={}){const v=m?`${m}.order`:"order",y=this.url.searchParams.get(v);return this.url.searchParams.set(v,`${y?`${y},`:""}${a}.${u?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:u,referencedTable:f=u}={}){const p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${a}`),this}range(a,u,{foreignTable:f,referencedTable:p=f}={}){const m=typeof p>"u"?"offset":`${p}.offset`,v=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(m,`${a}`),this.url.searchParams.set(v,`${u-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:u=!1,settings:f=!1,buffers:p=!1,wal:m=!1,format:v="text"}={}){var y;const x=[a?"analyze":null,u?"verbose":null,f?"settings":null,p?"buffers":null,m?"wal":null].filter(Boolean).join("|"),k=(y=this.headers.Accept)!==null&&y!==void 0?y:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${v}; for="${k}"; options=${x};`,v==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return gn.default=s,gn}var Kd;function Ca(){if(Kd)return mn;Kd=1;var o=mn&&mn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(mn,"__esModule",{value:!0});const n=o(Lf());class s extends n.default{eq(a,u){return this.url.searchParams.append(a,`eq.${u}`),this}neq(a,u){return this.url.searchParams.append(a,`neq.${u}`),this}gt(a,u){return this.url.searchParams.append(a,`gt.${u}`),this}gte(a,u){return this.url.searchParams.append(a,`gte.${u}`),this}lt(a,u){return this.url.searchParams.append(a,`lt.${u}`),this}lte(a,u){return this.url.searchParams.append(a,`lte.${u}`),this}like(a,u){return this.url.searchParams.append(a,`like.${u}`),this}likeAllOf(a,u){return this.url.searchParams.append(a,`like(all).{${u.join(",")}}`),this}likeAnyOf(a,u){return this.url.searchParams.append(a,`like(any).{${u.join(",")}}`),this}ilike(a,u){return this.url.searchParams.append(a,`ilike.${u}`),this}ilikeAllOf(a,u){return this.url.searchParams.append(a,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(a,u){return this.url.searchParams.append(a,`ilike(any).{${u.join(",")}}`),this}is(a,u){return this.url.searchParams.append(a,`is.${u}`),this}in(a,u){const f=Array.from(new Set(u)).map(p=>typeof p=="string"&&new RegExp("[,()]").test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(a,`in.(${f})`),this}contains(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cs.{${u.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(u)}`),this}containedBy(a,u){return typeof u=="string"?this.url.searchParams.append(a,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(a,`cd.{${u.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(u)}`),this}rangeGt(a,u){return this.url.searchParams.append(a,`sr.${u}`),this}rangeGte(a,u){return this.url.searchParams.append(a,`nxl.${u}`),this}rangeLt(a,u){return this.url.searchParams.append(a,`sl.${u}`),this}rangeLte(a,u){return this.url.searchParams.append(a,`nxr.${u}`),this}rangeAdjacent(a,u){return this.url.searchParams.append(a,`adj.${u}`),this}overlaps(a,u){return typeof u=="string"?this.url.searchParams.append(a,`ov.${u}`):this.url.searchParams.append(a,`ov.{${u.join(",")}}`),this}textSearch(a,u,{config:f,type:p}={}){let m="";p==="plain"?m="pl":p==="phrase"?m="ph":p==="websearch"&&(m="w");const v=f===void 0?"":`(${f})`;return this.url.searchParams.append(a,`${m}fts${v}.${u}`),this}match(a){return Object.entries(a).forEach(([u,f])=>{this.url.searchParams.append(u,`eq.${f}`)}),this}not(a,u,f){return this.url.searchParams.append(a,`not.${u}.${f}`),this}or(a,{foreignTable:u,referencedTable:f=u}={}){const p=f?`${f}.or`:"or";return this.url.searchParams.append(p,`(${a})`),this}filter(a,u,f){return this.url.searchParams.append(a,`${u}.${f}`),this}}return mn.default=s,mn}var Gd;function Af(){if(Gd)return pn;Gd=1;var o=pn&&pn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(pn,"__esModule",{value:!0});const n=o(Ca());class s{constructor(a,{headers:u={},schema:f,fetch:p}){this.url=a,this.headers=u,this.schema=f,this.fetch=p}select(a,{head:u=!1,count:f}={}){const p=u?"HEAD":"GET";let m=!1;const v=(a??"*").split("").map(y=>/\s/.test(y)&&!m?"":(y==='"'&&(m=!m),y)).join("");return this.url.searchParams.set("select",v),f&&(this.headers.Prefer=`count=${f}`),new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:u,defaultToNull:f=!0}={}){const p="POST",m=[];if(this.headers.Prefer&&m.push(this.headers.Prefer),u&&m.push(`count=${u}`),f||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(a)){const v=a.reduce((y,x)=>y.concat(Object.keys(x)),[]);if(v.length>0){const y=[...new Set(v)].map(x=>`"${x}"`);this.url.searchParams.set("columns",y.join(","))}}return new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:u,ignoreDuplicates:f=!1,count:p,defaultToNull:m=!0}={}){const v="POST",y=[`resolution=${f?"ignore":"merge"}-duplicates`];if(u!==void 0&&this.url.searchParams.set("on_conflict",u),this.headers.Prefer&&y.push(this.headers.Prefer),p&&y.push(`count=${p}`),m||y.push("missing=default"),this.headers.Prefer=y.join(","),Array.isArray(a)){const x=a.reduce((k,T)=>k.concat(Object.keys(T)),[]);if(x.length>0){const k=[...new Set(x)].map(T=>`"${T}"`);this.url.searchParams.set("columns",k.join(","))}}return new n.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:u}={}){const f="PATCH",p=[];return this.headers.Prefer&&p.push(this.headers.Prefer),u&&p.push(`count=${u}`),this.headers.Prefer=p.join(","),new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const u="DELETE",f=[];return a&&f.push(`count=${a}`),this.headers.Prefer&&f.unshift(this.headers.Prefer),this.headers.Prefer=f.join(","),new n.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return pn.default=s,pn}var ms={},gs={},Jd;function Eg(){return Jd||(Jd=1,Object.defineProperty(gs,"__esModule",{value:!0}),gs.version=void 0,gs.version="0.0.0-automated"),gs}var Qd;function kg(){if(Qd)return ms;Qd=1,Object.defineProperty(ms,"__esModule",{value:!0}),ms.DEFAULT_HEADERS=void 0;const o=Eg();return ms.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${o.version}`},ms}var Yd;function Sg(){if(Yd)return hn;Yd=1;var o=hn&&hn.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(hn,"__esModule",{value:!0});const n=o(Af()),s=o(Ca()),l=kg();class a{constructor(f,{headers:p={},schema:m,fetch:v}={}){this.url=f,this.headers=Object.assign(Object.assign({},l.DEFAULT_HEADERS),p),this.schemaName=m,this.fetch=v}from(f){const p=new URL(`${this.url}/${f}`);return new n.default(p,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(f){return new a(this.url,{headers:this.headers,schema:f,fetch:this.fetch})}rpc(f,p={},{head:m=!1,get:v=!1,count:y}={}){let x;const k=new URL(`${this.url}/rpc/${f}`);let T;m||v?(x=m?"HEAD":"GET",Object.entries(p).filter(([R,P])=>P!==void 0).map(([R,P])=>[R,Array.isArray(P)?`{${P.join(",")}}`:`${P}`]).forEach(([R,P])=>{k.searchParams.append(R,P)})):(x="POST",T=p);const O=Object.assign({},this.headers);return y&&(O.Prefer=`count=${y}`),new s.default({method:x,url:k,headers:O,schema:this.schemaName,body:T,fetch:this.fetch,allowEmpty:!1})}}return hn.default=a,hn}var Xd;function jg(){if(Xd)return qe;Xd=1;var o=qe&&qe.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(qe,"__esModule",{value:!0}),qe.PostgrestError=qe.PostgrestBuilder=qe.PostgrestTransformBuilder=qe.PostgrestFilterBuilder=qe.PostgrestQueryBuilder=qe.PostgrestClient=void 0;const n=o(Sg());qe.PostgrestClient=n.default;const s=o(Af());qe.PostgrestQueryBuilder=s.default;const l=o(Ca());qe.PostgrestFilterBuilder=l.default;const a=o(Lf());qe.PostgrestTransformBuilder=a.default;const u=o(Of());qe.PostgrestBuilder=u.default;const f=o(Rf());return qe.PostgrestError=f.default,qe.default={PostgrestClient:n.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:u.default,PostgrestError:f.default},qe}var Ng=jg();const Cg=vf(Ng),{PostgrestClient:bg,PostgrestQueryBuilder:by,PostgrestFilterBuilder:Ty,PostgrestTransformBuilder:Py,PostgrestBuilder:Ry,PostgrestError:Oy}=Cg,Tg="2.11.2",Pg={"X-Client-Info":`realtime-js/${Tg}`},Rg="1.0.0",If=1e4,Og=1e3;var En;(function(o){o[o.connecting=0]="connecting",o[o.open=1]="open",o[o.closing=2]="closing",o[o.closed=3]="closed"})(En||(En={}));var ht;(function(o){o.closed="closed",o.errored="errored",o.joined="joined",o.joining="joining",o.leaving="leaving"})(ht||(ht={}));var Ct;(function(o){o.close="phx_close",o.error="phx_error",o.join="phx_join",o.reply="phx_reply",o.leave="phx_leave",o.access_token="access_token"})(Ct||(Ct={}));var da;(function(o){o.websocket="websocket"})(da||(da={}));var $r;(function(o){o.Connecting="connecting",o.Open="open",o.Closing="closing",o.Closed="closed"})($r||($r={}));class Lg{constructor(){this.HEADER_LENGTH=1}decode(n,s){return n.constructor===ArrayBuffer?s(this._binaryDecode(n)):s(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const s=new DataView(n),l=new TextDecoder;return this._decodeBroadcast(n,s,l)}_decodeBroadcast(n,s,l){const a=s.getUint8(1),u=s.getUint8(2);let f=this.HEADER_LENGTH+2;const p=l.decode(n.slice(f,f+a));f=f+a;const m=l.decode(n.slice(f,f+u));f=f+u;const v=JSON.parse(l.decode(n.slice(f,n.byteLength)));return{ref:null,topic:p,event:m,payload:v}}}class $f{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var je;(function(o){o.abstime="abstime",o.bool="bool",o.date="date",o.daterange="daterange",o.float4="float4",o.float8="float8",o.int2="int2",o.int4="int4",o.int4range="int4range",o.int8="int8",o.int8range="int8range",o.json="json",o.jsonb="jsonb",o.money="money",o.numeric="numeric",o.oid="oid",o.reltime="reltime",o.text="text",o.time="time",o.timestamp="timestamp",o.timestamptz="timestamptz",o.timetz="timetz",o.tsrange="tsrange",o.tstzrange="tstzrange"})(je||(je={}));const Zd=(o,n,s={})=>{var l;const a=(l=s.skipTypes)!==null&&l!==void 0?l:[];return Object.keys(n).reduce((u,f)=>(u[f]=Ag(f,o,n,a),u),{})},Ag=(o,n,s,l)=>{const a=n.find(p=>p.name===o),u=a==null?void 0:a.type,f=s[o];return u&&!l.includes(u)?Uf(u,f):fa(f)},Uf=(o,n)=>{if(o.charAt(0)==="_"){const s=o.slice(1,o.length);return Dg(n,s)}switch(o){case je.bool:return Ig(n);case je.float4:case je.float8:case je.int2:case je.int4:case je.int8:case je.numeric:case je.oid:return $g(n);case je.json:case je.jsonb:return Ug(n);case je.timestamp:return Fg(n);case je.abstime:case je.date:case je.daterange:case je.int4range:case je.int8range:case je.money:case je.reltime:case je.text:case je.time:case je.timestamptz:case je.timetz:case je.tsrange:case je.tstzrange:return fa(n);default:return fa(n)}},fa=o=>o,Ig=o=>{switch(o){case"t":return!0;case"f":return!1;default:return o}},$g=o=>{if(typeof o=="string"){const n=parseFloat(o);if(!Number.isNaN(n))return n}return o},Ug=o=>{if(typeof o=="string")try{return JSON.parse(o)}catch(n){return console.log(`JSON parse error: ${n}`),o}return o},Dg=(o,n)=>{if(typeof o!="string")return o;const s=o.length-1,l=o[s];if(o[0]==="{"&&l==="}"){let u;const f=o.slice(1,s);try{u=JSON.parse("["+f+"]")}catch{u=f?f.split(","):[]}return u.map(p=>Uf(n,p))}return o},Fg=o=>typeof o=="string"?o.replace(" ","T"):o,Df=o=>{let n=o;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};class na{constructor(n,s,l={},a=If){this.channel=n,this.event=s,this.payload=l,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var l;return this._hasReceived(n)&&s((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var ef;(function(o){o.SYNC="sync",o.JOIN="join",o.LEAVE="leave"})(ef||(ef={}));class ws{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},a=>{const{onJoin:u,onLeave:f,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ws.syncState(this.state,a,u,f),this.pendingDiffs.forEach(m=>{this.state=ws.syncDiff(this.state,m,u,f)}),this.pendingDiffs=[],p()}),this.channel._on(l.diff,{},a=>{const{onJoin:u,onLeave:f,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ws.syncDiff(this.state,a,u,f),p())}),this.onJoin((a,u,f)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:u,newPresences:f})}),this.onLeave((a,u,f)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:u,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,l,a){const u=this.cloneDeep(n),f=this.transformState(s),p={},m={};return this.map(u,(v,y)=>{f[v]||(m[v]=y)}),this.map(f,(v,y)=>{const x=u[v];if(x){const k=y.map(P=>P.presence_ref),T=x.map(P=>P.presence_ref),O=y.filter(P=>T.indexOf(P.presence_ref)<0),R=x.filter(P=>k.indexOf(P.presence_ref)<0);O.length>0&&(p[v]=O),R.length>0&&(m[v]=R)}else p[v]=y}),this.syncDiff(u,{joins:p,leaves:m},l,a)}static syncDiff(n,s,l,a){const{joins:u,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return l||(l=()=>{}),a||(a=()=>{}),this.map(u,(p,m)=>{var v;const y=(v=n[p])!==null&&v!==void 0?v:[];if(n[p]=this.cloneDeep(m),y.length>0){const x=n[p].map(T=>T.presence_ref),k=y.filter(T=>x.indexOf(T.presence_ref)<0);n[p].unshift(...k)}l(p,y,m)}),this.map(f,(p,m)=>{let v=n[p];if(!v)return;const y=m.map(x=>x.presence_ref);v=v.filter(x=>y.indexOf(x.presence_ref)<0),n[p]=v,a(p,v,m),v.length===0&&delete n[p]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(l=>s(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,l)=>{const a=n[l];return"metas"in a?s[l]=a.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):s[l]=a,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var tf;(function(o){o.ALL="*",o.INSERT="INSERT",o.UPDATE="UPDATE",o.DELETE="DELETE"})(tf||(tf={}));var rf;(function(o){o.BROADCAST="broadcast",o.PRESENCE="presence",o.POSTGRES_CHANGES="postgres_changes",o.SYSTEM="system"})(rf||(rf={}));var qt;(function(o){o.SUBSCRIBED="SUBSCRIBED",o.TIMED_OUT="TIMED_OUT",o.CLOSED="CLOSED",o.CHANNEL_ERROR="CHANNEL_ERROR"})(qt||(qt={}));class ba{constructor(n,s={config:{}},l){this.topic=n,this.params=s,this.socket=l,this.bindings={},this.state=ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new na(this,Ct.join,this.params,this.timeout),this.rejoinTimer=new $f(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ht.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ct.reply,{},(a,u)=>{this._trigger(this._replyEventName(u),a)}),this.presence=new ws(this),this.broadcastEndpointURL=Df(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(n,s=this.timeout){var l,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:u,presence:f,private:p}}=this.params;this._onError(y=>n==null?void 0:n(qt.CHANNEL_ERROR,y)),this._onClose(()=>n==null?void 0:n(qt.CLOSED));const m={},v={broadcast:u,presence:f,postgres_changes:(a=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(y=>y.filter))!==null&&a!==void 0?a:[],private:p};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:v},m)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:y})=>{var x;if(this.socket.setAuth(),y===void 0){n==null||n(qt.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,T=(x=k==null?void 0:k.length)!==null&&x!==void 0?x:0,O=[];for(let R=0;R<T;R++){const P=k[R],{filter:{event:D,schema:Z,table:B,filter:J}}=P,X=y&&y[R];if(X&&X.event===D&&X.schema===Z&&X.table===B&&X.filter===J)O.push(Object.assign(Object.assign({},P),{id:X.id}));else{this.unsubscribe(),n==null||n(qt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,n&&n(qt.SUBSCRIBED);return}}).receive("error",y=>{n==null||n(qt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(qt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,l){return this._on(n,s,l)}async send(n,s={}){var l,a;if(!this._canPush()&&n.type==="broadcast"){const{event:u,payload:f}=n,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:f,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(l=s.timeout)!==null&&l!==void 0?l:this.timeout);return await((a=v.body)===null||a===void 0?void 0:a.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var f,p,m;const v=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((m=(p=(f=this.params)===null||f===void 0?void 0:f.config)===null||p===void 0?void 0:p.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),v.receive("ok",()=>u("ok")),v.receive("error",()=>u("error")),v.receive("timeout",()=>u("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=ht.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ct.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(l=>{const a=new na(this,Ct.leave,{},n);a.receive("ok",()=>{s(),l("ok")}).receive("timeout",()=>{s(),l("timed out")}).receive("error",()=>{l("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(n,s,l){const a=new AbortController,u=setTimeout(()=>a.abort(),l),f=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:a.signal}));return clearTimeout(u),f}_push(n,s,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new na(this,n,s,l);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(n,s,l){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,l){var a,u;const f=n.toLocaleLowerCase(),{close:p,error:m,leave:v,join:y}=Ct;if(l&&[p,m,v,y].indexOf(f)>=0&&l!==this._joinRef())return;let k=this._onMessage(f,s,l);if(s&&!k)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(T=>{var O,R,P;return((O=T.filter)===null||O===void 0?void 0:O.event)==="*"||((P=(R=T.filter)===null||R===void 0?void 0:R.event)===null||P===void 0?void 0:P.toLocaleLowerCase())===f}).map(T=>T.callback(k,l)):(u=this.bindings[f])===null||u===void 0||u.filter(T=>{var O,R,P,D,Z,B;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in T){const J=T.id,X=(O=T.filter)===null||O===void 0?void 0:O.event;return J&&((R=s.ids)===null||R===void 0?void 0:R.includes(J))&&(X==="*"||(X==null?void 0:X.toLocaleLowerCase())===((P=s.data)===null||P===void 0?void 0:P.type.toLocaleLowerCase()))}else{const J=(Z=(D=T==null?void 0:T.filter)===null||D===void 0?void 0:D.event)===null||Z===void 0?void 0:Z.toLocaleLowerCase();return J==="*"||J===((B=s==null?void 0:s.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return T.type.toLocaleLowerCase()===f}).map(T=>{if(typeof k=="object"&&"ids"in k){const O=k.data,{schema:R,table:P,commit_timestamp:D,type:Z,errors:B}=O;k=Object.assign(Object.assign({},{schema:R,table:P,commit_timestamp:D,eventType:Z,new:{},old:{},errors:B}),this._getPayloadRecords(O))}T.callback(k,l)})}_isClosed(){return this.state===ht.closed}_isJoined(){return this.state===ht.joined}_isJoining(){return this.state===ht.joining}_isLeaving(){return this.state===ht.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,l){const a=n.toLocaleLowerCase(),u={type:a,filter:s,callback:l};return this.bindings[a]?this.bindings[a].push(u):this.bindings[a]=[u],this}_off(n,s){const l=n.toLocaleLowerCase();return this.bindings[l]=this.bindings[l].filter(a=>{var u;return!(((u=a.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===l&&ba.isEqual(a.filter,s))}),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const l in n)if(n[l]!==s[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Ct.close,{},n)}_onError(n){this._on(Ct.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ht.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=Zd(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=Zd(n.columns,n.old_record)),s}}const Mg=()=>{},zg=typeof WebSocket<"u",Bg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Hg{constructor(n,s){var l;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Pg,this.params={},this.timeout=If,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Mg,this.conn=null,this.sendBuffer=[],this.serializer=new Lg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=u=>{let f;return u?f=u:typeof fetch>"u"?f=(...p)=>kn(async()=>{const{default:m}=await Promise.resolve().then(()=>bn);return{default:m}},void 0).then(({default:m})=>m(...p)):f=fetch,(...p)=>f(...p)},this.endPoint=`${n}/${da.websocket}`,this.httpEndpoint=Df(n),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const a=(l=s==null?void 0:s.params)===null||l===void 0?void 0:l.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:u=>[1e3,2e3,5e3,1e4][u-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(u,f)=>f(JSON.stringify(u)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new $f(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(zg){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new qg(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),kn(async()=>{const{default:n}=await import("./browser-UVYqlmuy.js").then(s=>s.b);return{default:n}},[]).then(({default:n})=>{this.conn=new n(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Rg}))}disconnect(n,s){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),n}log(n,s,l){this.logger(n,s,l)}connectionState(){switch(this.conn&&this.conn.readyState){case En.connecting:return $r.Connecting;case En.open:return $r.Open;case En.closing:return $r.Closing;default:return $r.Closed}}isConnected(){return this.connectionState()===$r.Open}channel(n,s={config:{}}){const l=new ba(`realtime:${n}`,s,this);return this.channels.push(l),l}push(n){const{topic:s,event:l,payload:a,ref:u}=n,f=()=>{this.encode(n,p=>{var m;(m=this.conn)===null||m===void 0||m.send(p)})};this.log("push",`${s} ${l} (${u})`,a),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){let s=n||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let l=null;try{l=JSON.parse(atob(s.split(".")[1]))}catch{}if(l&&l.exp&&!(Math.floor(Date.now()/1e3)-l.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${l.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${l.exp}`);this.accessTokenValue=s,this.channels.forEach(a=>{s&&a.updateJoinPayload({access_token:s}),a.joinedOnce&&a._isJoined()&&a._push(Ct.access_token,{access_token:s})})}}async sendHeartbeat(){var n;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(n=this.conn)===null||n===void 0||n.close(Og,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s._joinRef()!==n._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_onConnMessage(n){this.decode(n.data,s=>{let{topic:l,event:a,payload:u,ref:f}=s;f&&f===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${u.status||""} ${l} ${a} ${f&&"("+f+")"||""}`,u),this.channels.filter(p=>p._isMember(l)).forEach(p=>p._trigger(a,u,f)),this.stateChangeCallbacks.message.forEach(p=>p(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(n=>n())}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(n))}_onConnError(n){this.log("transport",n.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(Ct.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const l=n.match(/\?/)?"&":"?",a=new URLSearchParams(s);return`${n}${l}${a}`}_workerObjectUrl(n){let s;if(n)s=n;else{const l=new Blob([Bg],{type:"application/javascript"});s=URL.createObjectURL(l)}return s}}class qg{constructor(n,s,l){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=En.connecting,this.send=()=>{},this.url=null,this.url=n,this.close=l.close}}class Ta extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function We(o){return typeof o=="object"&&o!==null&&"__isStorageError"in o}class Wg extends Ta{constructor(n,s){super(n),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ha extends Ta{constructor(n,s){super(n),this.name="StorageUnknownError",this.originalError=s}}var Vg=function(o,n,s,l){function a(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function p(y){try{v(l.next(y))}catch(x){f(x)}}function m(y){try{v(l.throw(y))}catch(x){f(x)}}function v(y){y.done?u(y.value):a(y.value).then(p,m)}v((l=l.apply(o,n||[])).next())})};const Ff=o=>{let n;return o?n=o:typeof fetch>"u"?n=(...s)=>kn(async()=>{const{default:l}=await Promise.resolve().then(()=>bn);return{default:l}},void 0).then(({default:l})=>l(...s)):n=fetch,(...s)=>n(...s)},Kg=()=>Vg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield kn(()=>Promise.resolve().then(()=>bn),void 0)).Response:Response}),pa=o=>{if(Array.isArray(o))return o.map(s=>pa(s));if(typeof o=="function"||o!==Object(o))return o;const n={};return Object.entries(o).forEach(([s,l])=>{const a=s.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));n[a]=pa(l)}),n};var Dr=function(o,n,s,l){function a(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function p(y){try{v(l.next(y))}catch(x){f(x)}}function m(y){try{v(l.throw(y))}catch(x){f(x)}}function v(y){y.done?u(y.value):a(y.value).then(p,m)}v((l=l.apply(o,n||[])).next())})};const sa=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),Gg=(o,n,s)=>Dr(void 0,void 0,void 0,function*(){const l=yield Kg();o instanceof l&&!(s!=null&&s.noResolveJson)?o.json().then(a=>{n(new Wg(sa(a),o.status||500))}).catch(a=>{n(new ha(sa(a),a))}):n(new ha(sa(o),o))}),Jg=(o,n,s,l)=>{const a={method:o,headers:(n==null?void 0:n.headers)||{}};return o==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),l&&(a.body=JSON.stringify(l)),Object.assign(Object.assign({},a),s))};function Ns(o,n,s,l,a,u){return Dr(this,void 0,void 0,function*(){return new Promise((f,p)=>{o(s,Jg(n,l,a,u)).then(m=>{if(!m.ok)throw m;return l!=null&&l.noResolveJson?m:m.json()}).then(m=>f(m)).catch(m=>Gg(m,p,l))})})}function Qi(o,n,s,l){return Dr(this,void 0,void 0,function*(){return Ns(o,"GET",n,s,l)})}function pr(o,n,s,l,a){return Dr(this,void 0,void 0,function*(){return Ns(o,"POST",n,l,a,s)})}function Qg(o,n,s,l,a){return Dr(this,void 0,void 0,function*(){return Ns(o,"PUT",n,l,a,s)})}function Yg(o,n,s,l){return Dr(this,void 0,void 0,function*(){return Ns(o,"HEAD",n,Object.assign(Object.assign({},s),{noResolveJson:!0}),l)})}function Mf(o,n,s,l,a){return Dr(this,void 0,void 0,function*(){return Ns(o,"DELETE",n,l,a,s)})}var lt=function(o,n,s,l){function a(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function p(y){try{v(l.next(y))}catch(x){f(x)}}function m(y){try{v(l.throw(y))}catch(x){f(x)}}function v(y){y.done?u(y.value):a(y.value).then(p,m)}v((l=l.apply(o,n||[])).next())})};const Xg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Zg{constructor(n,s={},l,a){this.url=n,this.headers=s,this.bucketId=l,this.fetch=Ff(a)}uploadOrUpdate(n,s,l,a){return lt(this,void 0,void 0,function*(){try{let u;const f=Object.assign(Object.assign({},nf),a);let p=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(f.upsert)});const m=f.metadata;typeof Blob<"u"&&l instanceof Blob?(u=new FormData,u.append("cacheControl",f.cacheControl),m&&u.append("metadata",this.encodeMetadata(m)),u.append("",l)):typeof FormData<"u"&&l instanceof FormData?(u=l,u.append("cacheControl",f.cacheControl),m&&u.append("metadata",this.encodeMetadata(m))):(u=l,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType,m&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),a!=null&&a.headers&&(p=Object.assign(Object.assign({},p),a.headers));const v=this._removeEmptyFolders(s),y=this._getFinalPath(v),x=yield this.fetch(`${this.url}/object/${y}`,Object.assign({method:n,body:u,headers:p},f!=null&&f.duplex?{duplex:f.duplex}:{})),k=yield x.json();return x.ok?{data:{path:v,id:k.Id,fullPath:k.Key},error:null}:{data:null,error:k}}catch(u){if(We(u))return{data:null,error:u};throw u}})}upload(n,s,l){return lt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,s,l)})}uploadToSignedUrl(n,s,l,a){return lt(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(n),f=this._getFinalPath(u),p=new URL(this.url+`/object/upload/sign/${f}`);p.searchParams.set("token",s);try{let m;const v=Object.assign({upsert:nf.upsert},a),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(v.upsert)});typeof Blob<"u"&&l instanceof Blob?(m=new FormData,m.append("cacheControl",v.cacheControl),m.append("",l)):typeof FormData<"u"&&l instanceof FormData?(m=l,m.append("cacheControl",v.cacheControl)):(m=l,y["cache-control"]=`max-age=${v.cacheControl}`,y["content-type"]=v.contentType);const x=yield this.fetch(p.toString(),{method:"PUT",body:m,headers:y}),k=yield x.json();return x.ok?{data:{path:u,fullPath:k.Key},error:null}:{data:null,error:k}}catch(m){if(We(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(n,s){return lt(this,void 0,void 0,function*(){try{let l=this._getFinalPath(n);const a=Object.assign({},this.headers);s!=null&&s.upsert&&(a["x-upsert"]="true");const u=yield pr(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:a}),f=new URL(this.url+u.url),p=f.searchParams.get("token");if(!p)throw new Ta("No token returned by API");return{data:{signedUrl:f.toString(),path:n,token:p},error:null}}catch(l){if(We(l))return{data:null,error:l};throw l}})}update(n,s,l){return lt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,s,l)})}move(n,s,l){return lt(this,void 0,void 0,function*(){try{return{data:yield pr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:l==null?void 0:l.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(We(a))return{data:null,error:a};throw a}})}copy(n,s,l){return lt(this,void 0,void 0,function*(){try{return{data:{path:(yield pr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:l==null?void 0:l.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(We(a))return{data:null,error:a};throw a}})}createSignedUrl(n,s,l){return lt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(n),u=yield pr(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:s},l!=null&&l.transform?{transform:l.transform}:{}),{headers:this.headers});const f=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${f}`)},{data:u,error:null}}catch(a){if(We(a))return{data:null,error:a};throw a}})}createSignedUrls(n,s,l){return lt(this,void 0,void 0,function*(){try{const a=yield pr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:n},{headers:this.headers}),u=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return{data:a.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${u}`):null})),error:null}}catch(a){if(We(a))return{data:null,error:a};throw a}})}download(n,s){return lt(this,void 0,void 0,function*(){const a=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),f=u?`?${u}`:"";try{const p=this._getFinalPath(n);return{data:yield(yield Qi(this.fetch,`${this.url}/${a}/${p}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(p){if(We(p))return{data:null,error:p};throw p}})}info(n){return lt(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{const l=yield Qi(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:pa(l),error:null}}catch(l){if(We(l))return{data:null,error:l};throw l}})}exists(n){return lt(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{return yield Yg(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(We(l)&&l instanceof ha){const a=l.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:l}}throw l}})}getPublicUrl(n,s){const l=this._getFinalPath(n),a=[],u=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";u!==""&&a.push(u);const p=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});m!==""&&a.push(m);let v=a.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${l}${v}`)}}}remove(n){return lt(this,void 0,void 0,function*(){try{return{data:yield Mf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(s){if(We(s))return{data:null,error:s};throw s}})}list(n,s,l){return lt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Xg),s),{prefix:n||""});return{data:yield pr(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},l),error:null}}catch(a){if(We(a))return{data:null,error:a};throw a}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const s=[];return n.width&&s.push(`width=${n.width}`),n.height&&s.push(`height=${n.height}`),n.resize&&s.push(`resize=${n.resize}`),n.format&&s.push(`format=${n.format}`),n.quality&&s.push(`quality=${n.quality}`),s.join("&")}}const e0="2.7.1",t0={"X-Client-Info":`storage-js/${e0}`};var yn=function(o,n,s,l){function a(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function p(y){try{v(l.next(y))}catch(x){f(x)}}function m(y){try{v(l.throw(y))}catch(x){f(x)}}function v(y){y.done?u(y.value):a(y.value).then(p,m)}v((l=l.apply(o,n||[])).next())})};class r0{constructor(n,s={},l){this.url=n,this.headers=Object.assign(Object.assign({},t0),s),this.fetch=Ff(l)}listBuckets(){return yn(this,void 0,void 0,function*(){try{return{data:yield Qi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(We(n))return{data:null,error:n};throw n}})}getBucket(n){return yn(this,void 0,void 0,function*(){try{return{data:yield Qi(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(s){if(We(s))return{data:null,error:s};throw s}})}createBucket(n,s={public:!1}){return yn(this,void 0,void 0,function*(){try{return{data:yield pr(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(We(l))return{data:null,error:l};throw l}})}updateBucket(n,s){return yn(this,void 0,void 0,function*(){try{return{data:yield Qg(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(We(l))return{data:null,error:l};throw l}})}emptyBucket(n){return yn(this,void 0,void 0,function*(){try{return{data:yield pr(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(We(s))return{data:null,error:s};throw s}})}deleteBucket(n){return yn(this,void 0,void 0,function*(){try{return{data:yield Mf(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(We(s))return{data:null,error:s};throw s}})}}class n0 extends r0{constructor(n,s={},l){super(n,s,l)}from(n){return new Zg(this.url,this.headers,n,this.fetch)}}const s0="2.48.1";let ys="";typeof Deno<"u"?ys="deno":typeof document<"u"?ys="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ys="react-native":ys="node";const i0={"X-Client-Info":`supabase-js-${ys}/${s0}`},o0={headers:i0},l0={schema:"public"},a0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},u0={};var c0=function(o,n,s,l){function a(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function p(y){try{v(l.next(y))}catch(x){f(x)}}function m(y){try{v(l.throw(y))}catch(x){f(x)}}function v(y){y.done?u(y.value):a(y.value).then(p,m)}v((l=l.apply(o,n||[])).next())})};const d0=o=>{let n;return o?n=o:typeof fetch>"u"?n=Tf:n=fetch,(...s)=>n(...s)},f0=()=>typeof Headers>"u"?Pf:Headers,h0=(o,n,s)=>{const l=d0(s),a=f0();return(u,f)=>c0(void 0,void 0,void 0,function*(){var p;const m=(p=yield n())!==null&&p!==void 0?p:o;let v=new a(f==null?void 0:f.headers);return v.has("apikey")||v.set("apikey",o),v.has("Authorization")||v.set("Authorization",`Bearer ${m}`),l(u,Object.assign(Object.assign({},f),{headers:v}))})};var p0=function(o,n,s,l){function a(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function p(y){try{v(l.next(y))}catch(x){f(x)}}function m(y){try{v(l.throw(y))}catch(x){f(x)}}function v(y){y.done?u(y.value):a(y.value).then(p,m)}v((l=l.apply(o,n||[])).next())})};function m0(o){return o.replace(/\/$/,"")}function g0(o,n){const{db:s,auth:l,realtime:a,global:u}=o,{db:f,auth:p,realtime:m,global:v}=n,y={db:Object.assign(Object.assign({},f),s),auth:Object.assign(Object.assign({},p),l),realtime:Object.assign(Object.assign({},m),a),global:Object.assign(Object.assign({},v),u),accessToken:()=>p0(this,void 0,void 0,function*(){return""})};return o.accessToken?y.accessToken=o.accessToken:delete y.accessToken,y}const zf="2.67.3",v0="http://localhost:9999",y0="supabase.auth.token",w0={"X-Client-Info":`gotrue-js/${zf}`},sf=10,ma="X-Supabase-Api-Version",Bf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function x0(o){return Math.round(Date.now()/1e3)+o}function _0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){const n=Math.random()*16|0;return(o=="x"?n:n&3|8).toString(16)})}const Lt=()=>typeof window<"u"&&typeof document<"u",Ar={tested:!1,writable:!1},xs=()=>{if(!Lt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ar.tested)return Ar.writable;const o=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(o,o),globalThis.localStorage.removeItem(o),Ar.tested=!0,Ar.writable=!0}catch{Ar.tested=!0,Ar.writable=!1}return Ar.writable};function E0(o){const n={},s=new URL(o);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((a,u)=>{n[u]=a})}catch{}return s.searchParams.forEach((l,a)=>{n[a]=l}),n}const Hf=o=>{let n;return o?n=o:typeof fetch>"u"?n=(...s)=>kn(async()=>{const{default:l}=await Promise.resolve().then(()=>bn);return{default:l}},void 0).then(({default:l})=>l(...s)):n=fetch,(...s)=>n(...s)},k0=o=>typeof o=="object"&&o!==null&&"status"in o&&"ok"in o&&"json"in o&&typeof o.json=="function",qf=async(o,n,s)=>{await o.setItem(n,JSON.stringify(s))},Mi=async(o,n)=>{const s=await o.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},zi=async(o,n)=>{await o.removeItem(n)};function S0(o){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",l,a,u,f,p,m,v,y=0;for(o=o.replace("-","+").replace("_","/");y<o.length;)f=n.indexOf(o.charAt(y++)),p=n.indexOf(o.charAt(y++)),m=n.indexOf(o.charAt(y++)),v=n.indexOf(o.charAt(y++)),l=f<<2|p>>4,a=(p&15)<<4|m>>2,u=(m&3)<<6|v,s=s+String.fromCharCode(l),m!=64&&a!=0&&(s=s+String.fromCharCode(a)),v!=64&&u!=0&&(s=s+String.fromCharCode(u));return s}class to{constructor(){this.promise=new to.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}to.promiseConstructor=Promise;function of(o){const n=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,s=o.split(".");if(s.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!n.test(s[1]))throw new Error("JWT is not valid: payload is not in base64url format");const l=s[1];return JSON.parse(S0(l))}async function j0(o){return await new Promise(n=>{setTimeout(()=>n(null),o)})}function N0(o,n){return new Promise((l,a)=>{(async()=>{for(let u=0;u<1/0;u++)try{const f=await o(u);if(!n(u,null,f)){l(f);return}}catch(f){if(!n(u,f)){a(f);return}}})()})}function C0(o){return("0"+o.toString(16)).substr(-2)}function b0(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=s.length;let a="";for(let u=0;u<56;u++)a+=s.charAt(Math.floor(Math.random()*l));return a}return crypto.getRandomValues(n),Array.from(n,C0).join("")}async function T0(o){const s=new TextEncoder().encode(o),l=await crypto.subtle.digest("SHA-256",s),a=new Uint8Array(l);return Array.from(a).map(u=>String.fromCharCode(u)).join("")}function P0(o){return btoa(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function R0(o){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),o;const s=await T0(o);return P0(s)}async function wn(o,n,s=!1){const l=b0();let a=l;s&&(a+="/PASSWORD_RECOVERY"),await qf(o,`${n}-code-verifier`,a);const u=await R0(l);return[u,l===u?"plain":"s256"]}const O0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function L0(o){const n=o.headers.get(ma);if(!n||!n.match(O0))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}class Pa extends Error{constructor(n,s,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=l}}function ie(o){return typeof o=="object"&&o!==null&&"__isAuthError"in o}class A0 extends Pa{constructor(n,s,l){super(n,s,l),this.name="AuthApiError",this.status=s,this.code=l}}function I0(o){return ie(o)&&o.name==="AuthApiError"}class Wf extends Pa{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}}class Fr extends Pa{constructor(n,s,l,a){super(n,l,a),this.name=s,this.status=l}}class fr extends Fr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $0(o){return ie(o)&&o.name==="AuthSessionMissingError"}class ia extends Fr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Bi extends Fr{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Hi extends Fr{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function U0(o){return ie(o)&&o.name==="AuthImplicitGrantRedirectError"}class lf extends Fr{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ga extends Fr{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}}function oa(o){return ie(o)&&o.name==="AuthRetryableFetchError"}class af extends Fr{constructor(n,s,l){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=l}}var D0=function(o,n){var s={};for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&n.indexOf(l)<0&&(s[l]=o[l]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,l=Object.getOwnPropertySymbols(o);a<l.length;a++)n.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(o,l[a])&&(s[l[a]]=o[l[a]]);return s};const Ir=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),F0=[502,503,504];async function uf(o){var n;if(!k0(o))throw new ga(Ir(o),0);if(F0.includes(o.status))throw new ga(Ir(o),o.status);let s;try{s=await o.json()}catch(u){throw new Wf(Ir(u),u)}let l;const a=L0(o);if(a&&a.getTime()>=Bf["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?l=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(l=s.error_code),l){if(l==="weak_password")throw new af(Ir(s),o.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new fr}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((u,f)=>u&&typeof f=="string",!0))throw new af(Ir(s),o.status,s.weak_password.reasons);throw new A0(Ir(s),o.status||500,l)}const M0=(o,n,s,l)=>{const a={method:o,headers:(n==null?void 0:n.headers)||{}};return o==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),a.body=JSON.stringify(l),Object.assign(Object.assign({},a),s))};async function de(o,n,s,l){var a;const u=Object.assign({},l==null?void 0:l.headers);u[ma]||(u[ma]=Bf["2024-01-01"].name),l!=null&&l.jwt&&(u.Authorization=`Bearer ${l.jwt}`);const f=(a=l==null?void 0:l.query)!==null&&a!==void 0?a:{};l!=null&&l.redirectTo&&(f.redirect_to=l.redirectTo);const p=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",m=await z0(o,n,s+p,{headers:u,noResolveJson:l==null?void 0:l.noResolveJson},{},l==null?void 0:l.body);return l!=null&&l.xform?l==null?void 0:l.xform(m):{data:Object.assign({},m),error:null}}async function z0(o,n,s,l,a,u){const f=M0(n,l,a,u);let p;try{p=await o(s,Object.assign({},f))}catch(m){throw console.error(m),new ga(Ir(m),0)}if(p.ok||await uf(p),l!=null&&l.noResolveJson)return p;try{return await p.json()}catch(m){await uf(m)}}function hr(o){var n;let s=null;W0(o)&&(s=Object.assign({},o),o.expires_at||(s.expires_at=x0(o.expires_in)));const l=(n=o.user)!==null&&n!==void 0?n:o;return{data:{session:s,user:l},error:null}}function cf(o){const n=hr(o);return!n.error&&o.weak_password&&typeof o.weak_password=="object"&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.message&&typeof o.weak_password.message=="string"&&o.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0)&&(n.data.weak_password=o.weak_password),n}function mr(o){var n;return{data:{user:(n=o.user)!==null&&n!==void 0?n:o},error:null}}function B0(o){return{data:o,error:null}}function H0(o){const{action_link:n,email_otp:s,hashed_token:l,redirect_to:a,verification_type:u}=o,f=D0(o,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:n,email_otp:s,hashed_token:l,redirect_to:a,verification_type:u},m=Object.assign({},f);return{data:{properties:p,user:m},error:null}}function q0(o){return o}function W0(o){return o.access_token&&o.refresh_token&&o.expires_in}var V0=function(o,n){var s={};for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&n.indexOf(l)<0&&(s[l]=o[l]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,l=Object.getOwnPropertySymbols(o);a<l.length;a++)n.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(o,l[a])&&(s[l[a]]=o[l[a]]);return s};class K0{constructor({url:n="",headers:s={},fetch:l}){this.url=n,this.headers=s,this.fetch=Hf(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,s="global"){try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ie(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,s={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:mr})}catch(l){if(ie(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:s}=n,l=V0(n,["options"]),a=Object.assign(Object.assign({},l),s);return"newEmail"in l&&(a.new_email=l==null?void 0:l.newEmail,delete a.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:H0,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(ie(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:mr})}catch(s){if(ie(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,l,a,u,f,p,m;try{const v={nextPage:null,lastPage:0,total:0},y=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(s=n==null?void 0:n.page)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:"",per_page:(u=(a=n==null?void 0:n.perPage)===null||a===void 0?void 0:a.toString())!==null&&u!==void 0?u:""},xform:q0});if(y.error)throw y.error;const x=await y.json(),k=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,T=(m=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return T.length>0&&(T.forEach(O=>{const R=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(O.split(";")[1].split("=")[1]);v[`${P}Page`]=R}),v.total=parseInt(k)),{data:Object.assign(Object.assign({},x),v),error:null}}catch(v){if(ie(v))return{data:{users:[]},error:v};throw v}}async getUserById(n){try{return await de(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:mr})}catch(s){if(ie(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:mr})}catch(l){if(ie(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,s=!1){try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:mr})}catch(l){if(ie(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){try{const{data:s,error:l}=await de(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:s,error:l}}catch(s){if(ie(s))return{data:null,error:s};throw s}}async _deleteFactor(n){try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}}}const G0={getItem:o=>xs()?globalThis.localStorage.getItem(o):null,setItem:(o,n)=>{xs()&&globalThis.localStorage.setItem(o,n)},removeItem:o=>{xs()&&globalThis.localStorage.removeItem(o)}};function df(o={}){return{getItem:n=>o[n]||null,setItem:(n,s)=>{o[n]=s},removeItem:n=>{delete o[n]}}}function J0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const xn={debug:!!(globalThis&&xs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Vf extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class Q0 extends Vf{}async function Y0(o,n,s){xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",o,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),xn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",o)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(o,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async a=>{if(a){xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",o,a.name);try{return await s()}finally{xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",o,a.name)}}else{if(n===0)throw xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",o),new Q0(`Acquiring an exclusive Navigator LockManager lock "${o}" immediately failed`);if(xn.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}J0();const X0={url:v0,storageKey:y0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:w0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},vs=30*1e3,ff=3;async function hf(o,n,s){return await s()}class Ss{constructor(n){var s,l;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ss.nextInstanceID,Ss.nextInstanceID+=1,this.instanceID>0&&Lt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},X0),n);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new K0({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Hf(a.fetch),this.lock=a.lock||hf,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Lt()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Y0:this.lock=hf,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:xs()?this.storage=G0:(this.memoryStorage={},this.storage=df(this.memoryStorage)):(this.memoryStorage={},this.storage=df(this.memoryStorage)),Lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${zf}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const s=E0(window.location.href);let l="none";if(this._isImplicitGrantCallback(s)?l="implicit":await this._isPKCECallback(s)&&(l="pkce"),Lt()&&this.detectSessionInUrl&&l!=="none"){const{data:a,error:u}=await this._getSessionFromURL(s,l);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),U0(u)){const m=(n=u.details)===null||n===void 0?void 0:n.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:f,redirectType:p}=a;return this._debug("#_initialize()","detected session in URL",f,"redirect type",p),await this._saveSession(f),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ie(s)?{error:s}:{error:new Wf("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,l,a;try{const u=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(s=n==null?void 0:n.options)===null||s===void 0?void 0:s.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(a=n==null?void 0:n.options)===null||a===void 0?void 0:a.captchaToken}},xform:hr}),{data:f,error:p}=u;if(p||!f)return{data:{user:null,session:null},error:p};const m=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:v,session:m},error:null}}catch(u){if(ie(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(n){var s,l,a;try{let u;if("email"in n){const{email:y,password:x,options:k}=n;let T=null,O=null;this.flowType==="pkce"&&([T,O]=await wn(this.storage,this.storageKey)),u=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:k==null?void 0:k.emailRedirectTo,body:{email:y,password:x,data:(s=k==null?void 0:k.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken},code_challenge:T,code_challenge_method:O},xform:hr})}else if("phone"in n){const{phone:y,password:x,options:k}=n;u=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:x,data:(l=k==null?void 0:k.data)!==null&&l!==void 0?l:{},channel:(a=k==null?void 0:k.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken}},xform:hr})}else throw new Bi("You must provide either an email or phone number and a password");const{data:f,error:p}=u;if(p||!f)return{data:{user:null,session:null},error:p};const m=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:v,session:m},error:null}}catch(u){if(ie(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(n){try{let s;if("email"in n){const{email:u,password:f,options:p}=n;s=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:f,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:cf})}else if("phone"in n){const{phone:u,password:f,options:p}=n;s=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:f,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:cf})}else throw new Bi("You must provide either an email or phone number and a password");const{data:l,error:a}=s;return a?{data:{user:null,session:null},error:a}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ia}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:a})}catch(s){if(ie(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(n){var s,l,a,u;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=n.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(u=n.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async _exchangeCodeForSession(n){const s=await Mi(this.storage,`${this.storageKey}-code-verifier`),[l,a]=(s??"").split("/");try{const{data:u,error:f}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:hr});if(await zi(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new ia}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:a??null}),error:f})}catch(u){if(ie(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(n){try{const{options:s,provider:l,token:a,access_token:u,nonce:f}=n,p=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:a,access_token:u,nonce:f,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:hr}),{data:m,error:v}=p;return v?{data:{user:null,session:null},error:v}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new ia}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:v})}catch(s){if(ie(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(n){var s,l,a,u,f;try{if("email"in n){const{email:p,options:m}=n;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await wn(this.storage,this.storageKey));const{error:x}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},create_user:(l=m==null?void 0:m.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:y},redirectTo:m==null?void 0:m.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in n){const{phone:p,options:m}=n,{data:v,error:y}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(a=m==null?void 0:m.data)!==null&&a!==void 0?a:{},create_user:(u=m==null?void 0:m.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(f=m==null?void 0:m.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:v==null?void 0:v.message_id},error:y}}throw new Bi("You must provide either an email or phone number.")}catch(p){if(ie(p))return{data:{user:null,session:null},error:p};throw p}}async verifyOtp(n){var s,l;try{let a,u;"options"in n&&(a=(s=n.options)===null||s===void 0?void 0:s.redirectTo,u=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:p}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:u}}),redirectTo:a,xform:hr});if(p)throw p;if(!f)throw new Error("An error occurred on token verification.");const m=f.session,v=f.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:v,session:m},error:null}}catch(a){if(ie(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(n){var s,l,a;try{let u=null,f=null;return this.flowType==="pkce"&&([u,f]=await wn(this.storage,this.storageKey)),await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&l!==void 0?l:void 0}),!((a=n==null?void 0:n.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:f}),headers:this.headers,xform:B0})}catch(u){if(ie(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:l}=n;if(l)throw l;if(!s)throw new fr;const{error:a}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:a}})}catch(n){if(ie(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:l,type:a,options:u}=n,{error:f}=await de(this.fetch,"POST",s,{headers:this.headers,body:{email:l,type:a,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in n){const{phone:l,type:a,options:u}=n,{data:f,error:p}=await de(this.fetch,"POST",s,{headers:this.headers,body:{phone:l,type:a,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:p}}throw new Bi("You must provide either an email or phone number and a type")}catch(s){if(ie(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await l,await s()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=s();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await Mi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.storage.isServer){let f=this.suppressGetSessionWarning;n=new Proxy(n,{get:(m,v,y)=>(!f&&v==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,v,y))})}return{data:{session:n},error:null}}const{session:a,error:u}=await this._callRefreshToken(n.refresh_token);return u?{data:{session:null},error:u}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:mr}):await this._useSession(async s=>{var l,a,u;const{data:f,error:p}=s;if(p)throw p;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new fr}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(a=f.session)===null||a===void 0?void 0:a.access_token)!==null&&u!==void 0?u:void 0,xform:mr})})}catch(s){if(ie(s))return $0(s)&&(await this._removeSession(),await zi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async l=>{const{data:a,error:u}=l;if(u)throw u;if(!a.session)throw new fr;const f=a.session;let p=null,m=null;this.flowType==="pkce"&&n.email!=null&&([p,m]=await wn(this.storage,this.storageKey));const{data:v,error:y}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:p,code_challenge_method:m}),jwt:f.access_token,xform:mr});if(y)throw y;return f.user=v.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(l){if(ie(l))return{data:{user:null},error:l};throw l}}_decodeJWT(n){return of(n)}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new fr;const s=Date.now()/1e3;let l=s,a=!0,u=null;const f=of(n.access_token);if(f.exp&&(l=f.exp,a=l<=s),a){const{session:p,error:m}=await this._callRefreshToken(n.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!p)return{data:{user:null,session:null},error:null};u=p}else{const{data:p,error:m}=await this._getUser(n.access_token);if(m)throw m;u={access_token:n.access_token,refresh_token:n.refresh_token,user:p.user,token_type:"bearer",expires_in:l-s,expires_at:l},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(s){if(ie(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var l;if(!n){const{data:f,error:p}=s;if(p)throw p;n=(l=f.session)!==null&&l!==void 0?l:void 0}if(!(n!=null&&n.refresh_token))throw new fr;const{session:a,error:u}=await this._callRefreshToken(n.refresh_token);return u?{data:{user:null,session:null},error:u}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(ie(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(n,s){try{if(!Lt())throw new Hi("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Hi(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new lf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Hi("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new lf("No code detected.");const{data:Z,error:B}=await this._exchangeCodeForSession(n.code);if(B)throw B;const J=new URL(window.location.href);return J.searchParams.delete("code"),window.history.replaceState(window.history.state,"",J.toString()),{data:{session:Z.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:a,access_token:u,refresh_token:f,expires_in:p,expires_at:m,token_type:v}=n;if(!u||!p||!f||!v)throw new Hi("No session defined in URL");const y=Math.round(Date.now()/1e3),x=parseInt(p);let k=y+x;m&&(k=parseInt(m));const T=k-y;T*1e3<=vs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${T}s, should have been closer to ${x}s`);const O=k-x;y-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,k,y):y-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,k,y);const{data:R,error:P}=await this._getUser(u);if(P)throw P;const D={provider_token:l,provider_refresh_token:a,access_token:u,expires_in:x,expires_at:k,refresh_token:f,token_type:v,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:D,redirectType:n.type},error:null}}catch(l){if(ie(l))return{data:{session:null,redirectType:null},error:l};throw l}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await Mi(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var l;const{data:a,error:u}=s;if(u)return{error:u};const f=(l=a.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:p}=await this.admin.signOut(f,n);if(p&&!(I0(p)&&(p.status===404||p.status===401||p.status===403)))return{error:p}}return n!=="others"&&(await this._removeSession(),await zi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const s=_0(),l={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async s=>{var l,a;try{const{data:{session:u},error:f}=s;if(f)throw f;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",n,"session",u)}catch(u){await((a=this.stateChangeEmitters.get(n))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",u),console.error(u)}})}async resetPasswordForEmail(n,s={}){let l=null,a=null;this.flowType==="pkce"&&([l,a]=await wn(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:a,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(u){if(ie(u))return{data:null,error:u};throw u}}async getUserIdentities(){var n;try{const{data:s,error:l}=await this.getUser();if(l)throw l;return{data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}}async linkIdentity(n){var s;try{const{data:l,error:a}=await this._useSession(async u=>{var f,p,m,v,y;const{data:x,error:k}=u;if(k)throw k;const T=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(p=n.options)===null||p===void 0?void 0:p.scopes,queryParams:(m=n.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",T,{headers:this.headers,jwt:(y=(v=x.session)===null||v===void 0?void 0:v.access_token)!==null&&y!==void 0?y:void 0})});if(a)throw a;return Lt()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(l==null?void 0:l.url),{data:{provider:n.provider,url:l==null?void 0:l.url},error:null}}catch(l){if(ie(l))return{data:{provider:n.provider,url:null},error:l};throw l}}async unlinkIdentity(n){try{return await this._useSession(async s=>{var l,a;const{data:u,error:f}=s;if(f)throw f;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(a=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&a!==void 0?a:void 0})})}catch(s){if(ie(s))return{data:null,error:s};throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const l=Date.now();return await N0(async a=>(a>0&&await j0(200*Math.pow(2,a-1)),this._debug(s,"refreshing attempt",a),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:hr})),(a,u)=>{const f=200*Math.pow(2,a);return u&&oa(u)&&Date.now()+f-l<vs})}catch(l){if(this._debug(s,"error",l),ie(l))return{data:{session:null,user:null},error:l};throw l}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",l),Lt()&&!s.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const l=await Mi(this.storage,this.storageKey);if(this._debug(s,"session from storage",l),!this._isValidSession(l)){this._debug(s,"session is not valid"),l!==null&&await this._removeSession();return}const a=Math.round(Date.now()/1e3),u=((n=l.expires_at)!==null&&n!==void 0?n:1/0)<a+sf;if(this._debug(s,`session has${u?"":" not"} expired with margin of ${sf}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:f}=await this._callRefreshToken(l.refresh_token);f&&(console.error(f),oa(f)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(s,"error",l),console.error(l);return}finally{this._debug(s,"end")}}async _callRefreshToken(n){var s,l;if(!n)throw new fr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new to;const{data:u,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!u.session)throw new fr;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const p={session:u.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(u){if(this._debug(a,"error",u),ie(u)){const f={session:null,error:u};return oa(u)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(u),u}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(n,s,l=!0){const a=`#_notifyAllSubscribers(${n})`;this._debug(a,"begin",s,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:s});const u=[],f=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(n,s)}catch(m){u.push(m)}});if(await Promise.all(f),u.length>0){for(let p=0;p<u.length;p+=1)console.error(u[p]);throw u[0]}}finally{this._debug(a,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await qf(this.storage,this.storageKey,n)}async _removeSession(){this._debug("#_removeSession()"),await zi(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Lt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),vs);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:l}}=s;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((l.expires_at*1e3-n)/vs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${vs}ms, refresh threshold is ${ff} ticks`),a<=ff&&await this._callRefreshToken(l.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Vf)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Lt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,l){const a=[`provider=${encodeURIComponent(s)}`];if(l!=null&&l.redirectTo&&a.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l!=null&&l.scopes&&a.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[u,f]=await wn(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(f)}`});a.push(p.toString())}if(l!=null&&l.queryParams){const u=new URLSearchParams(l.queryParams);a.push(u.toString())}return l!=null&&l.skipBrowserRedirect&&a.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${a.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var l;const{data:a,error:u}=s;return u?{data:null,error:u}:await de(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=a==null?void 0:a.session)===null||l===void 0?void 0:l.access_token})})}catch(s){if(ie(s))return{data:null,error:s};throw s}}async _enroll(n){try{return await this._useSession(async s=>{var l,a;const{data:u,error:f}=s;if(f)return{data:null,error:f};const p=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:m,error:v}=await de(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token});return v?{data:null,error:v}:(n.factorType==="totp"&&(!((a=m==null?void 0:m.totp)===null||a===void 0)&&a.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(s){if(ie(s))return{data:null,error:s};throw s}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:a,error:u}=s;if(u)return{data:null,error:u};const{data:f,error:p}=await de(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(l=a==null?void 0:a.session)===null||l===void 0?void 0:l.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:p})})}catch(s){if(ie(s))return{data:null,error:s};throw s}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:a,error:u}=s;return u?{data:null,error:u}:await de(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(l=a==null?void 0:a.session)===null||l===void 0?void 0:l.access_token})})}catch(s){if(ie(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(n){const{data:s,error:l}=await this._challenge({factorId:n.factorId});return l?{data:null,error:l}:await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const l=(n==null?void 0:n.factors)||[],a=l.filter(f=>f.factor_type==="totp"&&f.status==="verified"),u=l.filter(f=>f.factor_type==="phone"&&f.status==="verified");return{data:{all:l,totp:a,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var s,l;const{data:{session:a},error:u}=n;if(u)return{data:null,error:u};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const f=this._decodeJWT(a.access_token);let p=null;f.aal&&(p=f.aal);let m=p;((l=(s=a.user.factors)===null||s===void 0?void 0:s.filter(x=>x.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(m="aal2");const y=f.amr||[];return{data:{currentLevel:p,nextLevel:m,currentAuthenticationMethods:y},error:null}}))}}Ss.nextInstanceID=0;const Z0=Ss;class ev extends Z0{constructor(n){super(n)}}var tv=function(o,n,s,l){function a(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function p(y){try{v(l.next(y))}catch(x){f(x)}}function m(y){try{v(l.throw(y))}catch(x){f(x)}}function v(y){y.done?u(y.value):a(y.value).then(p,m)}v((l=l.apply(o,n||[])).next())})};class rv{constructor(n,s,l){var a,u,f;if(this.supabaseUrl=n,this.supabaseKey=s,!n)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const p=m0(n);this.realtimeUrl=`${p}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${p}/auth/v1`,this.storageUrl=`${p}/storage/v1`,this.functionsUrl=`${p}/functions/v1`;const m=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,v={db:l0,realtime:u0,auth:Object.assign(Object.assign({},a0),{storageKey:m}),global:o0},y=g0(l??{},v);this.storageKey=(a=y.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(u=y.global.headers)!==null&&u!==void 0?u:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(x,k)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(k)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=y.auth)!==null&&f!==void 0?f:{},this.headers,y.global.fetch),this.fetch=h0(s,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new bg(`${p}/rest/v1`,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),y.accessToken||this._listenForAuthEvents()}get functions(){return new gg(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new n0(this.storageUrl,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,s={},l={}){return this.rest.rpc(n,s,l)}channel(n,s={config:{}}){return this.realtime.channel(n,s)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,s;return tv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:l}=yield this.auth.getSession();return(s=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:s,detectSessionInUrl:l,storage:a,storageKey:u,flowType:f,lock:p,debug:m},v,y){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ev({url:this.authUrl,headers:Object.assign(Object.assign({},x),v),storageKey:u,autoRefreshToken:n,persistSession:s,detectSessionInUrl:l,storage:a,flowType:f,lock:p,debug:m,fetch:y,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new Hg(this.realtimeUrl,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,l)=>{this._handleTokenChanged(s,"CLIENT",l==null?void 0:l.access_token)})}_handleTokenChanged(n,s,l){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==l?this.changedAccessToken=l:n==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const nv=(o,n,s)=>new rv(o,n,s),sv="https://jokniepplyfxnkhtqwft.supabase.co",iv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Impva25pZXBwbHlmeG5raHRxd2Z0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzgzMjcxMjksImV4cCI6MjA1MzkwMzEyOX0.iQFztO_noEOdPLtc7XB9yoK7nhdzl08lnM2rZc2Jwqg",W=nv(sv,iv,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!1}}),ov=o=>o.endsWith("@cuchd.in"),lv=async()=>{try{await W.rpc("create_profiles_if_not_exists"),await W.rpc("create_products_if_not_exists"),await W.rpc("create_admins_if_not_exists"),await W.rpc("create_chats_if_not_exists"),await W.rpc("create_messages_if_not_exists"),console.log("Database setup complete")}catch(o){console.error("Error setting up database:",o)}},av=async()=>{try{await W.rpc("create_function_profiles"),await W.rpc("create_function_products"),await W.rpc("create_function_admins"),await W.rpc("create_function_chats"),await W.rpc("create_function_messages"),console.log("Database functions initialized")}catch(o){console.error("Error initializing database functions:",o)}};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=o=>o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Le=(o,n)=>{const s=j.forwardRef(({color:l="currentColor",size:a=24,strokeWidth:u=2,absoluteStrokeWidth:f,className:p="",children:m,...v},y)=>j.createElement("svg",{ref:y,...uv,width:a,height:a,stroke:l,strokeWidth:f?Number(u)*24/Number(a):u,className:["lucide",`lucide-${cv(o)}`,p].join(" "),...v},[...n.map(([x,k])=>j.createElement(x,k)),...Array.isArray(m)?m:[m]]));return s.displayName=`${o}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=Le("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=Le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=Le("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=Le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=Le("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=Le("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=Le("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=Le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=Le("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=Le("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=Le("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=Le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=Le("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=Le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=Le("ShieldOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=Le("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=Le("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=Le("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=Le("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=Le("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=Le("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=Le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=Le("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),jv=({isAdmin:o=!1})=>{const n=Cn(),s=async()=>{await W.auth.signOut()};return h.jsx("nav",{className:"bg-purple-700 text-white shadow-lg",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex justify-between h-16 items-center",children:[h.jsxs(_n,{to:"/",className:"flex items-center space-x-2",children:[h.jsx(Kf,{className:"h-8 w-8"}),h.jsx("span",{className:"text-xl font-bold",children:"UniHive"})]}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs(_n,{to:"/new-listing",className:`flex items-center space-x-1 hover:text-purple-200 ${n.pathname==="/new-listing"?"text-purple-200":""}`,children:[h.jsx(gv,{className:"h-5 w-5"}),h.jsx("span",{children:"Sell"})]}),h.jsxs(_n,{to:"/messages",className:`flex items-center space-x-1 hover:text-purple-200 ${n.pathname==="/messages"?"text-purple-200":""}`,children:[h.jsx(va,{className:"h-5 w-5"}),h.jsx("span",{children:"Messages"})]}),o&&h.jsxs(_n,{to:"/admin",className:`flex items-center space-x-1 hover:text-purple-200 ${n.pathname==="/admin"?"text-purple-200":""}`,children:[h.jsx(ya,{className:"h-5 w-5"}),h.jsx("span",{children:"Admin"})]}),h.jsx(_n,{to:"/profile",className:`hover:text-purple-200 ${n.pathname==="/profile"?"text-purple-200":""}`,children:h.jsx(Gf,{className:"h-5 w-5"})}),h.jsx("button",{onClick:s,className:"hover:text-purple-200",children:h.jsx(mv,{className:"h-5 w-5"})})]})]})})})},Nv=()=>{const[o,n]=Vi.useState(null),[s,l]=Vi.useState(!0);return Vi.useEffect(()=>{async function a(){try{l(!0);const{data:{user:u}}=await W.auth.getUser();if(u){const{data:f}=await W.from("profiles").select("full_name").eq("id",u.id).single();f&&f.full_name&&n(f.full_name)}}catch(u){console.error("Error loading user data:",u)}finally{l(!1)}}a()},[]),s?null:h.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-6",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold",children:o?`Welcome back, ${o}!`:"Welcome to UniHive!"}),h.jsx("p",{className:"mt-1 text-purple-100",children:"The marketplace exclusively for Chandigarh University students"})]})})})},Cv=()=>{const[o,n]=j.useState(""),[s,l]=j.useState(""),[a,u]=j.useState(""),[f,p]=j.useState(!1),[m,v]=j.useState("signin"),[y,x]=j.useState(!1),[k,T]=j.useState(""),O=async P=>{if(P.preventDefault(),u(""),T(""),p(!0),!y&&!ov(o)){u("Please use your @cuchd.in email address"),p(!1);return}try{if(m==="signup"&&!y){const{error:D}=await W.auth.signUp({email:o,password:s,options:{emailRedirectTo:`${window.location.origin}/auth/callback`,data:{email_confirmed:!0}}});if(D)throw D;T("Signup successful! You can now sign in."),v("signin")}else if(m==="forgot"){const{error:D}=await W.auth.resetPasswordForEmail(o,{redirectTo:`${window.location.origin}/auth/callback`});if(D)throw D;T("Password reset instructions have been sent to your email.")}else{const{error:D}=await W.auth.signInWithPassword({email:o,password:s});if(D)throw D}}catch(D){u(D.message)}finally{p(!1)}},R=()=>{x(!y),u(""),T("")};return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-indigo-100 flex items-center justify-center p-4",children:h.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg overflow-hidden",children:[h.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 p-6 text-white text-center",children:[h.jsx("div",{className:"flex justify-center mb-3",children:h.jsx(Kf,{className:"h-12 w-12"})}),h.jsx("h1",{className:"text-3xl font-bold",children:"UniHive"}),h.jsx("p",{className:"mt-1 text-purple-100",children:"The marketplace exclusively for Chandigarh University students"})]}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex justify-between mb-6",children:[h.jsx("button",{onClick:()=>{v("signin"),u(""),T("")},className:`flex-1 py-2 text-center font-medium border-b-2 ${m==="signin"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Sign In"}),h.jsx("button",{onClick:()=>{v("signup"),u(""),T("")},className:`flex-1 py-2 text-center font-medium border-b-2 ${m==="signup"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Sign Up"}),h.jsx("button",{onClick:()=>{v("forgot"),u(""),T("")},className:`flex-1 py-2 text-center font-medium border-b-2 ${m==="forgot"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Forgot"})]}),a&&h.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded mb-4",children:h.jsx("span",{children:a})}),k&&h.jsx("div",{className:"bg-green-50 text-green-700 p-3 rounded mb-4",children:h.jsx("span",{children:k})}),h.jsxs("form",{onSubmit:O,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),h.jsx("input",{type:"email",value:o,onChange:P=>n(P.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring focus:ring-purple-200",placeholder:y?"Admin email":"your.name@cuchd.in",required:!0})]}),m!=="forgot"&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),h.jsx("input",{type:"password",value:s,onChange:P=>l(P.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring focus:ring-purple-200",placeholder:"••••••••",required:!0})]}),h.jsx("button",{type:"submit",disabled:f,className:"w-full bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-70 flex items-center justify-center",children:f?"Processing...":m==="signin"?"Sign In":m==="signup"?"Sign Up":h.jsxs(h.Fragment,{children:[h.jsx(hv,{className:"h-4 w-4 mr-2"}),"Reset Password"]})})]}),h.jsx("div",{className:"mt-6 text-center",children:h.jsxs("button",{onClick:R,className:"text-sm text-gray-600 hover:text-purple-600 flex items-center justify-center mx-auto",children:[h.jsx(xv,{className:"h-4 w-4 mr-1"}),y?"Student Login":"Admin Login"]})})]})]})})};let bv={data:""},Tv=o=>typeof window=="object"?((o?o.querySelector("#_goober"):window._goober)||Object.assign((o||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:o||bv,Pv=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Rv=/\/\*[^]*?\*\/|  +/g,gf=/\n+/g,gr=(o,n)=>{let s="",l="",a="";for(let u in o){let f=o[u];u[0]=="@"?u[1]=="i"?s=u+" "+f+";":l+=u[1]=="f"?gr(f,u):u+"{"+gr(f,u[1]=="k"?"":n)+"}":typeof f=="object"?l+=gr(f,n?n.replace(/([^,])+/g,p=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,p):p?p+" "+m:m)):u):f!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=gr.p?gr.p(u,f):u+":"+f+";")}return s+(n&&a?n+"{"+a+"}":a)+l},Bt={},Jf=o=>{if(typeof o=="object"){let n="";for(let s in o)n+=s+Jf(o[s]);return n}return o},Ov=(o,n,s,l,a)=>{let u=Jf(o),f=Bt[u]||(Bt[u]=(m=>{let v=0,y=11;for(;v<m.length;)y=101*y+m.charCodeAt(v++)>>>0;return"go"+y})(u));if(!Bt[f]){let m=u!==o?o:(v=>{let y,x,k=[{}];for(;y=Pv.exec(v.replace(Rv,""));)y[4]?k.shift():y[3]?(x=y[3].replace(gf," ").trim(),k.unshift(k[0][x]=k[0][x]||{})):k[0][y[1]]=y[2].replace(gf," ").trim();return k[0]})(o);Bt[f]=gr(a?{["@keyframes "+f]:m}:m,s?"":"."+f)}let p=s&&Bt.g?Bt.g:null;return s&&(Bt.g=Bt[f]),((m,v,y,x)=>{x?v.data=v.data.replace(x,m):v.data.indexOf(m)===-1&&(v.data=y?m+v.data:v.data+m)})(Bt[f],n,l,p),f},Lv=(o,n,s)=>o.reduce((l,a,u)=>{let f=n[u];if(f&&f.call){let p=f(s),m=p&&p.props&&p.props.className||/^go/.test(p)&&p;f=m?"."+m:p&&typeof p=="object"?p.props?"":gr(p,""):p===!1?"":p}return l+a+(f??"")},"");function ro(o){let n=this||{},s=o.call?o(n.p):o;return Ov(s.unshift?s.raw?Lv(s,[].slice.call(arguments,1),n.p):s.reduce((l,a)=>Object.assign(l,a&&a.call?a(n.p):a),{}):s,Tv(n.target),n.g,n.o,n.k)}let Qf,wa,xa;ro.bind({g:1});let Wt=ro.bind({k:1});function Av(o,n,s,l){gr.p=n,Qf=o,wa=s,xa=l}function xr(o,n){let s=this||{};return function(){let l=arguments;function a(u,f){let p=Object.assign({},u),m=p.className||a.className;s.p=Object.assign({theme:wa&&wa()},p),s.o=/ *go\d+/.test(m),p.className=ro.apply(s,l)+(m?" "+m:"");let v=o;return o[0]&&(v=p.as||o,delete p.as),xa&&v[0]&&xa(p),Qf(v,p)}return a}}var Iv=o=>typeof o=="function",Xi=(o,n)=>Iv(o)?o(n):o,$v=(()=>{let o=0;return()=>(++o).toString()})(),Yf=(()=>{let o;return()=>{if(o===void 0&&typeof window<"u"){let n=matchMedia("(prefers-reduced-motion: reduce)");o=!n||n.matches}return o}})(),Uv=20,Xf=(o,n)=>{switch(n.type){case 0:return{...o,toasts:[n.toast,...o.toasts].slice(0,Uv)};case 1:return{...o,toasts:o.toasts.map(u=>u.id===n.toast.id?{...u,...n.toast}:u)};case 2:let{toast:s}=n;return Xf(o,{type:o.toasts.find(u=>u.id===s.id)?1:0,toast:s});case 3:let{toastId:l}=n;return{...o,toasts:o.toasts.map(u=>u.id===l||l===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return n.toastId===void 0?{...o,toasts:[]}:{...o,toasts:o.toasts.filter(u=>u.id!==n.toastId)};case 5:return{...o,pausedAt:n.time};case 6:let a=n.time-(o.pausedAt||0);return{...o,pausedAt:void 0,toasts:o.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+a}))}}},Gi=[],Ur={toasts:[],pausedAt:void 0},Mr=o=>{Ur=Xf(Ur,o),Gi.forEach(n=>{n(Ur)})},Dv={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Fv=(o={})=>{let[n,s]=j.useState(Ur),l=j.useRef(Ur);j.useEffect(()=>(l.current!==Ur&&s(Ur),Gi.push(s),()=>{let u=Gi.indexOf(s);u>-1&&Gi.splice(u,1)}),[]);let a=n.toasts.map(u=>{var f,p,m;return{...o,...o[u.type],...u,removeDelay:u.removeDelay||((f=o[u.type])==null?void 0:f.removeDelay)||(o==null?void 0:o.removeDelay),duration:u.duration||((p=o[u.type])==null?void 0:p.duration)||(o==null?void 0:o.duration)||Dv[u.type],style:{...o.style,...(m=o[u.type])==null?void 0:m.style,...u.style}}});return{...n,toasts:a}},Mv=(o,n="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:n,ariaProps:{role:"status","aria-live":"polite"},message:o,pauseDuration:0,...s,id:(s==null?void 0:s.id)||$v()}),Cs=o=>(n,s)=>{let l=Mv(n,o,s);return Mr({type:2,toast:l}),l.id},et=(o,n)=>Cs("blank")(o,n);et.error=Cs("error");et.success=Cs("success");et.loading=Cs("loading");et.custom=Cs("custom");et.dismiss=o=>{Mr({type:3,toastId:o})};et.remove=o=>Mr({type:4,toastId:o});et.promise=(o,n,s)=>{let l=et.loading(n.loading,{...s,...s==null?void 0:s.loading});return typeof o=="function"&&(o=o()),o.then(a=>{let u=n.success?Xi(n.success,a):void 0;return u?et.success(u,{id:l,...s,...s==null?void 0:s.success}):et.dismiss(l),a}).catch(a=>{let u=n.error?Xi(n.error,a):void 0;u?et.error(u,{id:l,...s,...s==null?void 0:s.error}):et.dismiss(l)}),o};var zv=(o,n)=>{Mr({type:1,toast:{id:o,height:n}})},Bv=()=>{Mr({type:5,time:Date.now()})},_s=new Map,Hv=1e3,qv=(o,n=Hv)=>{if(_s.has(o))return;let s=setTimeout(()=>{_s.delete(o),Mr({type:4,toastId:o})},n);_s.set(o,s)},Wv=o=>{let{toasts:n,pausedAt:s}=Fv(o);j.useEffect(()=>{if(s)return;let u=Date.now(),f=n.map(p=>{if(p.duration===1/0)return;let m=(p.duration||0)+p.pauseDuration-(u-p.createdAt);if(m<0){p.visible&&et.dismiss(p.id);return}return setTimeout(()=>et.dismiss(p.id),m)});return()=>{f.forEach(p=>p&&clearTimeout(p))}},[n,s]);let l=j.useCallback(()=>{s&&Mr({type:6,time:Date.now()})},[s]),a=j.useCallback((u,f)=>{let{reverseOrder:p=!1,gutter:m=8,defaultPosition:v}=f||{},y=n.filter(T=>(T.position||v)===(u.position||v)&&T.height),x=y.findIndex(T=>T.id===u.id),k=y.filter((T,O)=>O<x&&T.visible).length;return y.filter(T=>T.visible).slice(...p?[k+1]:[0,k]).reduce((T,O)=>T+(O.height||0)+m,0)},[n]);return j.useEffect(()=>{n.forEach(u=>{if(u.dismissed)qv(u.id,u.removeDelay);else{let f=_s.get(u.id);f&&(clearTimeout(f),_s.delete(u.id))}})},[n]),{toasts:n,handlers:{updateHeight:zv,startPause:Bv,endPause:l,calculateOffset:a}}},Vv=Wt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Kv=Wt`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Gv=Wt`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Jv=xr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${o=>o.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Vv} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Kv} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${o=>o.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Gv} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Qv=Wt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Yv=xr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${o=>o.secondary||"#e0e0e0"};
  border-right-color: ${o=>o.primary||"#616161"};
  animation: ${Qv} 1s linear infinite;
`,Xv=Wt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Zv=Wt`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ey=xr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${o=>o.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Xv} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Zv} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${o=>o.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ty=xr("div")`
  position: absolute;
`,ry=xr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,ny=Wt`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,sy=xr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${ny} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,iy=({toast:o})=>{let{icon:n,type:s,iconTheme:l}=o;return n!==void 0?typeof n=="string"?j.createElement(sy,null,n):n:s==="blank"?null:j.createElement(ry,null,j.createElement(Yv,{...l}),s!=="loading"&&j.createElement(ty,null,s==="error"?j.createElement(Jv,{...l}):j.createElement(ey,{...l})))},oy=o=>`
0% {transform: translate3d(0,${o*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ly=o=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${o*-150}%,-1px) scale(.6); opacity:0;}
`,ay="0%{opacity:0;} 100%{opacity:1;}",uy="0%{opacity:1;} 100%{opacity:0;}",cy=xr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,dy=xr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,fy=(o,n)=>{let s=o.includes("top")?1:-1,[l,a]=Yf()?[ay,uy]:[oy(s),ly(s)];return{animation:n?`${Wt(l)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Wt(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},hy=j.memo(({toast:o,position:n,style:s,children:l})=>{let a=o.height?fy(o.position||n||"top-center",o.visible):{opacity:0},u=j.createElement(iy,{toast:o}),f=j.createElement(dy,{...o.ariaProps},Xi(o.message,o));return j.createElement(cy,{className:o.className,style:{...a,...s,...o.style}},typeof l=="function"?l({icon:u,message:f}):j.createElement(j.Fragment,null,u,f))});Av(j.createElement);var py=({id:o,className:n,style:s,onHeightUpdate:l,children:a})=>{let u=j.useCallback(f=>{if(f){let p=()=>{let m=f.getBoundingClientRect().height;l(o,m)};p(),new MutationObserver(p).observe(f,{subtree:!0,childList:!0,characterData:!0})}},[o,l]);return j.createElement("div",{ref:u,className:n,style:s},a)},my=(o,n)=>{let s=o.includes("top"),l=s?{top:0}:{bottom:0},a=o.includes("center")?{justifyContent:"center"}:o.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Yf()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${n*(s?1:-1)}px)`,...l,...a}},gy=ro`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,qi=16,vy=({reverseOrder:o,position:n="top-center",toastOptions:s,gutter:l,children:a,containerStyle:u,containerClassName:f})=>{let{toasts:p,handlers:m}=Wv(s);return j.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:qi,left:qi,right:qi,bottom:qi,pointerEvents:"none",...u},className:f,onMouseEnter:m.startPause,onMouseLeave:m.endPause},p.map(v=>{let y=v.position||n,x=m.calculateOffset(v,{reverseOrder:o,gutter:l,defaultPosition:n}),k=my(y,x);return j.createElement(py,{id:v.id,key:v.id,onHeightUpdate:m.updateHeight,className:v.visible?gy:"",style:k},v.type==="custom"?Xi(v.message,v):a?a(v):j.createElement(hy,{toast:v,position:y}))}))},Wi=et;const yy=({session:o})=>{const[n,s]=j.useState([]),[l,a]=j.useState(null),[u,f]=j.useState([]),[p,m]=j.useState(""),[v,y]=j.useState(!0),[x,k]=j.useState(!1),[T,O]=j.useState(""),R=j.useRef(null),P=j.useRef(null),D=j.useRef(null);j.useEffect(()=>(J(),Z(),()=>{P.current&&W.removeChannel(P.current)}),[o.user.id]),j.useEffect(()=>(l&&(X(),B()),()=>{D.current&&W.removeChannel(D.current)}),[l]),j.useEffect(()=>{var M;(M=R.current)==null||M.scrollIntoView({behavior:"smooth"})},[u]);const Z=()=>{P.current=W.channel("chat-changes").on("postgres_changes",{event:"*",schema:"public",table:"chats",filter:`buyer_id=eq.${o.user.id},seller_id=eq.${o.user.id}`},()=>{J()}).subscribe()},B=()=>{l&&(D.current=W.channel(`messages-${l.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`chat_id=eq.${l.id}`},M=>{const re=M.new;re.sender_id!==o.user.id&&Wi.success(`New message from ${l.otherUser.full_name}`),f(Ee=>[...Ee,re])}).subscribe())},J=async()=>{try{y(!0),O("");const{data:M,error:re}=await W.from("chats").select("*").or(`buyer_id.eq.${o.user.id},seller_id.eq.${o.user.id}`).order("created_at",{ascending:!1});if(re)throw re;if(M){const Ee=await Promise.all(M.map(async U=>{const he=U.buyer_id===o.user.id?U.seller_id:U.buyer_id,{data:ae}=await W.from("products").select("*").eq("id",U.product_id).single(),{data:z}=await W.from("profiles").select("*").eq("id",he).single();return{...U,product:ae||null,otherUser:z||null}}));s(Ee.filter(U=>U.product&&U.otherUser)),Ee.length>0&&!l&&a(Ee[0])}}catch(M){console.error("Error fetching chats:",M),O(M.message)}finally{y(!1)}},X=async()=>{if(l)try{y(!0),O("");const{data:M,error:re}=await W.from("messages").select("*").eq("chat_id",l.id).order("created_at",{ascending:!0});if(re)throw re;f(M||[])}catch(M){console.error("Error fetching messages:",M),O(M.message)}finally{y(!1)}},ye=async M=>{if(M.preventDefault(),!(!p.trim()||!l))try{k(!0),O("");const{error:re}=await W.from("messages").insert({chat_id:l.id,sender_id:o.user.id,content:p.trim()});if(re)throw re;m("")}catch(re){console.error("Error sending message:",re),O(re.message),Wi.error("Failed to send message")}finally{k(!1)}},le=M=>{a(M)},fe=async M=>{if(l)try{y(!0),O("");const{error:re}=await W.from("chats").update({status:M}).eq("id",l.id);if(re)throw re;a({...l,status:M}),s(n.map(Ee=>Ee.id===l.id?{...Ee,status:M}:Ee)),Wi.success(`Chat request ${M}`)}catch(re){console.error("Error updating chat status:",re),O(re.message),Wi.error("Failed to update chat status")}finally{y(!1)}},_e=M=>new Date(M).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),Ne=M=>new Date(M).toLocaleDateString();return h.jsxs("div",{className:"max-w-6xl mx-auto p-4 sm:p-6 lg:p-8",children:[h.jsx(vy,{position:"top-right"}),h.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Messages"}),T&&h.jsxs("div",{className:"bg-red-50 text-red-600 p-4 rounded-md mb-6",children:["Error: ",T]}),h.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:h.jsxs("div",{className:"flex h-[70vh]",children:[h.jsx("div",{className:"w-1/3 border-r border-gray-200 overflow-y-auto",children:v&&n.length===0?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-purple-500 border-t-transparent"})}):n.length===0?h.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:h.jsx("p",{children:"No messages yet"})}):h.jsx("div",{children:n.map(M=>h.jsx("div",{className:`p-4 border-b border-gray-200 cursor-pointer hover:bg-purple-50 ${(l==null?void 0:l.id)===M.id?"bg-purple-50":""}`,onClick:()=>le(M),children:h.jsxs("div",{className:"flex items-start",children:[h.jsx("img",{src:M.product.image_url,alt:M.product.title,className:"w-12 h-12 object-cover rounded-md mr-3"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:M.product.title}),h.jsx("p",{className:"text-xs text-gray-500 truncate",children:M.otherUser.full_name}),h.jsxs("div",{className:"flex items-center mt-1",children:[M.status==="pending"&&h.jsxs("div",{className:"flex items-center text-yellow-600 text-xs",children:[h.jsx(dv,{className:"h-3 w-3 mr-1"}),"Pending"]}),M.status==="accepted"&&h.jsxs("div",{className:"flex items-center text-green-600 text-xs",children:[h.jsx(Yi,{className:"h-3 w-3 mr-1"}),"Accepted"]}),M.status==="rejected"&&h.jsxs("div",{className:"flex items-center text-red-600 text-xs",children:[h.jsx(mf,{className:"h-3 w-3 mr-1"}),"Rejected"]})]})]}),h.jsx("p",{className:"text-xs text-gray-500",children:Ne(M.created_at)})]})},M.id))})}),h.jsx("div",{className:"w-2/3 flex flex-col",children:l?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center",children:[h.jsx("div",{className:"flex-1",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("img",{src:l.product.image_url,alt:l.product.title,className:"w-10 h-10 object-cover rounded-md mr-3"}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:l.product.title}),h.jsx("p",{className:"text-sm text-gray-500",children:l.otherUser.full_name})]})]})}),l.seller_id===o.user.id&&l.status==="pending"&&h.jsxs("div",{className:"flex space-x-2",children:[h.jsxs("button",{onClick:()=>fe("accepted"),className:"bg-green-100 text-green-700 px-3 py-1 rounded-md text-sm flex items-center",children:[h.jsx(Yi,{className:"h-4 w-4 mr-1"}),"Accept"]}),h.jsxs("button",{onClick:()=>fe("rejected"),className:"bg-red-100 text-red-700 px-3 py-1 rounded-md text-sm flex items-center",children:[h.jsx(mf,{className:"h-4 w-4 mr-1"}),"Decline"]})]})]}),l.status==="pending"&&h.jsx("div",{className:"bg-yellow-50 p-3 text-center text-yellow-700 text-sm",children:l.seller_id===o.user.id?"This buyer is interested in your product. Accept to start chatting.":"Waiting for the seller to accept your request."}),l.status==="rejected"&&h.jsx("div",{className:"bg-red-50 p-3 text-center text-red-700 text-sm",children:l.seller_id===o.user.id?"You declined this request.":"The seller declined your request."}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[l.status==="accepted"?u.length===0?h.jsx("div",{className:"text-center text-gray-500 py-8",children:h.jsx("p",{children:"No messages yet. Start the conversation!"})}):u.map(M=>{const re=M.sender_id===o.user.id;return h.jsx("div",{className:`flex ${re?"justify-end":"justify-start"}`,children:h.jsxs("div",{className:`max-w-[70%] rounded-lg px-4 py-2 ${re?"bg-purple-600 text-white":"bg-gray-100 text-gray-800"}`,children:[h.jsx("p",{children:M.content}),h.jsx("p",{className:`text-xs mt-1 ${re?"text-purple-200":"text-gray-500"}`,children:_e(M.created_at)})]})},M.id)}):h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("div",{className:"text-center text-gray-500",children:l.status==="pending"?"You'll be able to chat once the request is accepted.":"This request was declined. No messages can be sent."})}),h.jsx("div",{ref:R})]}),l.status==="accepted"&&h.jsx("form",{onSubmit:ye,className:"p-4 border-t border-gray-200",children:h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("input",{type:"text",value:p,onChange:M=>m(M.target.value),placeholder:"Type a message...",className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring focus:ring-purple-200",disabled:x}),h.jsx("button",{type:"submit",disabled:!p.trim()||x,className:"bg-purple-600 text-white p-2 rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-70",children:x?h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}):h.jsx(wv,{className:"h-5 w-5"})})]})})]}):h.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:h.jsx("p",{children:"Select a conversation to start chatting"})})})]})})]})},wy=({session:o})=>{const{id:n}=$m(),s=eo(),[l,a]=j.useState(null),[u,f]=j.useState(null),[p,m]=j.useState(!0),[v,y]=j.useState(""),[x,k]=j.useState(!1),[T,O]=j.useState(null),[R,P]=j.useState(!1);j.useEffect(()=>{if(!n)return;async function J(){try{m(!0),y("");const{data:X,error:ye}=await W.from("products").select("*").eq("id",n).single();if(ye)throw ye;if(!X)throw new Error("Product not found");a(X);const{data:le,error:fe}=await W.from("profiles").select("*").eq("id",X.seller_id).single();if(fe)throw fe;if(f(le),o.user.id!==X.seller_id){const{data:_e,error:Ne}=await W.from("chats").select("*").eq("product_id",n).eq("buyer_id",o.user.id).eq("seller_id",X.seller_id).single();!Ne&&_e&&(k(!0),O(_e.status))}}catch(X){console.error("Error fetching product details:",X),y(X.message)}finally{m(!1)}}J()},[n,o.user.id]);const D=async()=>{if(!(!l||!o.user.id))try{if(P(!0),y(""),o.user.id===l.seller_id){y("You can't buy your own product");return}const{data:J,error:X}=await W.from("chats").insert({product_id:l.id,buyer_id:o.user.id,seller_id:l.seller_id,status:"pending"}).select().single();if(X)throw X;k(!0),O("pending")}catch(J){console.error("Error sending buy request:",J),y(J.message)}finally{P(!1)}},Z=()=>{s("/messages")};if(p)return h.jsx("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8",children:h.jsxs("div",{className:"text-center py-10",children:[h.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-purple-500 border-t-transparent"}),h.jsx("p",{className:"mt-2 text-gray-600",children:"Loading product details..."})]})});if(v)return h.jsx("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8",children:h.jsxs("div",{className:"bg-red-50 text-red-600 p-4 rounded-md",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(js,{className:"h-5 w-5 mr-2"}),h.jsxs("span",{children:["Error: ",v]})]}),h.jsxs("button",{onClick:()=>s("/"),className:"mt-4 inline-flex items-center text-purple-600 hover:text-purple-800",children:[h.jsx(Ki,{className:"h-4 w-4 mr-1"}),"Back to products"]})]})});if(!l||!u)return h.jsx("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8",children:h.jsxs("div",{className:"bg-yellow-50 text-yellow-700 p-4 rounded-md",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(js,{className:"h-5 w-5 mr-2"}),h.jsx("span",{children:"Product not found"})]}),h.jsxs("button",{onClick:()=>s("/"),className:"mt-4 inline-flex items-center text-purple-600 hover:text-purple-800",children:[h.jsx(Ki,{className:"h-4 w-4 mr-1"}),"Back to products"]})]})});const B=o.user.id===l.seller_id;return h.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8",children:[h.jsxs("button",{onClick:()=>s("/"),className:"inline-flex items-center text-purple-600 hover:text-purple-800 mb-6",children:[h.jsx(Ki,{className:"h-4 w-4 mr-1"}),"Back to products"]}),h.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:h.jsxs("div",{className:"md:flex",children:[h.jsx("div",{className:"md:w-1/2",children:h.jsx("img",{src:l.image_url,alt:l.title,className:"w-full h-64 md:h-full object-cover"})}),h.jsxs("div",{className:"md:w-1/2 p-6",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:l.title}),h.jsx("span",{className:"inline-block bg-purple-100 text-purple-800 text-xs px-2 py-1 rounded capitalize",children:l.condition.replace("-"," ")})]}),h.jsxs("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:["₹",l.price]}),h.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Category: ",l.category]}),h.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Description"}),h.jsx("p",{className:"mt-2 text-gray-600",children:l.description})]}),h.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Seller Information"}),h.jsx("p",{className:"mt-2 text-gray-600",children:u.full_name}),h.jsx("p",{className:"text-sm text-gray-500",children:u.course})]}),h.jsx("div",{className:"mt-6",children:B?h.jsx("div",{className:"bg-purple-50 p-4 rounded-md",children:h.jsx("p",{className:"text-purple-700",children:"This is your listing"})}):x?h.jsxs("div",{className:"space-y-4",children:[T==="pending"&&h.jsx("div",{className:"bg-yellow-50 p-4 rounded-md",children:h.jsx("p",{className:"text-yellow-700",children:"Your buy request has been sent. Waiting for seller to accept."})}),T==="accepted"&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"bg-green-50 p-4 rounded-md",children:h.jsx("p",{className:"text-green-700",children:"Your buy request has been accepted! You can now chat with the seller."})}),h.jsxs("button",{onClick:Z,className:"w-full bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 flex items-center justify-center",children:[h.jsx(va,{className:"h-5 w-5 mr-2"}),"Go to Chat"]})]}),T==="rejected"&&h.jsx("div",{className:"bg-red-50 p-4 rounded-md",children:h.jsx("p",{className:"text-red-700",children:"Your buy request was declined by the seller."})})]}):h.jsx("button",{onClick:D,disabled:R,className:"w-full bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 flex items-center justify-center",children:R?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent mr-2"}),"Processing..."]}):h.jsxs(h.Fragment,{children:[h.jsx(va,{className:"h-5 w-5 mr-2"}),"Request to Buy"]})})})]})]})})]})},xy=({session:o})=>{const[n,s]=j.useState(!1),[l,a]=j.useState([]),[u,f]=j.useState([]),[p,m]=j.useState([]),[v,y]=j.useState(!0),[x,k]=j.useState(""),[T,O]=j.useState(""),[R,P]=j.useState(""),[D,Z]=j.useState(!1),[B,J]=j.useState("users");j.useEffect(()=>{X(),ye(),le(),fe()},[o.user.id]);const X=async()=>{try{const{data:U,error:Y}=await W.from("admins").select("is_master").eq("id",o.user.id).single();if(Y){console.error("Error checking master admin status:",Y),s(!1);return}s((U==null?void 0:U.is_master)||!1)}catch(U){console.error("Error checking master admin status:",U),s(!1)}},ye=async()=>{try{y(!0);const{data:U,error:Y}=await W.from("admins").select("*").order("created_at",{ascending:!1});if(Y)throw Y;const he=await Promise.all((U||[]).map(async ae=>{const{data:z}=await W.from("profiles").select("*").eq("id",ae.id).single();return{...ae,profile:z||void 0}}));a(he)}catch(U){console.error("Error fetching admins:",U),k(U.message)}finally{y(!1)}},le=async()=>{try{y(!0);const{data:U,error:Y}=await W.from("profiles").select("*").order("created_at",{ascending:!1});if(Y)throw Y;f(U||[])}catch(U){console.error("Error fetching users:",U),k(U.message)}finally{y(!1)}},fe=async()=>{try{y(!0);const{data:U,error:Y}=await W.from("products").select("*").order("created_at",{ascending:!1});if(Y)throw Y;const he=await Promise.all((U||[]).map(async ae=>{const{data:z}=await W.from("profiles").select("*").eq("id",ae.seller_id).single();return{...ae,seller:z||void 0}}));m(he)}catch(U){console.error("Error fetching products:",U),k(U.message)}finally{y(!1)}},_e=async()=>{if(R)try{Z(!0),k(""),O("");const Y=R.split("@")[0];if(!Y){k("Invalid email format");return}const{data:he,error:ae}=await W.from("profiles").select("id").eq("username",Y).single();if(ae){console.error("Error finding user:",ae),k(`User with email ${R} not found`);return}if(!he){k(`User with email ${R} not found`);return}const{data:z,error:ne}=await W.from("admins").select("id").eq("id",he.id).single();if(z){k("This user is already an admin");return}const{error:q}=await W.from("admins").insert({id:he.id,is_master:!1,created_by:o.user.id});if(q)throw q;O(`Admin ${R} added successfully`),P(""),ye()}catch(U){console.error("Error adding admin:",U),k(U.message)}finally{Z(!1)}},Ne=async U=>{try{y(!0),k(""),O("");const{error:Y}=await W.from("admins").update({is_master:!0}).eq("id",U);if(Y)throw Y;O("Admin promoted to master admin successfully"),ye()}catch(Y){console.error("Error promoting admin:",Y),k(Y.message)}finally{y(!1)}},M=async U=>{try{y(!0),k(""),O("");const Y=l.filter(ae=>ae.is_master);if(Y.length===1&&Y[0].id===U){k("Cannot demote the last master admin"),y(!1);return}const{error:he}=await W.from("admins").update({is_master:!1}).eq("id",U);if(he)throw he;O("Master admin demoted to regular admin successfully"),ye()}catch(Y){console.error("Error demoting admin:",Y),k(Y.message)}finally{y(!1)}},re=async U=>{try{y(!0),k(""),O("");const Y=l.find(ae=>ae.id===U);if(Y!=null&&Y.is_master&&l.filter(z=>z.is_master).length===1){k("Cannot remove the last master admin"),y(!1);return}const{error:he}=await W.from("admins").delete().eq("id",U);if(he)throw he;O("Admin removed successfully"),ye()}catch(Y){console.error("Error removing admin:",Y),k(Y.message)}finally{y(!1)}},Ee=async U=>{try{y(!0),k(""),O("");const{error:Y}=await W.from("products").delete().eq("id",U);if(Y)throw Y;O("Product deleted successfully"),fe()}catch(Y){console.error("Error deleting product:",Y),k(Y.message)}finally{y(!1)}};return h.jsxs("div",{className:"min-h-screen bg-gray-100",children:[h.jsx("div",{className:"bg-purple-700 text-white shadow-lg",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsx("div",{className:"flex justify-between h-16 items-center",children:h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(ya,{className:"h-8 w-8"}),h.jsx("span",{className:"text-xl font-bold",children:"UniHive Admin Portal"})]})})})}),h.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[x&&h.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-md mb-6",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(js,{className:"h-5 w-5 mr-2"}),h.jsx("span",{children:x})]})}),T&&h.jsx("div",{className:"bg-green-50 text-green-600 p-4 rounded-md mb-6",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(Yi,{className:"h-5 w-5 mr-2"}),h.jsx("span",{children:T})]})}),h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsx("div",{className:"border-b border-gray-200",children:h.jsxs("nav",{className:"flex -mb-px",children:[h.jsx("button",{onClick:()=>J("users"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${B==="users"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Users"}),h.jsx("button",{onClick:()=>J("products"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${B==="products"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Products"}),h.jsx("button",{onClick:()=>J("admins"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${B==="admins"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Admins"})]})}),h.jsxs("div",{className:"p-6",children:[B==="users"&&h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold mb-4",children:"All Users"}),v&&u.length===0?h.jsxs("div",{className:"text-center py-4",children:[h.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-purple-500 border-t-transparent"}),h.jsx("p",{className:"mt-2 text-gray-600",children:"Loading users..."})]}):u.length===0?h.jsx("p",{className:"text-gray-500",children:"No users found"}):h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(U=>h.jsxs("tr",{children:[h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[h.jsx("div",{className:"text-sm font-medium text-gray-900",children:U.full_name}),h.jsxs("div",{className:"text-sm text-gray-500",children:["@",U.username]})]}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[U.username,"@cuchd.in"]}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U.course}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(U.created_at||"").toLocaleDateString()})]},U.id))})]})})]}),B==="products"&&h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold mb-4",children:"All Products"}),v&&p.length===0?h.jsxs("div",{className:"text-center py-4",children:[h.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-purple-500 border-t-transparent"}),h.jsx("p",{className:"mt-2 text-gray-600",children:"Loading products..."})]}):p.length===0?h.jsx("p",{className:"text-gray-500",children:"No products found"}):h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seller"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Listed"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(U=>{var Y;return h.jsxs("tr",{children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:h.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:U.image_url,alt:""})}),h.jsxs("div",{className:"ml-4",children:[h.jsx("div",{className:"text-sm font-medium text-gray-900",children:U.title}),h.jsx("div",{className:"text-sm text-gray-500",children:U.condition.replace("-"," ")})]})]})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("div",{className:"text-sm text-gray-900",children:["₹",U.price]})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("div",{className:"text-sm text-gray-900",children:U.category})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("div",{className:"text-sm text-gray-900",children:((Y=U.seller)==null?void 0:Y.full_name)||"Unknown"})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(U.created_at).toLocaleDateString()}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:h.jsx("button",{onClick:()=>Ee(U.id),className:"text-red-600 hover:text-red-900",children:h.jsx(pf,{className:"h-5 w-5"})})})]},U.id)})})]})})]}),B==="admins"&&h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Admin Management"}),n&&h.jsxs("div",{className:"mb-6 bg-purple-50 p-4 rounded-lg",children:[h.jsx("h3",{className:"text-lg font-medium text-purple-800 mb-2",children:"Add New Admin"}),h.jsxs("div",{className:"flex",children:[h.jsx("input",{type:"email",value:R,onChange:U=>P(U.target.value),placeholder:"Enter user email (e.g., 21bcs6987@cuchd.in)",className:"flex-1 rounded-l-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring focus:ring-purple-200"}),h.jsx("button",{onClick:_e,disabled:D||!R,className:"bg-purple-600 text-white px-4 py-2 rounded-r-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-70 flex items-center",children:D?h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}):h.jsxs(h.Fragment,{children:[h.jsx(Sv,{className:"h-5 w-5 mr-1"}),"Add Admin"]})})]})]}),v&&l.length===0?h.jsxs("div",{className:"text-center py-4",children:[h.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-purple-500 border-t-transparent"}),h.jsx("p",{className:"mt-2 text-gray-600",children:"Loading admins..."})]}):l.length===0?h.jsx("p",{className:"text-gray-500",children:"No admins found"}):h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Admin"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Added On"}),n&&h.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(U=>{var Y,he;return h.jsxs("tr",{children:[h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[h.jsx("div",{className:"text-sm font-medium text-gray-900",children:((Y=U.profile)==null?void 0:Y.full_name)||"Unknown"}),h.jsxs("div",{className:"text-sm text-gray-500",children:[((he=U.profile)==null?void 0:he.username)||"Unknown","@cuchd.in"]})]}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${U.is_master?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:U.is_master?"Master Admin":"Admin"})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(U.created_at).toLocaleDateString()}),n&&h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:h.jsxs("div",{className:"flex justify-end space-x-2",children:[U.is_master?U.id!==o.user.id&&h.jsx("button",{onClick:()=>M(U.id),className:"text-orange-600 hover:text-orange-900",title:"Demote to Regular Admin",children:h.jsx(_v,{className:"h-5 w-5"})}):h.jsx("button",{onClick:()=>Ne(U.id),className:"text-purple-600 hover:text-purple-900",title:"Promote to Master Admin",children:h.jsx(ya,{className:"h-5 w-5"})}),U.id!==o.user.id&&h.jsx("button",{onClick:()=>re(U.id),className:"text-red-600 hover:text-red-900",title:"Remove Admin",children:h.jsx(pf,{className:"h-5 w-5"})})]})})]},U.id)})})]})})]})]})]})]})]})},Zf=({product:o})=>h.jsx(_n,{to:`/product/${o.id}`,className:"group",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden transition-transform hover:scale-105",children:[h.jsx("img",{src:o.image_url,alt:o.title,className:"w-full h-48 object-cover"}),h.jsxs("div",{className:"p-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800 group-hover:text-purple-600",children:o.title}),h.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["₹",o.price]}),h.jsx("p",{className:"text-sm text-gray-500 mt-1",children:o.category}),h.jsx("div",{className:"mt-2",children:h.jsx("span",{className:"inline-block bg-purple-100 text-purple-800 text-xs px-2 py-1 rounded capitalize",children:o.condition.replace("-"," ")})})]})]})}),_y=({session:o})=>{const[n,s]=j.useState([]),[l,a]=j.useState(!0),[u,f]=j.useState(""),[p,m]=j.useState(""),[v,y]=j.useState(""),[x,k]=j.useState([]);j.useEffect(()=>{T()},[]);const T=async()=>{try{a(!0),f("");const{data:R,error:P}=await W.from("products").select("*").order("created_at",{ascending:!1});if(P)throw P;if(s(R||[]),R){const D=Array.from(new Set(R.map(Z=>Z.category)));k(D)}}catch(R){console.error("Error loading products:",R),f(R.message)}finally{a(!1)}},O=n.filter(R=>{const P=R.title.toLowerCase().includes(p.toLowerCase())||R.description.toLowerCase().includes(p.toLowerCase()),D=v?R.category===v:!0;return P&&D});return h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsx("div",{className:"mb-8",children:h.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[h.jsxs("div",{className:"relative flex-1",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(yv,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:"text",value:p,onChange:R=>m(R.target.value),placeholder:"Search products...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-purple-500 focus:border-purple-500 sm:text-sm"})]}),h.jsx("div",{className:"relative inline-block text-left",children:h.jsx("div",{className:"flex",children:h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(fv,{className:"h-5 w-5 text-gray-400"})}),h.jsxs("select",{value:v,onChange:R=>y(R.target.value),className:"block w-full pl-10 pr-10 py-2 text-base border border-gray-300 focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm rounded-md",children:[h.jsx("option",{value:"",children:"All Categories"}),x.map(R=>h.jsx("option",{value:R,children:R},R))]})]})})})]})}),u&&h.jsxs("div",{className:"bg-red-50 text-red-600 p-4 rounded-md mb-6",children:["Error loading products: ",u]}),l?h.jsxs("div",{className:"flex justify-center items-center py-12",children:[h.jsx(pv,{className:"h-8 w-8 text-purple-600 animate-spin"}),h.jsx("span",{className:"ml-2 text-gray-600",children:"Loading products..."})]}):O.length===0?h.jsx("div",{className:"text-center py-12",children:h.jsx("p",{className:"text-gray-500 text-lg",children:p||v?"No products match your search criteria":"No products available yet"})}):h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:O.map(R=>h.jsx(Zf,{product:R},R.id))})]})},Ey=({session:o})=>{const n=eo(),[s,l]=j.useState(""),[a,u]=j.useState(""),[f,p]=j.useState(""),[m,v]=j.useState(""),[y,x]=j.useState("new"),[k,T]=j.useState(""),[O,R]=j.useState(!1),[P,D]=j.useState(!1),[Z,B]=j.useState(""),J=["Textbooks","Electronics","Furniture","Clothing","Sports Equipment","Musical Instruments","Stationery","Lab Equipment","Other"],X=async le=>{var fe;try{B("");const _e=(fe=le.target.files)==null?void 0:fe[0];if(!_e)return;const Ne=_e.name.split(".").pop();if(!["jpg","jpeg","png","gif"].includes((Ne==null?void 0:Ne.toLowerCase())||"")){B("Only image files are allowed (jpg, jpeg, png, gif)");return}if(_e.size>5*1024*1024){B("File size must be less than 5MB");return}R(!0);const re=`${Math.random().toString(36).substring(2)}-${_e.name}`,{data:Ee,error:U}=await W.storage.from("product-images").upload(`public/${re}`,_e);if(U)throw U;const{data:Y}=W.storage.from("product-images").getPublicUrl(`public/${re}`);T(Y.publicUrl)}catch(_e){console.error("Error uploading image:",_e),B(_e.message)}finally{R(!1)}},ye=async le=>{le.preventDefault();try{if(D(!0),B(""),!s||!a||!f||!m||!y){B("Please fill in all required fields");return}if(!k){B("Please upload an image");return}const fe=parseFloat(f);if(isNaN(fe)||fe<=0){B("Please enter a valid price");return}const{data:_e,error:Ne}=await W.from("products").insert({title:s,description:a,price:fe,category:m,condition:y,image_url:k,seller_id:o.user.id}).select().single();if(Ne)throw Ne;n(`/product/${_e.id}`)}catch(fe){console.error("Error creating listing:",fe),B(fe.message)}finally{D(!1)}};return h.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8",children:[h.jsxs("button",{onClick:()=>n("/"),className:"inline-flex items-center text-purple-600 hover:text-purple-800 mb-6",children:[h.jsx(Ki,{className:"h-4 w-4 mr-1"}),"Back to products"]}),h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 p-6",children:[h.jsx("h1",{className:"text-2xl font-bold text-white",children:"Create New Listing"}),h.jsx("p",{className:"text-purple-100",children:"Sell your items to other students"})]}),Z&&h.jsx("div",{className:"bg-red-50 text-red-600 p-4 border-b border-red-100",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(js,{className:"h-5 w-5 mr-2"}),h.jsx("span",{children:Z})]})}),h.jsxs("form",{onSubmit:ye,className:"p-6 space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),h.jsx("input",{type:"text",id:"title",value:s,onChange:le=>l(le.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring focus:ring-purple-200",placeholder:"e.g., Engineering Mathematics Textbook",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),h.jsx("textarea",{id:"description",value:a,onChange:le=>u(le.target.value),rows:4,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring focus:ring-purple-200",placeholder:"Describe your item, including any details about its condition, features, etc.",required:!0})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-1",children:"Price (₹) *"}),h.jsx("input",{type:"number",id:"price",value:f,onChange:le=>p(le.target.value),min:"0",step:"0.01",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring focus:ring-purple-200",placeholder:"e.g., 500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),h.jsxs("select",{id:"category",value:m,onChange:le=>v(le.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring focus:ring-purple-200",required:!0,children:[h.jsx("option",{value:"",disabled:!0,children:"Select a category"}),J.map(le=>h.jsx("option",{value:le,children:le},le))]})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"condition",className:"block text-sm font-medium text-gray-700 mb-1",children:"Condition *"}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[h.jsxs("label",{className:`flex items-center justify-center p-3 border rounded-md cursor-pointer ${y==="new"?"bg-purple-50 border-purple-500 text-purple-700":"border-gray-300 text-gray-700"}`,children:[h.jsx("input",{type:"radio",name:"condition",value:"new",checked:y==="new",onChange:()=>x("new"),className:"sr-only"}),h.jsx("span",{children:"New"})]}),h.jsxs("label",{className:`flex items-center justify-center p-3 border rounded-md cursor-pointer ${y==="like-new"?"bg-purple-50 border-purple-500 text-purple-700":"border-gray-300 text-gray-700"}`,children:[h.jsx("input",{type:"radio",name:"condition",value:"like-new",checked:y==="like-new",onChange:()=>x("like-new"),className:"sr-only"}),h.jsx("span",{children:"Like New"})]}),h.jsxs("label",{className:`flex items-center justify-center p-3 border rounded-md cursor-pointer ${y==="good"?"bg-purple-50 border-purple-500 text-purple-700":"border-gray-300 text-gray-700"}`,children:[h.jsx("input",{type:"radio",name:"condition",value:"good",checked:y==="good",onChange:()=>x("good"),className:"sr-only"}),h.jsx("span",{children:"Good"})]}),h.jsxs("label",{className:`flex items-center justify-center p-3 border rounded-md cursor-pointer ${y==="fair"?"bg-purple-50 border-purple-500 text-purple-700":"border-gray-300 text-gray-700"}`,children:[h.jsx("input",{type:"radio",name:"condition",value:"fair",checked:y==="fair",onChange:()=>x("fair"),className:"sr-only"}),h.jsx("span",{children:"Fair"})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Image *"}),k?h.jsxs("div",{className:"mt-2 relative",children:[h.jsx("img",{src:k,alt:"Product preview",className:"h-64 w-full object-cover rounded-md"}),h.jsx("button",{type:"button",onClick:()=>T(""),className:"absolute top-2 right-2 bg-red-600 text-white p-1 rounded-full hover:bg-red-700",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}):h.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:h.jsxs("div",{className:"space-y-1 text-center",children:[h.jsx(kv,{className:"mx-auto h-12 w-12 text-gray-400"}),h.jsxs("div",{className:"flex text-sm text-gray-600",children:[h.jsxs("label",{htmlFor:"image-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-purple-600 hover:text-purple-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-purple-500",children:[h.jsx("span",{children:"Upload an image"}),h.jsx("input",{id:"image-upload",name:"image-upload",type:"file",accept:"image/*",className:"sr-only",onChange:X,disabled:O})]}),h.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),h.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 5MB"}),O&&h.jsxs("div",{className:"mt-2 flex items-center justify-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-purple-500 border-t-transparent"}),h.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Uploading..."})]})]})})]}),h.jsx("div",{className:"pt-4",children:h.jsx("button",{type:"submit",disabled:P||O,className:"w-full bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-70 flex items-center justify-center",children:P?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent mr-2"}),"Creating Listing..."]}):"Create Listing"})})]})]})]})},ky=({session:o})=>{var Ne;const[n,s]=j.useState(null),[l,a]=j.useState(""),[u,f]=j.useState(""),[p,m]=j.useState(""),[v,y]=j.useState(!1),[x,k]=j.useState(!0),[T,O]=j.useState(!1),[R,P]=j.useState(""),[D,Z]=j.useState(""),[B,J]=j.useState([]),[X,ye]=j.useState(!0);j.useEffect(()=>{o&&(le(),fe())},[o]);const le=async()=>{try{if(k(!0),P(""),!(o!=null&&o.user))return;const{data:M,error:re}=await W.from("profiles").select("*").eq("id",o.user.id).single();if(re)throw re;s(M),a(M.full_name||""),f(M.username||""),m(M.course||"")}catch(M){console.error("Error loading profile:",M),P(M.message)}finally{k(!1)}},fe=async()=>{try{if(ye(!0),!(o!=null&&o.user))return;const{data:M,error:re}=await W.from("products").select("*").eq("seller_id",o.user.id).order("created_at",{ascending:!1});if(re)throw re;J(M||[])}catch(M){console.error("Error loading user products:",M)}finally{ye(!1)}},_e=async()=>{try{if(O(!0),P(""),Z(""),!(o!=null&&o.user))return;if(!l.trim()){P("Full name is required");return}if(!u.trim()){P("Username is required");return}if(!p.trim()){P("Course is required");return}if(u!==(n==null?void 0:n.username)){const{data:Ee,error:U}=await W.from("profiles").select("id").eq("username",u).neq("id",o.user.id).single();if(Ee){P("Username is already taken");return}if(U&&U.code!=="PGRST116")throw U}const M={id:o.user.id,full_name:l,username:u,course:p,updated_at:new Date().toISOString()},{error:re}=await W.from("profiles").update(M).eq("id",o.user.id);if(re)throw re;Z("Profile updated successfully"),s({...n,...M}),y(!1)}catch(M){console.error("Error updating profile:",M),P(M.message)}finally{O(!1)}};return x?h.jsx("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8",children:h.jsxs("div",{className:"text-center py-10",children:[h.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-purple-500 border-t-transparent"}),h.jsx("p",{className:"mt-2 text-gray-600",children:"Loading profile..."})]})}):h.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-8",children:[h.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 p-6",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"bg-white p-3 rounded-full",children:h.jsx(Gf,{className:"h-8 w-8 text-purple-600"})}),h.jsx("h1",{className:"ml-4 text-2xl font-bold text-white",children:"Your Profile"})]})}),R&&h.jsx("div",{className:"bg-red-50 text-red-600 p-4 border-b border-red-100",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(js,{className:"h-5 w-5 mr-2"}),h.jsx("span",{children:R})]})}),D&&h.jsx("div",{className:"bg-green-50 text-green-600 p-4 border-b border-green-100",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(Yi,{className:"h-5 w-5 mr-2"}),h.jsx("span",{children:D})]})}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Personal Information"}),h.jsx("button",{onClick:()=>y(!v),className:`flex items-center text-sm font-medium ${v?"text-red-600 hover:text-red-800":"text-purple-600 hover:text-purple-800"}`,children:v?h.jsx(h.Fragment,{children:"Cancel"}):h.jsxs(h.Fragment,{children:[h.jsx(Ev,{className:"h-4 w-4 mr-1"}),"Edit Profile"]})})]}),v?h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),h.jsx("input",{type:"text",id:"fullName",value:l,onChange:M=>a(M.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring focus:ring-purple-200",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),h.jsx("input",{type:"text",id:"username",value:u,onChange:M=>f(M.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring focus:ring-purple-200",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"course",className:"block text-sm font-medium text-gray-700 mb-1",children:"Course"}),h.jsx("input",{type:"text",id:"course",value:p,onChange:M=>m(M.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring focus:ring-purple-200",required:!0})]}),h.jsx("div",{className:"pt-4",children:h.jsx("button",{onClick:_e,disabled:T,className:"w-full bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-70 flex items-center justify-center",children:T?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent mr-2"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(vv,{className:"h-5 w-5 mr-2"}),"Save Changes"]})})})]}):h.jsx("div",{className:"space-y-4",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Full Name"}),h.jsx("p",{className:"mt-1 text-lg text-gray-800",children:n==null?void 0:n.full_name})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Username"}),h.jsxs("p",{className:"mt-1 text-lg text-gray-800",children:["@",n==null?void 0:n.username]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Email"}),h.jsx("p",{className:"mt-1 text-lg text-gray-800",children:(Ne=o==null?void 0:o.user)==null?void 0:Ne.email})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Course"}),h.jsx("p",{className:"mt-1 text-lg text-gray-800",children:n==null?void 0:n.course})]})]})})]})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Your Listings"})}),h.jsx("div",{className:"p-6",children:X?h.jsxs("div",{className:"text-center py-8",children:[h.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-purple-500 border-t-transparent"}),h.jsx("p",{className:"mt-2 text-gray-600",children:"Loading your listings..."})]}):B.length===0?h.jsx("div",{className:"text-center py-8",children:h.jsx("p",{className:"text-gray-500",children:"You haven't listed any products yet."})}):h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:B.map(M=>h.jsx(Zf,{product:M},M.id))})})]})]})};function Sy(){const[o,n]=j.useState(null),[s,l]=j.useState(!0),[a,u]=j.useState(!1);j.useEffect(()=>{W.auth.getSession().then(({data:{session:m}})=>{n(m),m&&f(m.user.id),l(!1)});const{data:{subscription:p}}=W.auth.onAuthStateChange((m,v)=>{n(v),v?f(v.user.id):u(!1)});return()=>p.unsubscribe()},[]);const f=async p=>{var m,v;try{const{data:y,error:x}=await W.from("profiles").select("id, username").eq("id",p).single();if(x&&x.code==="PGRST116"){const{data:R}=await W.auth.getUser(),D=(((m=R==null?void 0:R.user)==null?void 0:m.email)||"").split("@")[0];await W.from("profiles").insert({id:p,username:D,full_name:D,course:"Not specified"}),console.log("Created new profile for user:",D)}const{data:k}=await W.auth.getUser();if(((v=k==null?void 0:k.user)==null?void 0:v.email)==="21bcs6987@cuchd.in"){console.log("Master admin detected"),u(!0);const{error:R}=await W.from("admins").upsert({id:p,is_master:!0,created_by:p,created_at:new Date().toISOString()});R&&console.error("Error ensuring master admin status:",R);return}const{data:T,error:O}=await W.from("admins").select("*").eq("id",p).single();if(O){O.code==="PGRST116"?console.log("User is not an admin"):console.error("Error checking admin status:",O),u(!1);return}u(!!T),T&&T.is_master&&console.log("User is a master admin")}catch(y){console.error("Error checking admin status:",y),u(!1)}};return s?h.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-purple-500 border-t-transparent"}),h.jsx("p",{className:"mt-4 text-gray-600",children:"Loading UniHive..."})]})}):h.jsx(ig,{basename:"/unihive",children:h.jsx("div",{className:"min-h-screen bg-gray-100",children:o?h.jsxs(h.Fragment,{children:[h.jsx(jv,{isAdmin:a}),h.jsxs(Fd,{children:[h.jsx(Ht,{path:"/",element:h.jsxs(h.Fragment,{children:[h.jsx(Nv,{}),h.jsx(_y,{session:o})]})}),h.jsx(Ht,{path:"/product/:id",element:h.jsx(wy,{session:o})}),h.jsx(Ht,{path:"/messages",element:h.jsx(yy,{session:o})}),h.jsx(Ht,{path:"/profile",element:h.jsx(ky,{session:o})}),h.jsx(Ht,{path:"/new-listing",element:h.jsx(Ey,{session:o})}),a&&h.jsx(Ht,{path:"/admin",element:h.jsx(xy,{session:o})}),h.jsx(Ht,{path:"*",element:h.jsx(Ym,{to:"/",replace:!0})})]})]}):h.jsx(Fd,{children:h.jsx(Ht,{path:"/*",element:h.jsx(Cv,{})})})})})}const jy=async()=>{try{await av(),await lv(),await Ny(),await Cy()}catch(o){console.error("Error initializing database:",o)}},Ny=async()=>{try{await W.query(`
      CREATE TABLE IF NOT EXISTS profiles (
        id uuid REFERENCES auth.users PRIMARY KEY,
        username text UNIQUE NOT NULL,
        full_name text NOT NULL,
        avatar_url text,
        course text NOT NULL,
        created_at timestamptz DEFAULT now()
      );
      
      ALTER TABLE profiles ENABLE ROW LEVEL SECURITY;
      
      DO $$ 
      BEGIN
        IF NOT EXISTS (
          SELECT FROM pg_policies WHERE tablename = 'profiles' AND policyname = 'Public profiles are viewable by everyone'
        ) THEN
          CREATE POLICY "Public profiles are viewable by everyone"
            ON profiles FOR SELECT
            USING (true);
        END IF;
        
        IF NOT EXISTS (
          SELECT FROM pg_policies WHERE tablename = 'profiles' AND policyname = 'Users can insert their own profile'
        ) THEN
          CREATE POLICY "Users can insert their own profile"
            ON profiles FOR INSERT
            WITH CHECK (auth.uid() = id);
        END IF;
        
        IF NOT EXISTS (
          SELECT FROM pg_policies WHERE tablename = 'profiles' AND policyname = 'Users can update own profile'
        ) THEN
          CREATE POLICY "Users can update own profile"
            ON profiles FOR UPDATE
            USING (auth.uid() = id);
        END IF;
      END $$;
    `),await W.query(`
      CREATE TABLE IF NOT EXISTS products (
        id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
        title text NOT NULL,
        description text NOT NULL,
        price numeric NOT NULL,
        category text NOT NULL,
        image_url text NOT NULL,
        condition text NOT NULL,
        seller_id uuid REFERENCES profiles(id) NOT NULL,
        created_at timestamptz DEFAULT now()
      );
      
      ALTER TABLE products ENABLE ROW LEVEL SECURITY;
      
      DO $$ 
      BEGIN
        IF NOT EXISTS (
          SELECT FROM pg_policies WHERE tablename = 'products' AND policyname = 'Products are viewable by everyone'
        ) THEN
          CREATE POLICY "Products are viewable by everyone"
            ON products FOR SELECT
            USING (true);
        END IF;
        
        IF NOT EXISTS (
          SELECT FROM pg_policies WHERE tablename = 'products' AND policyname = 'Authenticated users can insert products'
        ) THEN
          CREATE POLICY "Authenticated users can insert products"
            ON products FOR INSERT
            WITH CHECK (auth.uid() = seller_id);
        END IF;
        
        IF NOT EXISTS (
          SELECT FROM pg_policies WHERE tablename = 'products' AND policyname = 'Users can update own products'
        ) THEN
          CREATE POLICY "Users can update own products"
            ON products FOR UPDATE
            USING (auth.uid() = seller_id);
        END IF;
        
        IF NOT EXISTS (
          SELECT FROM pg_policies WHERE tablename = 'products' AND policyname = 'Users can delete own products'
        ) THEN
          CREATE POLICY "Users can delete own products"
            ON products FOR DELETE
            USING (auth.uid() = seller_id);
        END IF;
      END $$;
    `),await W.query(`
      CREATE TABLE IF NOT EXISTS admins (
        id uuid REFERENCES profiles(id) PRIMARY KEY,
        is_master boolean DEFAULT false,
        created_at timestamptz DEFAULT now(),
        created_by uuid REFERENCES profiles(id)
      );
      
      ALTER TABLE admins ENABLE ROW LEVEL SECURITY;
      
      DO $$ 
      BEGIN
        IF NOT EXISTS (
          SELECT FROM pg_policies WHERE tablename = 'admins' AND policyname = 'Admins can view admins'
        ) THEN
          CREATE POLICY "Admins can view admins"
            ON admins FOR SELECT
            USING (
              EXISTS (
                SELECT 1 FROM admins WHERE id = auth.uid()
              )
            );
        END IF;
        
        IF NOT EXISTS (
          SELECT FROM pg_policies WHERE tablename = 'admins' AND policyname = 'Master admins can manage admins'
        ) THEN
          CREATE POLICY "Master admins can manage admins"
            ON admins FOR ALL
            USING (
              EXISTS (
                SELECT 1 FROM admins WHERE id = auth.uid() AND is_master = true
              )
            );
        END IF;
      END $$;
    `),await W.query(`
      CREATE TABLE IF NOT EXISTS chats (
        id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
        product_id uuid REFERENCES products(id) NOT NULL,
        buyer_id uuid REFERENCES profiles(id) NOT NULL,
        seller_id uuid REFERENCES profiles(id) NOT NULL,
        status text NOT NULL DEFAULT 'pending',
        created_at timestamptz DEFAULT now()
      );
      
      ALTER TABLE chats ENABLE ROW LEVEL SECURITY;
      
      DO $$ 
      BEGIN
        IF NOT EXISTS (
          SELECT FROM pg_policies WHERE tablename = 'chats' AND policyname = 'Users can view their own chats'
        ) THEN
          CREATE POLICY "Users can view their own chats"
            ON chats FOR SELECT
            USING (auth.uid() IN (buyer_id, seller_id));
        END IF;
        
        IF NOT EXISTS (
          SELECT FROM pg_policies WHERE tablename = 'chats' AND policyname = 'Buyers can create chat requests'
        ) THEN
          CREATE POLICY "Buyers can create chat requests"
            ON chats FOR INSERT
            WITH CHECK (auth.uid() = buyer_id);
        END IF;
        
        IF NOT EXISTS (
          SELECT FROM pg_policies WHERE tablename = 'chats' AND policyname = 'Sellers can update chat status'
        ) THEN
          CREATE POLICY "Sellers can update chat status"
            ON chats FOR UPDATE
            USING (auth.uid() = seller_id);
        END IF;
      END $$;
    `),await W.query(`
      CREATE TABLE IF NOT EXISTS messages (
        id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
        chat_id uuid REFERENCES chats(id) NOT NULL,
        sender_id uuid REFERENCES profiles(id) NOT NULL,
        content text NOT NULL,
        created_at timestamptz DEFAULT now()
      );
      
      ALTER TABLE messages ENABLE ROW LEVEL SECURITY;
      
      DO $$ 
      BEGIN
        IF NOT EXISTS (
          SELECT FROM pg_policies WHERE tablename = 'messages' AND policyname = 'Chat participants can view messages'
        ) THEN
          CREATE POLICY "Chat participants can view messages"
            ON messages FOR SELECT
            USING (
              EXISTS (
                SELECT 1 FROM chats
                WHERE chats.id = messages.chat_id
                AND auth.uid() IN (buyer_id, seller_id)
                AND status = 'accepted'
              )
            );
        END IF;
        
        IF NOT EXISTS (
          SELECT FROM pg_policies WHERE tablename = 'messages' AND policyname = 'Chat participants can send messages'
        ) THEN
          CREATE POLICY "Chat participants can send messages"
            ON messages FOR INSERT
            WITH CHECK (
              EXISTS (
                SELECT 1 FROM chats
                WHERE chats.id = chat_id
                AND auth.uid() IN (buyer_id, seller_id)
                AND status = 'accepted'
              )
            );
        END IF;
      END $$;
    `),console.log("Tables created directly")}catch(o){console.error("Error creating tables directly:",o)}},Cy=async()=>{var o;try{const{data:n,error:s}=await W.auth.admin.listUsers();if(s){console.error("Error listing users:",s);return}const l=(o=n==null?void 0:n.users)==null?void 0:o.find(p=>p.email==="21bcs6987@cuchd.in");if(!l){console.log("Master admin user not found");return}const{data:a,error:u}=await W.from("profiles").select("id").eq("id",l.id).single();u&&u.code==="PGRST116"&&(await W.from("profiles").insert({id:l.id,username:"21bcs6987",full_name:"21bcs6987",course:"Not specified",created_at:new Date().toISOString()}),console.log("Created profile for master admin"));const{error:f}=await W.from("admins").upsert({id:l.id,is_master:!0,created_by:l.id,created_at:new Date().toISOString()});if(f){console.error("Error making user master admin:",f);return}console.log("Master admin ensured")}catch(n){console.error("Error ensuring master admin:",n)}};jy();om.createRoot(document.getElementById("root")).render(h.jsx(j.StrictMode,{children:h.jsx(Sy,{})}));export{vf as g};
