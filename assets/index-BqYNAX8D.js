function Pp(o,n){for(var s=0;s<n.length;s++){const l=n[s];if(typeof l!="string"&&!Array.isArray(l)){for(const u in l)if(u!=="default"&&!(u in o)){const c=Object.getOwnPropertyDescriptor(l,u);c&&Object.defineProperty(o,u,c.get?c:{enumerable:!0,get:()=>l[u]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function s(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(u){if(u.ep)return;u.ep=!0;const c=s(u);fetch(u.href,c)}})();function Zd(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function bp(o){if(o.__esModule)return o;var n=o.default;if(typeof n=="function"){var s=function l(){return this instanceof l?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(o).forEach(function(l){var u=Object.getOwnPropertyDescriptor(o,l);Object.defineProperty(s,l,u.get?u:{enumerable:!0,get:function(){return o[l]}})}),s}var Uo={exports:{}},os={},Do={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ud;function Rp(){if(ud)return ue;ud=1;var o=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.iterator;function k(S){return S===null||typeof S!="object"?null:(S=x&&S[x]||S["@@iterator"],typeof S=="function"?S:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,b={};function P(S,A,le){this.props=S,this.context=A,this.refs=b,this.updater=le||R}P.prototype.isReactComponent={},P.prototype.setState=function(S,A){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,A,"setState")},P.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function F(){}F.prototype=P.prototype;function X(S,A,le){this.props=S,this.context=A,this.refs=b,this.updater=le||R}var B=X.prototype=new F;B.constructor=X,O(B,P.prototype),B.isPureReactComponent=!0;var Q=Array.isArray,U=Object.prototype.hasOwnProperty,re={current:null},Z={key:!0,ref:!0,__self:!0,__source:!0};function oe(S,A,le){var ce,me={},ge=null,ke=null;if(A!=null)for(ce in A.ref!==void 0&&(ke=A.ref),A.key!==void 0&&(ge=""+A.key),A)U.call(A,ce)&&!Z.hasOwnProperty(ce)&&(me[ce]=A[ce]);var xe=arguments.length-2;if(xe===1)me.children=le;else if(1<xe){for(var Te=Array(xe),ot=0;ot<xe;ot++)Te[ot]=arguments[ot+2];me.children=Te}if(S&&S.defaultProps)for(ce in xe=S.defaultProps,xe)me[ce]===void 0&&(me[ce]=xe[ce]);return{$$typeof:o,type:S,key:ge,ref:ke,props:me,_owner:re.current}}function we(S,A){return{$$typeof:o,type:S.type,key:A,ref:S.ref,props:S.props,_owner:S._owner}}function pe(S){return typeof S=="object"&&S!==null&&S.$$typeof===o}function ae(S){var A={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(le){return A[le]})}var Ee=/\/+/g;function Ue(S,A){return typeof S=="object"&&S!==null&&S.key!=null?ae(""+S.key):A.toString(36)}function M(S,A,le,ce,me){var ge=typeof S;(ge==="undefined"||ge==="boolean")&&(S=null);var ke=!1;if(S===null)ke=!0;else switch(ge){case"string":case"number":ke=!0;break;case"object":switch(S.$$typeof){case o:case n:ke=!0}}if(ke)return ke=S,me=me(ke),S=ce===""?"."+Ue(ke,0):ce,Q(me)?(le="",S!=null&&(le=S.replace(Ee,"$&/")+"/"),M(me,A,le,"",function(ot){return ot})):me!=null&&(pe(me)&&(me=we(me,le+(!me.key||ke&&ke.key===me.key?"":(""+me.key).replace(Ee,"$&/")+"/")+S)),A.push(me)),1;if(ke=0,ce=ce===""?".":ce+":",Q(S))for(var xe=0;xe<S.length;xe++){ge=S[xe];var Te=ce+Ue(ge,xe);ke+=M(ge,A,le,Te,me)}else if(Te=k(S),typeof Te=="function")for(S=Te.call(S),xe=0;!(ge=S.next()).done;)ge=ge.value,Te=ce+Ue(ge,xe++),ke+=M(ge,A,le,Te,me);else if(ge==="object")throw A=String(S),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.");return ke}function Y(S,A,le){if(S==null)return S;var ce=[],me=0;return M(S,ce,"","",function(ge){return A.call(le,ge,me++)}),ce}function ye(S){if(S._status===-1){var A=S._result;A=A(),A.then(function(le){(S._status===0||S._status===-1)&&(S._status=1,S._result=le)},function(le){(S._status===0||S._status===-1)&&(S._status=2,S._result=le)}),S._status===-1&&(S._status=0,S._result=A)}if(S._status===1)return S._result.default;throw S._result}var de={current:null},z={transition:null},ne={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:z,ReactCurrentOwner:re};function q(){throw Error("act(...) is not supported in production builds of React.")}return ue.Children={map:Y,forEach:function(S,A,le){Y(S,function(){A.apply(this,arguments)},le)},count:function(S){var A=0;return Y(S,function(){A++}),A},toArray:function(S){return Y(S,function(A){return A})||[]},only:function(S){if(!pe(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},ue.Component=P,ue.Fragment=s,ue.Profiler=u,ue.PureComponent=X,ue.StrictMode=l,ue.Suspense=g,ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,ue.act=q,ue.cloneElement=function(S,A,le){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var ce=O({},S.props),me=S.key,ge=S.ref,ke=S._owner;if(A!=null){if(A.ref!==void 0&&(ge=A.ref,ke=re.current),A.key!==void 0&&(me=""+A.key),S.type&&S.type.defaultProps)var xe=S.type.defaultProps;for(Te in A)U.call(A,Te)&&!Z.hasOwnProperty(Te)&&(ce[Te]=A[Te]===void 0&&xe!==void 0?xe[Te]:A[Te])}var Te=arguments.length-2;if(Te===1)ce.children=le;else if(1<Te){xe=Array(Te);for(var ot=0;ot<Te;ot++)xe[ot]=arguments[ot+2];ce.children=xe}return{$$typeof:o,type:S.type,key:me,ref:ge,props:ce,_owner:ke}},ue.createContext=function(S){return S={$$typeof:f,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:c,_context:S},S.Consumer=S},ue.createElement=oe,ue.createFactory=function(S){var A=oe.bind(null,S);return A.type=S,A},ue.createRef=function(){return{current:null}},ue.forwardRef=function(S){return{$$typeof:p,render:S}},ue.isValidElement=pe,ue.lazy=function(S){return{$$typeof:v,_payload:{_status:-1,_result:S},_init:ye}},ue.memo=function(S,A){return{$$typeof:y,type:S,compare:A===void 0?null:A}},ue.startTransition=function(S){var A=z.transition;z.transition={};try{S()}finally{z.transition=A}},ue.unstable_act=q,ue.useCallback=function(S,A){return de.current.useCallback(S,A)},ue.useContext=function(S){return de.current.useContext(S)},ue.useDebugValue=function(){},ue.useDeferredValue=function(S){return de.current.useDeferredValue(S)},ue.useEffect=function(S,A){return de.current.useEffect(S,A)},ue.useId=function(){return de.current.useId()},ue.useImperativeHandle=function(S,A,le){return de.current.useImperativeHandle(S,A,le)},ue.useInsertionEffect=function(S,A){return de.current.useInsertionEffect(S,A)},ue.useLayoutEffect=function(S,A){return de.current.useLayoutEffect(S,A)},ue.useMemo=function(S,A){return de.current.useMemo(S,A)},ue.useReducer=function(S,A,le){return de.current.useReducer(S,A,le)},ue.useRef=function(S){return de.current.useRef(S)},ue.useState=function(S){return de.current.useState(S)},ue.useSyncExternalStore=function(S,A,le){return de.current.useSyncExternalStore(S,A,le)},ue.useTransition=function(){return de.current.useTransition()},ue.version="18.3.1",ue}var cd;function ia(){return cd||(cd=1,Do.exports=Rp()),Do.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dd;function Op(){if(dd)return os;dd=1;var o=ia(),n=Symbol.for("react.element"),s=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,u=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(p,g,y){var v,x={},k=null,R=null;y!==void 0&&(k=""+y),g.key!==void 0&&(k=""+g.key),g.ref!==void 0&&(R=g.ref);for(v in g)l.call(g,v)&&!c.hasOwnProperty(v)&&(x[v]=g[v]);if(p&&p.defaultProps)for(v in g=p.defaultProps,g)x[v]===void 0&&(x[v]=g[v]);return{$$typeof:n,type:p,key:k,ref:R,props:x,_owner:u.current}}return os.Fragment=s,os.jsx=f,os.jsxs=f,os}var fd;function Lp(){return fd||(fd=1,Uo.exports=Op()),Uo.exports}var h=Lp(),T=ia();const Ii=Zd(T),Ap=Pp({__proto__:null,default:Ii},[T]);var Pi={},Fo={exports:{}},it={},Mo={exports:{}},zo={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hd;function Ip(){return hd||(hd=1,function(o){function n(z,ne){var q=z.length;z.push(ne);e:for(;0<q;){var S=q-1>>>1,A=z[S];if(0<u(A,ne))z[S]=ne,z[q]=A,q=S;else break e}}function s(z){return z.length===0?null:z[0]}function l(z){if(z.length===0)return null;var ne=z[0],q=z.pop();if(q!==ne){z[0]=q;e:for(var S=0,A=z.length,le=A>>>1;S<le;){var ce=2*(S+1)-1,me=z[ce],ge=ce+1,ke=z[ge];if(0>u(me,q))ge<A&&0>u(ke,me)?(z[S]=ke,z[ge]=q,S=ge):(z[S]=me,z[ce]=q,S=ce);else if(ge<A&&0>u(ke,q))z[S]=ke,z[ge]=q,S=ge;else break e}}return ne}function u(z,ne){var q=z.sortIndex-ne.sortIndex;return q!==0?q:z.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;o.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();o.unstable_now=function(){return f.now()-p}}var g=[],y=[],v=1,x=null,k=3,R=!1,O=!1,b=!1,P=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(z){for(var ne=s(y);ne!==null;){if(ne.callback===null)l(y);else if(ne.startTime<=z)l(y),ne.sortIndex=ne.expirationTime,n(g,ne);else break;ne=s(y)}}function Q(z){if(b=!1,B(z),!O)if(s(g)!==null)O=!0,ye(U);else{var ne=s(y);ne!==null&&de(Q,ne.startTime-z)}}function U(z,ne){O=!1,b&&(b=!1,F(oe),oe=-1),R=!0;var q=k;try{for(B(ne),x=s(g);x!==null&&(!(x.expirationTime>ne)||z&&!ae());){var S=x.callback;if(typeof S=="function"){x.callback=null,k=x.priorityLevel;var A=S(x.expirationTime<=ne);ne=o.unstable_now(),typeof A=="function"?x.callback=A:x===s(g)&&l(g),B(ne)}else l(g);x=s(g)}if(x!==null)var le=!0;else{var ce=s(y);ce!==null&&de(Q,ce.startTime-ne),le=!1}return le}finally{x=null,k=q,R=!1}}var re=!1,Z=null,oe=-1,we=5,pe=-1;function ae(){return!(o.unstable_now()-pe<we)}function Ee(){if(Z!==null){var z=o.unstable_now();pe=z;var ne=!0;try{ne=Z(!0,z)}finally{ne?Ue():(re=!1,Z=null)}}else re=!1}var Ue;if(typeof X=="function")Ue=function(){X(Ee)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Y=M.port2;M.port1.onmessage=Ee,Ue=function(){Y.postMessage(null)}}else Ue=function(){P(Ee,0)};function ye(z){Z=z,re||(re=!0,Ue())}function de(z,ne){oe=P(function(){z(o.unstable_now())},ne)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(z){z.callback=null},o.unstable_continueExecution=function(){O||R||(O=!0,ye(U))},o.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):we=0<z?Math.floor(1e3/z):5},o.unstable_getCurrentPriorityLevel=function(){return k},o.unstable_getFirstCallbackNode=function(){return s(g)},o.unstable_next=function(z){switch(k){case 1:case 2:case 3:var ne=3;break;default:ne=k}var q=k;k=ne;try{return z()}finally{k=q}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(z,ne){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var q=k;k=z;try{return ne()}finally{k=q}},o.unstable_scheduleCallback=function(z,ne,q){var S=o.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?S+q:S):q=S,z){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=q+A,z={id:v++,callback:ne,priorityLevel:z,startTime:q,expirationTime:A,sortIndex:-1},q>S?(z.sortIndex=q,n(y,z),s(g)===null&&z===s(y)&&(b?(F(oe),oe=-1):b=!0,de(Q,q-S))):(z.sortIndex=A,n(g,z),O||R||(O=!0,ye(U))),z},o.unstable_shouldYield=ae,o.unstable_wrapCallback=function(z){var ne=k;return function(){var q=k;k=ne;try{return z.apply(this,arguments)}finally{k=q}}}}(zo)),zo}var pd;function $p(){return pd||(pd=1,Mo.exports=Ip()),Mo.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var md;function Up(){if(md)return it;md=1;var o=ia(),n=$p();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,u={};function c(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(u[e]=t,e=0;e<t.length;e++)l.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},x={};function k(e){return g.call(x,e)?!0:g.call(v,e)?!1:y.test(e)?x[e]=!0:(v[e]=!0,!1)}function R(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O(e,t,r,i){if(t===null||typeof t>"u"||R(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function b(e,t,r,i,a,d,m){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=m}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){P[e]=new b(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];P[t]=new b(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){P[e]=new b(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){P[e]=new b(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){P[e]=new b(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){P[e]=new b(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){P[e]=new b(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){P[e]=new b(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){P[e]=new b(e,5,!1,e.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function X(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(F,X);P[t]=new b(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(F,X);P[t]=new b(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(F,X);P[t]=new b(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){P[e]=new b(e,1,!1,e.toLowerCase(),null,!1,!1)}),P.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){P[e]=new b(e,1,!1,e.toLowerCase(),null,!0,!0)});function B(e,t,r,i){var a=P.hasOwnProperty(t)?P[t]:null;(a!==null?a.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(O(t,r,a,i)&&(r=null),i||a===null?k(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,i=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var Q=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),re=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),oe=Symbol.for("react.strict_mode"),we=Symbol.for("react.profiler"),pe=Symbol.for("react.provider"),ae=Symbol.for("react.context"),Ee=Symbol.for("react.forward_ref"),Ue=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),z=Symbol.iterator;function ne(e){return e===null||typeof e!="object"?null:(e=z&&e[z]||e["@@iterator"],typeof e=="function"?e:null)}var q=Object.assign,S;function A(e){if(S===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);S=t&&t[1]||""}return`
`+S+e}var le=!1;function ce(e,t){if(!e||le)return"";le=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(C){var i=C}Reflect.construct(e,[],t)}else{try{t.call()}catch(C){i=C}e.call(t.prototype)}else{try{throw Error()}catch(C){i=C}e()}}catch(C){if(C&&i&&typeof C.stack=="string"){for(var a=C.stack.split(`
`),d=i.stack.split(`
`),m=a.length-1,w=d.length-1;1<=m&&0<=w&&a[m]!==d[w];)w--;for(;1<=m&&0<=w;m--,w--)if(a[m]!==d[w]){if(m!==1||w!==1)do if(m--,w--,0>w||a[m]!==d[w]){var _=`
`+a[m].replace(" at new "," at ");return e.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",e.displayName)),_}while(1<=m&&0<=w);break}}}finally{le=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?A(e):""}function me(e){switch(e.tag){case 5:return A(e.type);case 16:return A("Lazy");case 13:return A("Suspense");case 19:return A("SuspenseList");case 0:case 2:case 15:return e=ce(e.type,!1),e;case 11:return e=ce(e.type.render,!1),e;case 1:return e=ce(e.type,!0),e;default:return""}}function ge(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case re:return"Portal";case we:return"Profiler";case oe:return"StrictMode";case Ue:return"Suspense";case M:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ae:return(e.displayName||"Context")+".Consumer";case pe:return(e._context.displayName||"Context")+".Provider";case Ee:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return t=e.displayName||null,t!==null?t:ge(e.type)||"Memo";case ye:t=e._payload,e=e._init;try{return ge(e(t))}catch{}}return null}function ke(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(t);case 8:return t===oe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Te(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ot(e){var t=Te(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,d=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(m){i=""+m,d.call(this,m)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(m){i=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ws(e){e._valueTracker||(e._valueTracker=ot(e))}function ma(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=Te(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function xs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Hi(e,t){var r=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ga(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=xe(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function va(e,t){t=t.checked,t!=null&&B(e,"checked",t,!1)}function qi(e,t){va(e,t);var r=xe(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Wi(e,t.type,r):t.hasOwnProperty("defaultValue")&&Wi(e,t.type,xe(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ya(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Wi(e,t,r){(t!=="number"||xs(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var En=Array.isArray;function Ar(e,t,r,i){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&i&&(e[r].defaultSelected=!0)}else{for(r=""+xe(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,i&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Vi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function wa(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(s(92));if(En(r)){if(1<r.length)throw Error(s(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:xe(r)}}function xa(e,t){var r=xe(t.value),i=xe(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function _a(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ea(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ki(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ea(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _s,ka=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_s=_s||document.createElement("div"),_s.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_s.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function kn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Sn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lf=["Webkit","ms","Moz","O"];Object.keys(Sn).forEach(function(e){Lf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Sn[t]=Sn[e]})});function Sa(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Sn.hasOwnProperty(e)&&Sn[e]?(""+t).trim():t+"px"}function ja(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,a=Sa(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,a):e[r]=a}}var Af=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gi(e,t){if(t){if(Af[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function Ji(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qi=null;function Yi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xi=null,Ir=null,$r=null;function Na(e){if(e=Vn(e)){if(typeof Xi!="function")throw Error(s(280));var t=e.stateNode;t&&(t=qs(t),Xi(e.stateNode,e.type,t))}}function Ca(e){Ir?$r?$r.push(e):$r=[e]:Ir=e}function Ta(){if(Ir){var e=Ir,t=$r;if($r=Ir=null,Na(e),t)for(e=0;e<t.length;e++)Na(t[e])}}function Pa(e,t){return e(t)}function ba(){}var Zi=!1;function Ra(e,t,r){if(Zi)return e(t,r);Zi=!0;try{return Pa(e,t,r)}finally{Zi=!1,(Ir!==null||$r!==null)&&(ba(),Ta())}}function jn(e,t){var r=e.stateNode;if(r===null)return null;var i=qs(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,t,typeof r));return r}var el=!1;if(p)try{var Nn={};Object.defineProperty(Nn,"passive",{get:function(){el=!0}}),window.addEventListener("test",Nn,Nn),window.removeEventListener("test",Nn,Nn)}catch{el=!1}function If(e,t,r,i,a,d,m,w,_){var C=Array.prototype.slice.call(arguments,3);try{t.apply(r,C)}catch(I){this.onError(I)}}var Cn=!1,Es=null,ks=!1,tl=null,$f={onError:function(e){Cn=!0,Es=e}};function Uf(e,t,r,i,a,d,m,w,_){Cn=!1,Es=null,If.apply($f,arguments)}function Df(e,t,r,i,a,d,m,w,_){if(Uf.apply(this,arguments),Cn){if(Cn){var C=Es;Cn=!1,Es=null}else throw Error(s(198));ks||(ks=!0,tl=C)}}function gr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Oa(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function La(e){if(gr(e)!==e)throw Error(s(188))}function Ff(e){var t=e.alternate;if(!t){if(t=gr(e),t===null)throw Error(s(188));return t!==e?null:e}for(var r=e,i=t;;){var a=r.return;if(a===null)break;var d=a.alternate;if(d===null){if(i=a.return,i!==null){r=i;continue}break}if(a.child===d.child){for(d=a.child;d;){if(d===r)return La(a),e;if(d===i)return La(a),t;d=d.sibling}throw Error(s(188))}if(r.return!==i.return)r=a,i=d;else{for(var m=!1,w=a.child;w;){if(w===r){m=!0,r=a,i=d;break}if(w===i){m=!0,i=a,r=d;break}w=w.sibling}if(!m){for(w=d.child;w;){if(w===r){m=!0,r=d,i=a;break}if(w===i){m=!0,i=d,r=a;break}w=w.sibling}if(!m)throw Error(s(189))}}if(r.alternate!==i)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:t}function Aa(e){return e=Ff(e),e!==null?Ia(e):null}function Ia(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ia(e);if(t!==null)return t;e=e.sibling}return null}var $a=n.unstable_scheduleCallback,Ua=n.unstable_cancelCallback,Mf=n.unstable_shouldYield,zf=n.unstable_requestPaint,Ae=n.unstable_now,Bf=n.unstable_getCurrentPriorityLevel,rl=n.unstable_ImmediatePriority,Da=n.unstable_UserBlockingPriority,Ss=n.unstable_NormalPriority,Hf=n.unstable_LowPriority,Fa=n.unstable_IdlePriority,js=null,Ct=null;function qf(e){if(Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(js,e,void 0,(e.current.flags&128)===128)}catch{}}var wt=Math.clz32?Math.clz32:Kf,Wf=Math.log,Vf=Math.LN2;function Kf(e){return e>>>=0,e===0?32:31-(Wf(e)/Vf|0)|0}var Ns=64,Cs=4194304;function Tn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ts(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,a=e.suspendedLanes,d=e.pingedLanes,m=r&268435455;if(m!==0){var w=m&~a;w!==0?i=Tn(w):(d&=m,d!==0&&(i=Tn(d)))}else m=r&~a,m!==0?i=Tn(m):d!==0&&(i=Tn(d));if(i===0)return 0;if(t!==0&&t!==i&&(t&a)===0&&(a=i&-i,d=t&-t,a>=d||a===16&&(d&4194240)!==0))return t;if((i&4)!==0&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-wt(t),a=1<<r,i|=e[r],t&=~a;return i}function Gf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jf(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,d=e.pendingLanes;0<d;){var m=31-wt(d),w=1<<m,_=a[m];_===-1?((w&r)===0||(w&i)!==0)&&(a[m]=Gf(w,t)):_<=t&&(e.expiredLanes|=w),d&=~w}}function nl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ma(){var e=Ns;return Ns<<=1,(Ns&4194240)===0&&(Ns=64),e}function sl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Pn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wt(t),e[t]=r}function Qf(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-wt(r),d=1<<a;t[a]=0,i[a]=-1,e[a]=-1,r&=~d}}function il(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-wt(r),a=1<<i;a&t|e[i]&t&&(e[i]|=t),r&=~a}}var _e=0;function za(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ba,ll,Ha,qa,Wa,ol=!1,Ps=[],qt=null,Wt=null,Vt=null,bn=new Map,Rn=new Map,Kt=[],Yf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Va(e,t){switch(e){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":Wt=null;break;case"mouseover":case"mouseout":Vt=null;break;case"pointerover":case"pointerout":bn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rn.delete(t.pointerId)}}function On(e,t,r,i,a,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:d,targetContainers:[a]},t!==null&&(t=Vn(t),t!==null&&ll(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Xf(e,t,r,i,a){switch(t){case"focusin":return qt=On(qt,e,t,r,i,a),!0;case"dragenter":return Wt=On(Wt,e,t,r,i,a),!0;case"mouseover":return Vt=On(Vt,e,t,r,i,a),!0;case"pointerover":var d=a.pointerId;return bn.set(d,On(bn.get(d)||null,e,t,r,i,a)),!0;case"gotpointercapture":return d=a.pointerId,Rn.set(d,On(Rn.get(d)||null,e,t,r,i,a)),!0}return!1}function Ka(e){var t=vr(e.target);if(t!==null){var r=gr(t);if(r!==null){if(t=r.tag,t===13){if(t=Oa(r),t!==null){e.blockedOn=t,Wa(e.priority,function(){Ha(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ul(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);Qi=i,r.target.dispatchEvent(i),Qi=null}else return t=Vn(r),t!==null&&ll(t),e.blockedOn=r,!1;t.shift()}return!0}function Ga(e,t,r){bs(e)&&r.delete(t)}function Zf(){ol=!1,qt!==null&&bs(qt)&&(qt=null),Wt!==null&&bs(Wt)&&(Wt=null),Vt!==null&&bs(Vt)&&(Vt=null),bn.forEach(Ga),Rn.forEach(Ga)}function Ln(e,t){e.blockedOn===t&&(e.blockedOn=null,ol||(ol=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Zf)))}function An(e){function t(a){return Ln(a,e)}if(0<Ps.length){Ln(Ps[0],e);for(var r=1;r<Ps.length;r++){var i=Ps[r];i.blockedOn===e&&(i.blockedOn=null)}}for(qt!==null&&Ln(qt,e),Wt!==null&&Ln(Wt,e),Vt!==null&&Ln(Vt,e),bn.forEach(t),Rn.forEach(t),r=0;r<Kt.length;r++)i=Kt[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<Kt.length&&(r=Kt[0],r.blockedOn===null);)Ka(r),r.blockedOn===null&&Kt.shift()}var Ur=Q.ReactCurrentBatchConfig,Rs=!0;function eh(e,t,r,i){var a=_e,d=Ur.transition;Ur.transition=null;try{_e=1,al(e,t,r,i)}finally{_e=a,Ur.transition=d}}function th(e,t,r,i){var a=_e,d=Ur.transition;Ur.transition=null;try{_e=4,al(e,t,r,i)}finally{_e=a,Ur.transition=d}}function al(e,t,r,i){if(Rs){var a=ul(e,t,r,i);if(a===null)Nl(e,t,i,Os,r),Va(e,i);else if(Xf(a,e,t,r,i))i.stopPropagation();else if(Va(e,i),t&4&&-1<Yf.indexOf(e)){for(;a!==null;){var d=Vn(a);if(d!==null&&Ba(d),d=ul(e,t,r,i),d===null&&Nl(e,t,i,Os,r),d===a)break;a=d}a!==null&&i.stopPropagation()}else Nl(e,t,i,null,r)}}var Os=null;function ul(e,t,r,i){if(Os=null,e=Yi(i),e=vr(e),e!==null)if(t=gr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Oa(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Os=e,null}function Ja(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bf()){case rl:return 1;case Da:return 4;case Ss:case Hf:return 16;case Fa:return 536870912;default:return 16}default:return 16}}var Gt=null,cl=null,Ls=null;function Qa(){if(Ls)return Ls;var e,t=cl,r=t.length,i,a="value"in Gt?Gt.value:Gt.textContent,d=a.length;for(e=0;e<r&&t[e]===a[e];e++);var m=r-e;for(i=1;i<=m&&t[r-i]===a[d-i];i++);return Ls=a.slice(e,1<i?1-i:void 0)}function As(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Is(){return!0}function Ya(){return!1}function at(e){function t(r,i,a,d,m){this._reactName=r,this._targetInst=a,this.type=i,this.nativeEvent=d,this.target=m,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(r=e[w],this[w]=r?r(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Is:Ya,this.isPropagationStopped=Ya,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Is)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Is)},persist:function(){},isPersistent:Is}),t}var Dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dl=at(Dr),In=q({},Dr,{view:0,detail:0}),rh=at(In),fl,hl,$n,$s=q({},In,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ml,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$n&&($n&&e.type==="mousemove"?(fl=e.screenX-$n.screenX,hl=e.screenY-$n.screenY):hl=fl=0,$n=e),fl)},movementY:function(e){return"movementY"in e?e.movementY:hl}}),Xa=at($s),nh=q({},$s,{dataTransfer:0}),sh=at(nh),ih=q({},In,{relatedTarget:0}),pl=at(ih),lh=q({},Dr,{animationName:0,elapsedTime:0,pseudoElement:0}),oh=at(lh),ah=q({},Dr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uh=at(ah),ch=q({},Dr,{data:0}),Za=at(ch),dh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ph(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hh[e])?!!t[e]:!1}function ml(){return ph}var mh=q({},In,{key:function(e){if(e.key){var t=dh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=As(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ml,charCode:function(e){return e.type==="keypress"?As(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?As(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gh=at(mh),vh=q({},$s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eu=at(vh),yh=q({},In,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ml}),wh=at(yh),xh=q({},Dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),_h=at(xh),Eh=q({},$s,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kh=at(Eh),Sh=[9,13,27,32],gl=p&&"CompositionEvent"in window,Un=null;p&&"documentMode"in document&&(Un=document.documentMode);var jh=p&&"TextEvent"in window&&!Un,tu=p&&(!gl||Un&&8<Un&&11>=Un),ru=" ",nu=!1;function su(e,t){switch(e){case"keyup":return Sh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fr=!1;function Nh(e,t){switch(e){case"compositionend":return iu(t);case"keypress":return t.which!==32?null:(nu=!0,ru);case"textInput":return e=t.data,e===ru&&nu?null:e;default:return null}}function Ch(e,t){if(Fr)return e==="compositionend"||!gl&&su(e,t)?(e=Qa(),Ls=cl=Gt=null,Fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tu&&t.locale!=="ko"?null:t.data;default:return null}}var Th={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Th[e.type]:t==="textarea"}function ou(e,t,r,i){Ca(i),t=zs(t,"onChange"),0<t.length&&(r=new dl("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var Dn=null,Fn=null;function Ph(e){ju(e,0)}function Us(e){var t=qr(e);if(ma(t))return e}function bh(e,t){if(e==="change")return t}var au=!1;if(p){var vl;if(p){var yl="oninput"in document;if(!yl){var uu=document.createElement("div");uu.setAttribute("oninput","return;"),yl=typeof uu.oninput=="function"}vl=yl}else vl=!1;au=vl&&(!document.documentMode||9<document.documentMode)}function cu(){Dn&&(Dn.detachEvent("onpropertychange",du),Fn=Dn=null)}function du(e){if(e.propertyName==="value"&&Us(Fn)){var t=[];ou(t,Fn,e,Yi(e)),Ra(Ph,t)}}function Rh(e,t,r){e==="focusin"?(cu(),Dn=t,Fn=r,Dn.attachEvent("onpropertychange",du)):e==="focusout"&&cu()}function Oh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Us(Fn)}function Lh(e,t){if(e==="click")return Us(t)}function Ah(e,t){if(e==="input"||e==="change")return Us(t)}function Ih(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xt=typeof Object.is=="function"?Object.is:Ih;function Mn(e,t){if(xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var a=r[i];if(!g.call(t,a)||!xt(e[a],t[a]))return!1}return!0}function fu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hu(e,t){var r=fu(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fu(r)}}function pu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mu(){for(var e=window,t=xs();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=xs(e.document)}return t}function wl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $h(e){var t=mu(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&pu(r.ownerDocument.documentElement,r)){if(i!==null&&wl(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,d=Math.min(i.start,a);i=i.end===void 0?d:Math.min(i.end,a),!e.extend&&d>i&&(a=i,i=d,d=a),a=hu(r,d);var m=hu(r,i);a&&m&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==m.node||e.focusOffset!==m.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),d>i?(e.addRange(t),e.extend(m.node,m.offset)):(t.setEnd(m.node,m.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Uh=p&&"documentMode"in document&&11>=document.documentMode,Mr=null,xl=null,zn=null,_l=!1;function gu(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;_l||Mr==null||Mr!==xs(i)||(i=Mr,"selectionStart"in i&&wl(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),zn&&Mn(zn,i)||(zn=i,i=zs(xl,"onSelect"),0<i.length&&(t=new dl("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=Mr)))}function Ds(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var zr={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionend:Ds("Transition","TransitionEnd")},El={},vu={};p&&(vu=document.createElement("div").style,"AnimationEvent"in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),"TransitionEvent"in window||delete zr.transitionend.transition);function Fs(e){if(El[e])return El[e];if(!zr[e])return e;var t=zr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in vu)return El[e]=t[r];return e}var yu=Fs("animationend"),wu=Fs("animationiteration"),xu=Fs("animationstart"),_u=Fs("transitionend"),Eu=new Map,ku="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jt(e,t){Eu.set(e,t),c(t,[e])}for(var kl=0;kl<ku.length;kl++){var Sl=ku[kl],Dh=Sl.toLowerCase(),Fh=Sl[0].toUpperCase()+Sl.slice(1);Jt(Dh,"on"+Fh)}Jt(yu,"onAnimationEnd"),Jt(wu,"onAnimationIteration"),Jt(xu,"onAnimationStart"),Jt("dblclick","onDoubleClick"),Jt("focusin","onFocus"),Jt("focusout","onBlur"),Jt(_u,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bn));function Su(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,Df(i,t,void 0,e),e.currentTarget=null}function ju(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],a=i.event;i=i.listeners;e:{var d=void 0;if(t)for(var m=i.length-1;0<=m;m--){var w=i[m],_=w.instance,C=w.currentTarget;if(w=w.listener,_!==d&&a.isPropagationStopped())break e;Su(a,w,C),d=_}else for(m=0;m<i.length;m++){if(w=i[m],_=w.instance,C=w.currentTarget,w=w.listener,_!==d&&a.isPropagationStopped())break e;Su(a,w,C),d=_}}}if(ks)throw e=tl,ks=!1,tl=null,e}function Ne(e,t){var r=t[Ol];r===void 0&&(r=t[Ol]=new Set);var i=e+"__bubble";r.has(i)||(Nu(t,e,2,!1),r.add(i))}function jl(e,t,r){var i=0;t&&(i|=4),Nu(r,e,i,t)}var Ms="_reactListening"+Math.random().toString(36).slice(2);function Hn(e){if(!e[Ms]){e[Ms]=!0,l.forEach(function(r){r!=="selectionchange"&&(Mh.has(r)||jl(r,!1,e),jl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ms]||(t[Ms]=!0,jl("selectionchange",!1,t))}}function Nu(e,t,r,i){switch(Ja(t)){case 1:var a=eh;break;case 4:a=th;break;default:a=al}r=a.bind(null,t,r,e),a=void 0,!el||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),i?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Nl(e,t,r,i,a){var d=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var m=i.tag;if(m===3||m===4){var w=i.stateNode.containerInfo;if(w===a||w.nodeType===8&&w.parentNode===a)break;if(m===4)for(m=i.return;m!==null;){var _=m.tag;if((_===3||_===4)&&(_=m.stateNode.containerInfo,_===a||_.nodeType===8&&_.parentNode===a))return;m=m.return}for(;w!==null;){if(m=vr(w),m===null)return;if(_=m.tag,_===5||_===6){i=d=m;continue e}w=w.parentNode}}i=i.return}Ra(function(){var C=d,I=Yi(r),$=[];e:{var L=Eu.get(e);if(L!==void 0){var H=dl,K=e;switch(e){case"keypress":if(As(r)===0)break e;case"keydown":case"keyup":H=gh;break;case"focusin":K="focus",H=pl;break;case"focusout":K="blur",H=pl;break;case"beforeblur":case"afterblur":H=pl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Xa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=sh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=wh;break;case yu:case wu:case xu:H=oh;break;case _u:H=_h;break;case"scroll":H=rh;break;case"wheel":H=kh;break;case"copy":case"cut":case"paste":H=uh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=eu}var G=(t&4)!==0,Ie=!G&&e==="scroll",j=G?L!==null?L+"Capture":null:L;G=[];for(var E=C,N;E!==null;){N=E;var D=N.stateNode;if(N.tag===5&&D!==null&&(N=D,j!==null&&(D=jn(E,j),D!=null&&G.push(qn(E,D,N)))),Ie)break;E=E.return}0<G.length&&(L=new H(L,K,null,r,I),$.push({event:L,listeners:G}))}}if((t&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",L&&r!==Qi&&(K=r.relatedTarget||r.fromElement)&&(vr(K)||K[Lt]))break e;if((H||L)&&(L=I.window===I?I:(L=I.ownerDocument)?L.defaultView||L.parentWindow:window,H?(K=r.relatedTarget||r.toElement,H=C,K=K?vr(K):null,K!==null&&(Ie=gr(K),K!==Ie||K.tag!==5&&K.tag!==6)&&(K=null)):(H=null,K=C),H!==K)){if(G=Xa,D="onMouseLeave",j="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(G=eu,D="onPointerLeave",j="onPointerEnter",E="pointer"),Ie=H==null?L:qr(H),N=K==null?L:qr(K),L=new G(D,E+"leave",H,r,I),L.target=Ie,L.relatedTarget=N,D=null,vr(I)===C&&(G=new G(j,E+"enter",K,r,I),G.target=N,G.relatedTarget=Ie,D=G),Ie=D,H&&K)t:{for(G=H,j=K,E=0,N=G;N;N=Br(N))E++;for(N=0,D=j;D;D=Br(D))N++;for(;0<E-N;)G=Br(G),E--;for(;0<N-E;)j=Br(j),N--;for(;E--;){if(G===j||j!==null&&G===j.alternate)break t;G=Br(G),j=Br(j)}G=null}else G=null;H!==null&&Cu($,L,H,G,!1),K!==null&&Ie!==null&&Cu($,Ie,K,G,!0)}}e:{if(L=C?qr(C):window,H=L.nodeName&&L.nodeName.toLowerCase(),H==="select"||H==="input"&&L.type==="file")var J=bh;else if(lu(L))if(au)J=Ah;else{J=Oh;var ee=Rh}else(H=L.nodeName)&&H.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(J=Lh);if(J&&(J=J(e,C))){ou($,J,r,I);break e}ee&&ee(e,L,C),e==="focusout"&&(ee=L._wrapperState)&&ee.controlled&&L.type==="number"&&Wi(L,"number",L.value)}switch(ee=C?qr(C):window,e){case"focusin":(lu(ee)||ee.contentEditable==="true")&&(Mr=ee,xl=C,zn=null);break;case"focusout":zn=xl=Mr=null;break;case"mousedown":_l=!0;break;case"contextmenu":case"mouseup":case"dragend":_l=!1,gu($,r,I);break;case"selectionchange":if(Uh)break;case"keydown":case"keyup":gu($,r,I)}var te;if(gl)e:{switch(e){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else Fr?su(e,r)&&(se="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(se="onCompositionStart");se&&(tu&&r.locale!=="ko"&&(Fr||se!=="onCompositionStart"?se==="onCompositionEnd"&&Fr&&(te=Qa()):(Gt=I,cl="value"in Gt?Gt.value:Gt.textContent,Fr=!0)),ee=zs(C,se),0<ee.length&&(se=new Za(se,e,null,r,I),$.push({event:se,listeners:ee}),te?se.data=te:(te=iu(r),te!==null&&(se.data=te)))),(te=jh?Nh(e,r):Ch(e,r))&&(C=zs(C,"onBeforeInput"),0<C.length&&(I=new Za("onBeforeInput","beforeinput",null,r,I),$.push({event:I,listeners:C}),I.data=te))}ju($,t)})}function qn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function zs(e,t){for(var r=t+"Capture",i=[];e!==null;){var a=e,d=a.stateNode;a.tag===5&&d!==null&&(a=d,d=jn(e,r),d!=null&&i.unshift(qn(e,d,a)),d=jn(e,t),d!=null&&i.push(qn(e,d,a))),e=e.return}return i}function Br(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Cu(e,t,r,i,a){for(var d=t._reactName,m=[];r!==null&&r!==i;){var w=r,_=w.alternate,C=w.stateNode;if(_!==null&&_===i)break;w.tag===5&&C!==null&&(w=C,a?(_=jn(r,d),_!=null&&m.unshift(qn(r,_,w))):a||(_=jn(r,d),_!=null&&m.push(qn(r,_,w)))),r=r.return}m.length!==0&&e.push({event:t,listeners:m})}var zh=/\r\n?/g,Bh=/\u0000|\uFFFD/g;function Tu(e){return(typeof e=="string"?e:""+e).replace(zh,`
`).replace(Bh,"")}function Bs(e,t,r){if(t=Tu(t),Tu(e)!==t&&r)throw Error(s(425))}function Hs(){}var Cl=null,Tl=null;function Pl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bl=typeof setTimeout=="function"?setTimeout:void 0,Hh=typeof clearTimeout=="function"?clearTimeout:void 0,Pu=typeof Promise=="function"?Promise:void 0,qh=typeof queueMicrotask=="function"?queueMicrotask:typeof Pu<"u"?function(e){return Pu.resolve(null).then(e).catch(Wh)}:bl;function Wh(e){setTimeout(function(){throw e})}function Rl(e,t){var r=t,i=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(i===0){e.removeChild(a),An(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=a}while(r);An(t)}function Qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function bu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Hr=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Hr,Wn="__reactProps$"+Hr,Lt="__reactContainer$"+Hr,Ol="__reactEvents$"+Hr,Vh="__reactListeners$"+Hr,Kh="__reactHandles$"+Hr;function vr(e){var t=e[Tt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Lt]||r[Tt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=bu(e);e!==null;){if(r=e[Tt])return r;e=bu(e)}return t}e=r,r=e.parentNode}return null}function Vn(e){return e=e[Tt]||e[Lt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function qs(e){return e[Wn]||null}var Ll=[],Wr=-1;function Yt(e){return{current:e}}function Ce(e){0>Wr||(e.current=Ll[Wr],Ll[Wr]=null,Wr--)}function Se(e,t){Wr++,Ll[Wr]=e.current,e.current=t}var Xt={},Ge=Yt(Xt),et=Yt(!1),yr=Xt;function Vr(e,t){var r=e.type.contextTypes;if(!r)return Xt;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var a={},d;for(d in r)a[d]=t[d];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function tt(e){return e=e.childContextTypes,e!=null}function Ws(){Ce(et),Ce(Ge)}function Ru(e,t,r){if(Ge.current!==Xt)throw Error(s(168));Se(Ge,t),Se(et,r)}function Ou(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var a in i)if(!(a in t))throw Error(s(108,ke(e)||"Unknown",a));return q({},r,i)}function Vs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xt,yr=Ge.current,Se(Ge,e),Se(et,et.current),!0}function Lu(e,t,r){var i=e.stateNode;if(!i)throw Error(s(169));r?(e=Ou(e,t,yr),i.__reactInternalMemoizedMergedChildContext=e,Ce(et),Ce(Ge),Se(Ge,e)):Ce(et),Se(et,r)}var At=null,Ks=!1,Al=!1;function Au(e){At===null?At=[e]:At.push(e)}function Gh(e){Ks=!0,Au(e)}function Zt(){if(!Al&&At!==null){Al=!0;var e=0,t=_e;try{var r=At;for(_e=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}At=null,Ks=!1}catch(a){throw At!==null&&(At=At.slice(e+1)),$a(rl,Zt),a}finally{_e=t,Al=!1}}return null}var Kr=[],Gr=0,Gs=null,Js=0,ht=[],pt=0,wr=null,It=1,$t="";function xr(e,t){Kr[Gr++]=Js,Kr[Gr++]=Gs,Gs=e,Js=t}function Iu(e,t,r){ht[pt++]=It,ht[pt++]=$t,ht[pt++]=wr,wr=e;var i=It;e=$t;var a=32-wt(i)-1;i&=~(1<<a),r+=1;var d=32-wt(t)+a;if(30<d){var m=a-a%5;d=(i&(1<<m)-1).toString(32),i>>=m,a-=m,It=1<<32-wt(t)+a|r<<a|i,$t=d+e}else It=1<<d|r<<a|i,$t=e}function Il(e){e.return!==null&&(xr(e,1),Iu(e,1,0))}function $l(e){for(;e===Gs;)Gs=Kr[--Gr],Kr[Gr]=null,Js=Kr[--Gr],Kr[Gr]=null;for(;e===wr;)wr=ht[--pt],ht[pt]=null,$t=ht[--pt],ht[pt]=null,It=ht[--pt],ht[pt]=null}var ut=null,ct=null,Pe=!1,_t=null;function $u(e,t){var r=yt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Uu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ut=e,ct=Qt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ut=e,ct=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=wr!==null?{id:It,overflow:$t}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=yt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ut=e,ct=null,!0):!1;default:return!1}}function Ul(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Dl(e){if(Pe){var t=ct;if(t){var r=t;if(!Uu(e,t)){if(Ul(e))throw Error(s(418));t=Qt(r.nextSibling);var i=ut;t&&Uu(e,t)?$u(i,r):(e.flags=e.flags&-4097|2,Pe=!1,ut=e)}}else{if(Ul(e))throw Error(s(418));e.flags=e.flags&-4097|2,Pe=!1,ut=e}}}function Du(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ut=e}function Qs(e){if(e!==ut)return!1;if(!Pe)return Du(e),Pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Pl(e.type,e.memoizedProps)),t&&(t=ct)){if(Ul(e))throw Fu(),Error(s(418));for(;t;)$u(e,t),t=Qt(t.nextSibling)}if(Du(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ct=Qt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ct=null}}else ct=ut?Qt(e.stateNode.nextSibling):null;return!0}function Fu(){for(var e=ct;e;)e=Qt(e.nextSibling)}function Jr(){ct=ut=null,Pe=!1}function Fl(e){_t===null?_t=[e]:_t.push(e)}var Jh=Q.ReactCurrentBatchConfig;function Kn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(s(309));var i=r.stateNode}if(!i)throw Error(s(147,e));var a=i,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(m){var w=a.refs;m===null?delete w[d]:w[d]=m},t._stringRef=d,t)}if(typeof e!="string")throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function Ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Mu(e){var t=e._init;return t(e._payload)}function zu(e){function t(j,E){if(e){var N=j.deletions;N===null?(j.deletions=[E],j.flags|=16):N.push(E)}}function r(j,E){if(!e)return null;for(;E!==null;)t(j,E),E=E.sibling;return null}function i(j,E){for(j=new Map;E!==null;)E.key!==null?j.set(E.key,E):j.set(E.index,E),E=E.sibling;return j}function a(j,E){return j=or(j,E),j.index=0,j.sibling=null,j}function d(j,E,N){return j.index=N,e?(N=j.alternate,N!==null?(N=N.index,N<E?(j.flags|=2,E):N):(j.flags|=2,E)):(j.flags|=1048576,E)}function m(j){return e&&j.alternate===null&&(j.flags|=2),j}function w(j,E,N,D){return E===null||E.tag!==6?(E=Ro(N,j.mode,D),E.return=j,E):(E=a(E,N),E.return=j,E)}function _(j,E,N,D){var J=N.type;return J===Z?I(j,E,N.props.children,D,N.key):E!==null&&(E.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===ye&&Mu(J)===E.type)?(D=a(E,N.props),D.ref=Kn(j,E,N),D.return=j,D):(D=_i(N.type,N.key,N.props,null,j.mode,D),D.ref=Kn(j,E,N),D.return=j,D)}function C(j,E,N,D){return E===null||E.tag!==4||E.stateNode.containerInfo!==N.containerInfo||E.stateNode.implementation!==N.implementation?(E=Oo(N,j.mode,D),E.return=j,E):(E=a(E,N.children||[]),E.return=j,E)}function I(j,E,N,D,J){return E===null||E.tag!==7?(E=Tr(N,j.mode,D,J),E.return=j,E):(E=a(E,N),E.return=j,E)}function $(j,E,N){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Ro(""+E,j.mode,N),E.return=j,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case U:return N=_i(E.type,E.key,E.props,null,j.mode,N),N.ref=Kn(j,null,E),N.return=j,N;case re:return E=Oo(E,j.mode,N),E.return=j,E;case ye:var D=E._init;return $(j,D(E._payload),N)}if(En(E)||ne(E))return E=Tr(E,j.mode,N,null),E.return=j,E;Ys(j,E)}return null}function L(j,E,N,D){var J=E!==null?E.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return J!==null?null:w(j,E,""+N,D);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case U:return N.key===J?_(j,E,N,D):null;case re:return N.key===J?C(j,E,N,D):null;case ye:return J=N._init,L(j,E,J(N._payload),D)}if(En(N)||ne(N))return J!==null?null:I(j,E,N,D,null);Ys(j,N)}return null}function H(j,E,N,D,J){if(typeof D=="string"&&D!==""||typeof D=="number")return j=j.get(N)||null,w(E,j,""+D,J);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case U:return j=j.get(D.key===null?N:D.key)||null,_(E,j,D,J);case re:return j=j.get(D.key===null?N:D.key)||null,C(E,j,D,J);case ye:var ee=D._init;return H(j,E,N,ee(D._payload),J)}if(En(D)||ne(D))return j=j.get(N)||null,I(E,j,D,J,null);Ys(E,D)}return null}function K(j,E,N,D){for(var J=null,ee=null,te=E,se=E=0,He=null;te!==null&&se<N.length;se++){te.index>se?(He=te,te=null):He=te.sibling;var ve=L(j,te,N[se],D);if(ve===null){te===null&&(te=He);break}e&&te&&ve.alternate===null&&t(j,te),E=d(ve,E,se),ee===null?J=ve:ee.sibling=ve,ee=ve,te=He}if(se===N.length)return r(j,te),Pe&&xr(j,se),J;if(te===null){for(;se<N.length;se++)te=$(j,N[se],D),te!==null&&(E=d(te,E,se),ee===null?J=te:ee.sibling=te,ee=te);return Pe&&xr(j,se),J}for(te=i(j,te);se<N.length;se++)He=H(te,j,se,N[se],D),He!==null&&(e&&He.alternate!==null&&te.delete(He.key===null?se:He.key),E=d(He,E,se),ee===null?J=He:ee.sibling=He,ee=He);return e&&te.forEach(function(ar){return t(j,ar)}),Pe&&xr(j,se),J}function G(j,E,N,D){var J=ne(N);if(typeof J!="function")throw Error(s(150));if(N=J.call(N),N==null)throw Error(s(151));for(var ee=J=null,te=E,se=E=0,He=null,ve=N.next();te!==null&&!ve.done;se++,ve=N.next()){te.index>se?(He=te,te=null):He=te.sibling;var ar=L(j,te,ve.value,D);if(ar===null){te===null&&(te=He);break}e&&te&&ar.alternate===null&&t(j,te),E=d(ar,E,se),ee===null?J=ar:ee.sibling=ar,ee=ar,te=He}if(ve.done)return r(j,te),Pe&&xr(j,se),J;if(te===null){for(;!ve.done;se++,ve=N.next())ve=$(j,ve.value,D),ve!==null&&(E=d(ve,E,se),ee===null?J=ve:ee.sibling=ve,ee=ve);return Pe&&xr(j,se),J}for(te=i(j,te);!ve.done;se++,ve=N.next())ve=H(te,j,se,ve.value,D),ve!==null&&(e&&ve.alternate!==null&&te.delete(ve.key===null?se:ve.key),E=d(ve,E,se),ee===null?J=ve:ee.sibling=ve,ee=ve);return e&&te.forEach(function(Tp){return t(j,Tp)}),Pe&&xr(j,se),J}function Ie(j,E,N,D){if(typeof N=="object"&&N!==null&&N.type===Z&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case U:e:{for(var J=N.key,ee=E;ee!==null;){if(ee.key===J){if(J=N.type,J===Z){if(ee.tag===7){r(j,ee.sibling),E=a(ee,N.props.children),E.return=j,j=E;break e}}else if(ee.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===ye&&Mu(J)===ee.type){r(j,ee.sibling),E=a(ee,N.props),E.ref=Kn(j,ee,N),E.return=j,j=E;break e}r(j,ee);break}else t(j,ee);ee=ee.sibling}N.type===Z?(E=Tr(N.props.children,j.mode,D,N.key),E.return=j,j=E):(D=_i(N.type,N.key,N.props,null,j.mode,D),D.ref=Kn(j,E,N),D.return=j,j=D)}return m(j);case re:e:{for(ee=N.key;E!==null;){if(E.key===ee)if(E.tag===4&&E.stateNode.containerInfo===N.containerInfo&&E.stateNode.implementation===N.implementation){r(j,E.sibling),E=a(E,N.children||[]),E.return=j,j=E;break e}else{r(j,E);break}else t(j,E);E=E.sibling}E=Oo(N,j.mode,D),E.return=j,j=E}return m(j);case ye:return ee=N._init,Ie(j,E,ee(N._payload),D)}if(En(N))return K(j,E,N,D);if(ne(N))return G(j,E,N,D);Ys(j,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,E!==null&&E.tag===6?(r(j,E.sibling),E=a(E,N),E.return=j,j=E):(r(j,E),E=Ro(N,j.mode,D),E.return=j,j=E),m(j)):r(j,E)}return Ie}var Qr=zu(!0),Bu=zu(!1),Xs=Yt(null),Zs=null,Yr=null,Ml=null;function zl(){Ml=Yr=Zs=null}function Bl(e){var t=Xs.current;Ce(Xs),e._currentValue=t}function Hl(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function Xr(e,t){Zs=e,Ml=Yr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(rt=!0),e.firstContext=null)}function mt(e){var t=e._currentValue;if(Ml!==e)if(e={context:e,memoizedValue:t,next:null},Yr===null){if(Zs===null)throw Error(s(308));Yr=e,Zs.dependencies={lanes:0,firstContext:e}}else Yr=Yr.next=e;return t}var _r=null;function ql(e){_r===null?_r=[e]:_r.push(e)}function Hu(e,t,r,i){var a=t.interleaved;return a===null?(r.next=r,ql(t)):(r.next=a.next,a.next=r),t.interleaved=r,Ut(e,i)}function Ut(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var er=!1;function Wl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function tr(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(he&2)!==0){var a=i.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),i.pending=t,Ut(e,r)}return a=i.interleaved,a===null?(t.next=t,ql(i)):(t.next=a.next,a.next=t),i.interleaved=t,Ut(e,r)}function ei(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,il(e,r)}}function Wu(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var a=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var m={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};d===null?a=d=m:d=d.next=m,r=r.next}while(r!==null);d===null?a=d=t:d=d.next=t}else a=d=t;r={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:d,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ti(e,t,r,i){var a=e.updateQueue;er=!1;var d=a.firstBaseUpdate,m=a.lastBaseUpdate,w=a.shared.pending;if(w!==null){a.shared.pending=null;var _=w,C=_.next;_.next=null,m===null?d=C:m.next=C,m=_;var I=e.alternate;I!==null&&(I=I.updateQueue,w=I.lastBaseUpdate,w!==m&&(w===null?I.firstBaseUpdate=C:w.next=C,I.lastBaseUpdate=_))}if(d!==null){var $=a.baseState;m=0,I=C=_=null,w=d;do{var L=w.lane,H=w.eventTime;if((i&L)===L){I!==null&&(I=I.next={eventTime:H,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var K=e,G=w;switch(L=t,H=r,G.tag){case 1:if(K=G.payload,typeof K=="function"){$=K.call(H,$,L);break e}$=K;break e;case 3:K.flags=K.flags&-65537|128;case 0:if(K=G.payload,L=typeof K=="function"?K.call(H,$,L):K,L==null)break e;$=q({},$,L);break e;case 2:er=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,L=a.effects,L===null?a.effects=[w]:L.push(w))}else H={eventTime:H,lane:L,tag:w.tag,payload:w.payload,callback:w.callback,next:null},I===null?(C=I=H,_=$):I=I.next=H,m|=L;if(w=w.next,w===null){if(w=a.shared.pending,w===null)break;L=w,w=L.next,L.next=null,a.lastBaseUpdate=L,a.shared.pending=null}}while(!0);if(I===null&&(_=$),a.baseState=_,a.firstBaseUpdate=C,a.lastBaseUpdate=I,t=a.shared.interleaved,t!==null){a=t;do m|=a.lane,a=a.next;while(a!==t)}else d===null&&(a.shared.lanes=0);Sr|=m,e.lanes=m,e.memoizedState=$}}function Vu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],a=i.callback;if(a!==null){if(i.callback=null,i=r,typeof a!="function")throw Error(s(191,a));a.call(i)}}}var Gn={},Pt=Yt(Gn),Jn=Yt(Gn),Qn=Yt(Gn);function Er(e){if(e===Gn)throw Error(s(174));return e}function Vl(e,t){switch(Se(Qn,t),Se(Jn,e),Se(Pt,Gn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ki(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ki(t,e)}Ce(Pt),Se(Pt,t)}function Zr(){Ce(Pt),Ce(Jn),Ce(Qn)}function Ku(e){Er(Qn.current);var t=Er(Pt.current),r=Ki(t,e.type);t!==r&&(Se(Jn,e),Se(Pt,r))}function Kl(e){Jn.current===e&&(Ce(Pt),Ce(Jn))}var be=Yt(0);function ri(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gl=[];function Jl(){for(var e=0;e<Gl.length;e++)Gl[e]._workInProgressVersionPrimary=null;Gl.length=0}var ni=Q.ReactCurrentDispatcher,Ql=Q.ReactCurrentBatchConfig,kr=0,Re=null,Fe=null,ze=null,si=!1,Yn=!1,Xn=0,Qh=0;function Je(){throw Error(s(321))}function Yl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!xt(e[r],t[r]))return!1;return!0}function Xl(e,t,r,i,a,d){if(kr=d,Re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ni.current=e===null||e.memoizedState===null?ep:tp,e=r(i,a),Yn){d=0;do{if(Yn=!1,Xn=0,25<=d)throw Error(s(301));d+=1,ze=Fe=null,t.updateQueue=null,ni.current=rp,e=r(i,a)}while(Yn)}if(ni.current=oi,t=Fe!==null&&Fe.next!==null,kr=0,ze=Fe=Re=null,si=!1,t)throw Error(s(300));return e}function Zl(){var e=Xn!==0;return Xn=0,e}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Re.memoizedState=ze=e:ze=ze.next=e,ze}function gt(){if(Fe===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=Fe.next;var t=ze===null?Re.memoizedState:ze.next;if(t!==null)ze=t,Fe=e;else{if(e===null)throw Error(s(310));Fe=e,e={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},ze===null?Re.memoizedState=ze=e:ze=ze.next=e}return ze}function Zn(e,t){return typeof t=="function"?t(e):t}function eo(e){var t=gt(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var i=Fe,a=i.baseQueue,d=r.pending;if(d!==null){if(a!==null){var m=a.next;a.next=d.next,d.next=m}i.baseQueue=a=d,r.pending=null}if(a!==null){d=a.next,i=i.baseState;var w=m=null,_=null,C=d;do{var I=C.lane;if((kr&I)===I)_!==null&&(_=_.next={lane:0,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),i=C.hasEagerState?C.eagerState:e(i,C.action);else{var $={lane:I,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null};_===null?(w=_=$,m=i):_=_.next=$,Re.lanes|=I,Sr|=I}C=C.next}while(C!==null&&C!==d);_===null?m=i:_.next=w,xt(i,t.memoizedState)||(rt=!0),t.memoizedState=i,t.baseState=m,t.baseQueue=_,r.lastRenderedState=i}if(e=r.interleaved,e!==null){a=e;do d=a.lane,Re.lanes|=d,Sr|=d,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function to(e){var t=gt(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var i=r.dispatch,a=r.pending,d=t.memoizedState;if(a!==null){r.pending=null;var m=a=a.next;do d=e(d,m.action),m=m.next;while(m!==a);xt(d,t.memoizedState)||(rt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),r.lastRenderedState=d}return[d,i]}function Gu(){}function Ju(e,t){var r=Re,i=gt(),a=t(),d=!xt(i.memoizedState,a);if(d&&(i.memoizedState=a,rt=!0),i=i.queue,ro(Xu.bind(null,r,i,e),[e]),i.getSnapshot!==t||d||ze!==null&&ze.memoizedState.tag&1){if(r.flags|=2048,es(9,Yu.bind(null,r,i,a,t),void 0,null),Be===null)throw Error(s(349));(kr&30)!==0||Qu(r,t,a)}return a}function Qu(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Yu(e,t,r,i){t.value=r,t.getSnapshot=i,Zu(t)&&ec(e)}function Xu(e,t,r){return r(function(){Zu(t)&&ec(e)})}function Zu(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!xt(e,r)}catch{return!0}}function ec(e){var t=Ut(e,1);t!==null&&jt(t,e,1,-1)}function tc(e){var t=bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:e},t.queue=e,e=e.dispatch=Zh.bind(null,Re,e),[t.memoizedState,e]}function es(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function rc(){return gt().memoizedState}function ii(e,t,r,i){var a=bt();Re.flags|=e,a.memoizedState=es(1|t,r,void 0,i===void 0?null:i)}function li(e,t,r,i){var a=gt();i=i===void 0?null:i;var d=void 0;if(Fe!==null){var m=Fe.memoizedState;if(d=m.destroy,i!==null&&Yl(i,m.deps)){a.memoizedState=es(t,r,d,i);return}}Re.flags|=e,a.memoizedState=es(1|t,r,d,i)}function nc(e,t){return ii(8390656,8,e,t)}function ro(e,t){return li(2048,8,e,t)}function sc(e,t){return li(4,2,e,t)}function ic(e,t){return li(4,4,e,t)}function lc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function oc(e,t,r){return r=r!=null?r.concat([e]):null,li(4,4,lc.bind(null,t,e),r)}function no(){}function ac(e,t){var r=gt();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Yl(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function uc(e,t){var r=gt();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Yl(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function cc(e,t,r){return(kr&21)===0?(e.baseState&&(e.baseState=!1,rt=!0),e.memoizedState=r):(xt(r,t)||(r=Ma(),Re.lanes|=r,Sr|=r,e.baseState=!0),t)}function Yh(e,t){var r=_e;_e=r!==0&&4>r?r:4,e(!0);var i=Ql.transition;Ql.transition={};try{e(!1),t()}finally{_e=r,Ql.transition=i}}function dc(){return gt().memoizedState}function Xh(e,t,r){var i=ir(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},fc(e))hc(t,r);else if(r=Hu(e,t,r,i),r!==null){var a=Ze();jt(r,e,i,a),pc(r,t,i)}}function Zh(e,t,r){var i=ir(e),a={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(fc(e))hc(t,a);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var m=t.lastRenderedState,w=d(m,r);if(a.hasEagerState=!0,a.eagerState=w,xt(w,m)){var _=t.interleaved;_===null?(a.next=a,ql(t)):(a.next=_.next,_.next=a),t.interleaved=a;return}}catch{}finally{}r=Hu(e,t,a,i),r!==null&&(a=Ze(),jt(r,e,i,a),pc(r,t,i))}}function fc(e){var t=e.alternate;return e===Re||t!==null&&t===Re}function hc(e,t){Yn=si=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function pc(e,t,r){if((r&4194240)!==0){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,il(e,r)}}var oi={readContext:mt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},ep={readContext:mt,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:mt,useEffect:nc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ii(4194308,4,lc.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ii(4194308,4,e,t)},useInsertionEffect:function(e,t){return ii(4,2,e,t)},useMemo:function(e,t){var r=bt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=bt();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Xh.bind(null,Re,e),[i.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:tc,useDebugValue:no,useDeferredValue:function(e){return bt().memoizedState=e},useTransition:function(){var e=tc(!1),t=e[0];return e=Yh.bind(null,e[1]),bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=Re,a=bt();if(Pe){if(r===void 0)throw Error(s(407));r=r()}else{if(r=t(),Be===null)throw Error(s(349));(kr&30)!==0||Qu(i,t,r)}a.memoizedState=r;var d={value:r,getSnapshot:t};return a.queue=d,nc(Xu.bind(null,i,d,e),[e]),i.flags|=2048,es(9,Yu.bind(null,i,d,r,t),void 0,null),r},useId:function(){var e=bt(),t=Be.identifierPrefix;if(Pe){var r=$t,i=It;r=(i&~(1<<32-wt(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=Xn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Qh++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},tp={readContext:mt,useCallback:ac,useContext:mt,useEffect:ro,useImperativeHandle:oc,useInsertionEffect:sc,useLayoutEffect:ic,useMemo:uc,useReducer:eo,useRef:rc,useState:function(){return eo(Zn)},useDebugValue:no,useDeferredValue:function(e){var t=gt();return cc(t,Fe.memoizedState,e)},useTransition:function(){var e=eo(Zn)[0],t=gt().memoizedState;return[e,t]},useMutableSource:Gu,useSyncExternalStore:Ju,useId:dc,unstable_isNewReconciler:!1},rp={readContext:mt,useCallback:ac,useContext:mt,useEffect:ro,useImperativeHandle:oc,useInsertionEffect:sc,useLayoutEffect:ic,useMemo:uc,useReducer:to,useRef:rc,useState:function(){return to(Zn)},useDebugValue:no,useDeferredValue:function(e){var t=gt();return Fe===null?t.memoizedState=e:cc(t,Fe.memoizedState,e)},useTransition:function(){var e=to(Zn)[0],t=gt().memoizedState;return[e,t]},useMutableSource:Gu,useSyncExternalStore:Ju,useId:dc,unstable_isNewReconciler:!1};function Et(e,t){if(e&&e.defaultProps){t=q({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function so(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:q({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ai={isMounted:function(e){return(e=e._reactInternals)?gr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=Ze(),a=ir(e),d=Dt(i,a);d.payload=t,r!=null&&(d.callback=r),t=tr(e,d,a),t!==null&&(jt(t,e,a,i),ei(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=Ze(),a=ir(e),d=Dt(i,a);d.tag=1,d.payload=t,r!=null&&(d.callback=r),t=tr(e,d,a),t!==null&&(jt(t,e,a,i),ei(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ze(),i=ir(e),a=Dt(r,i);a.tag=2,t!=null&&(a.callback=t),t=tr(e,a,i),t!==null&&(jt(t,e,i,r),ei(t,e,i))}};function mc(e,t,r,i,a,d,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,d,m):t.prototype&&t.prototype.isPureReactComponent?!Mn(r,i)||!Mn(a,d):!0}function gc(e,t,r){var i=!1,a=Xt,d=t.contextType;return typeof d=="object"&&d!==null?d=mt(d):(a=tt(t)?yr:Ge.current,i=t.contextTypes,d=(i=i!=null)?Vr(e,a):Xt),t=new t(r,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ai,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=d),t}function vc(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&ai.enqueueReplaceState(t,t.state,null)}function io(e,t,r,i){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Wl(e);var d=t.contextType;typeof d=="object"&&d!==null?a.context=mt(d):(d=tt(t)?yr:Ge.current,a.context=Vr(e,d)),a.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(so(e,t,d,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&ai.enqueueReplaceState(a,a.state,null),ti(e,r,a,i),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function en(e,t){try{var r="",i=t;do r+=me(i),i=i.return;while(i);var a=r}catch(d){a=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:a,digest:null}}function lo(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function oo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var np=typeof WeakMap=="function"?WeakMap:Map;function yc(e,t,r){r=Dt(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){mi||(mi=!0,ko=i),oo(e,t)},r}function wc(e,t,r){r=Dt(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var a=t.value;r.payload=function(){return i(a)},r.callback=function(){oo(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(r.callback=function(){oo(e,t),typeof i!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var m=t.stack;this.componentDidCatch(t.value,{componentStack:m!==null?m:""})}),r}function xc(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new np;var a=new Set;i.set(t,a)}else a=i.get(t),a===void 0&&(a=new Set,i.set(t,a));a.has(r)||(a.add(r),e=vp.bind(null,e,t,r),t.then(e,e))}function _c(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ec(e,t,r,i,a){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Dt(-1,1),t.tag=2,tr(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var sp=Q.ReactCurrentOwner,rt=!1;function Xe(e,t,r,i){t.child=e===null?Bu(t,null,r,i):Qr(t,e.child,r,i)}function kc(e,t,r,i,a){r=r.render;var d=t.ref;return Xr(t,a),i=Xl(e,t,r,i,d,a),r=Zl(),e!==null&&!rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ft(e,t,a)):(Pe&&r&&Il(t),t.flags|=1,Xe(e,t,i,a),t.child)}function Sc(e,t,r,i,a){if(e===null){var d=r.type;return typeof d=="function"&&!bo(d)&&d.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=d,jc(e,t,d,i,a)):(e=_i(r.type,null,i,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,(e.lanes&a)===0){var m=d.memoizedProps;if(r=r.compare,r=r!==null?r:Mn,r(m,i)&&e.ref===t.ref)return Ft(e,t,a)}return t.flags|=1,e=or(d,i),e.ref=t.ref,e.return=t,t.child=e}function jc(e,t,r,i,a){if(e!==null){var d=e.memoizedProps;if(Mn(d,i)&&e.ref===t.ref)if(rt=!1,t.pendingProps=i=d,(e.lanes&a)!==0)(e.flags&131072)!==0&&(rt=!0);else return t.lanes=e.lanes,Ft(e,t,a)}return ao(e,t,r,i,a)}function Nc(e,t,r){var i=t.pendingProps,a=i.children,d=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(rn,dt),dt|=r;else{if((r&1073741824)===0)return e=d!==null?d.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Se(rn,dt),dt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=d!==null?d.baseLanes:r,Se(rn,dt),dt|=i}else d!==null?(i=d.baseLanes|r,t.memoizedState=null):i=r,Se(rn,dt),dt|=i;return Xe(e,t,a,r),t.child}function Cc(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ao(e,t,r,i,a){var d=tt(r)?yr:Ge.current;return d=Vr(t,d),Xr(t,a),r=Xl(e,t,r,i,d,a),i=Zl(),e!==null&&!rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ft(e,t,a)):(Pe&&i&&Il(t),t.flags|=1,Xe(e,t,r,a),t.child)}function Tc(e,t,r,i,a){if(tt(r)){var d=!0;Vs(t)}else d=!1;if(Xr(t,a),t.stateNode===null)ci(e,t),gc(t,r,i),io(t,r,i,a),i=!0;else if(e===null){var m=t.stateNode,w=t.memoizedProps;m.props=w;var _=m.context,C=r.contextType;typeof C=="object"&&C!==null?C=mt(C):(C=tt(r)?yr:Ge.current,C=Vr(t,C));var I=r.getDerivedStateFromProps,$=typeof I=="function"||typeof m.getSnapshotBeforeUpdate=="function";$||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==i||_!==C)&&vc(t,m,i,C),er=!1;var L=t.memoizedState;m.state=L,ti(t,i,m,a),_=t.memoizedState,w!==i||L!==_||et.current||er?(typeof I=="function"&&(so(t,r,I,i),_=t.memoizedState),(w=er||mc(t,r,w,i,L,_,C))?($||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(t.flags|=4194308)):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=_),m.props=i,m.state=_,m.context=C,i=w):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{m=t.stateNode,qu(e,t),w=t.memoizedProps,C=t.type===t.elementType?w:Et(t.type,w),m.props=C,$=t.pendingProps,L=m.context,_=r.contextType,typeof _=="object"&&_!==null?_=mt(_):(_=tt(r)?yr:Ge.current,_=Vr(t,_));var H=r.getDerivedStateFromProps;(I=typeof H=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==$||L!==_)&&vc(t,m,i,_),er=!1,L=t.memoizedState,m.state=L,ti(t,i,m,a);var K=t.memoizedState;w!==$||L!==K||et.current||er?(typeof H=="function"&&(so(t,r,H,i),K=t.memoizedState),(C=er||mc(t,r,C,i,L,K,_)||!1)?(I||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(i,K,_),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(i,K,_)),typeof m.componentDidUpdate=="function"&&(t.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof m.componentDidUpdate!="function"||w===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=K),m.props=i,m.state=K,m.context=_,i=C):(typeof m.componentDidUpdate!="function"||w===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),i=!1)}return uo(e,t,r,i,d,a)}function uo(e,t,r,i,a,d){Cc(e,t);var m=(t.flags&128)!==0;if(!i&&!m)return a&&Lu(t,r,!1),Ft(e,t,d);i=t.stateNode,sp.current=t;var w=m&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&m?(t.child=Qr(t,e.child,null,d),t.child=Qr(t,null,w,d)):Xe(e,t,w,d),t.memoizedState=i.state,a&&Lu(t,r,!0),t.child}function Pc(e){var t=e.stateNode;t.pendingContext?Ru(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ru(e,t.context,!1),Vl(e,t.containerInfo)}function bc(e,t,r,i,a){return Jr(),Fl(a),t.flags|=256,Xe(e,t,r,i),t.child}var co={dehydrated:null,treeContext:null,retryLane:0};function fo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rc(e,t,r){var i=t.pendingProps,a=be.current,d=!1,m=(t.flags&128)!==0,w;if((w=m)||(w=e!==null&&e.memoizedState===null?!1:(a&2)!==0),w?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Se(be,a&1),e===null)return Dl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(m=i.children,e=i.fallback,d?(i=t.mode,d=t.child,m={mode:"hidden",children:m},(i&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=m):d=Ei(m,i,0,null),e=Tr(e,i,r,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=fo(r),t.memoizedState=co,e):ho(t,m));if(a=e.memoizedState,a!==null&&(w=a.dehydrated,w!==null))return ip(e,t,m,i,w,a,r);if(d){d=i.fallback,m=t.mode,a=e.child,w=a.sibling;var _={mode:"hidden",children:i.children};return(m&1)===0&&t.child!==a?(i=t.child,i.childLanes=0,i.pendingProps=_,t.deletions=null):(i=or(a,_),i.subtreeFlags=a.subtreeFlags&14680064),w!==null?d=or(w,d):(d=Tr(d,m,r,null),d.flags|=2),d.return=t,i.return=t,i.sibling=d,t.child=i,i=d,d=t.child,m=e.child.memoizedState,m=m===null?fo(r):{baseLanes:m.baseLanes|r,cachePool:null,transitions:m.transitions},d.memoizedState=m,d.childLanes=e.childLanes&~r,t.memoizedState=co,i}return d=e.child,e=d.sibling,i=or(d,{mode:"visible",children:i.children}),(t.mode&1)===0&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function ho(e,t){return t=Ei({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ui(e,t,r,i){return i!==null&&Fl(i),Qr(t,e.child,null,r),e=ho(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ip(e,t,r,i,a,d,m){if(r)return t.flags&256?(t.flags&=-257,i=lo(Error(s(422))),ui(e,t,m,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=i.fallback,a=t.mode,i=Ei({mode:"visible",children:i.children},a,0,null),d=Tr(d,a,m,null),d.flags|=2,i.return=t,d.return=t,i.sibling=d,t.child=i,(t.mode&1)!==0&&Qr(t,e.child,null,m),t.child.memoizedState=fo(m),t.memoizedState=co,d);if((t.mode&1)===0)return ui(e,t,m,null);if(a.data==="$!"){if(i=a.nextSibling&&a.nextSibling.dataset,i)var w=i.dgst;return i=w,d=Error(s(419)),i=lo(d,i,void 0),ui(e,t,m,i)}if(w=(m&e.childLanes)!==0,rt||w){if(i=Be,i!==null){switch(m&-m){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=(a&(i.suspendedLanes|m))!==0?0:a,a!==0&&a!==d.retryLane&&(d.retryLane=a,Ut(e,a),jt(i,e,a,-1))}return Po(),i=lo(Error(s(421))),ui(e,t,m,i)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=yp.bind(null,e),a._reactRetry=t,null):(e=d.treeContext,ct=Qt(a.nextSibling),ut=t,Pe=!0,_t=null,e!==null&&(ht[pt++]=It,ht[pt++]=$t,ht[pt++]=wr,It=e.id,$t=e.overflow,wr=t),t=ho(t,i.children),t.flags|=4096,t)}function Oc(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Hl(e.return,t,r)}function po(e,t,r,i,a){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:a}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=i,d.tail=r,d.tailMode=a)}function Lc(e,t,r){var i=t.pendingProps,a=i.revealOrder,d=i.tail;if(Xe(e,t,i.children,r),i=be.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Oc(e,r,t);else if(e.tag===19)Oc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Se(be,i),(t.mode&1)===0)t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&ri(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),po(t,!1,a,r,d);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&ri(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}po(t,!0,r,null,d);break;case"together":po(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ci(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ft(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Sr|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,r=or(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=or(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function lp(e,t,r){switch(t.tag){case 3:Pc(t),Jr();break;case 5:Ku(t);break;case 1:tt(t.type)&&Vs(t);break;case 4:Vl(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,a=t.memoizedProps.value;Se(Xs,i._currentValue),i._currentValue=a;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Se(be,be.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?Rc(e,t,r):(Se(be,be.current&1),e=Ft(e,t,r),e!==null?e.sibling:null);Se(be,be.current&1);break;case 19:if(i=(r&t.childLanes)!==0,(e.flags&128)!==0){if(i)return Lc(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Se(be,be.current),i)break;return null;case 22:case 23:return t.lanes=0,Nc(e,t,r)}return Ft(e,t,r)}var Ac,mo,Ic,$c;Ac=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},mo=function(){},Ic=function(e,t,r,i){var a=e.memoizedProps;if(a!==i){e=t.stateNode,Er(Pt.current);var d=null;switch(r){case"input":a=Hi(e,a),i=Hi(e,i),d=[];break;case"select":a=q({},a,{value:void 0}),i=q({},i,{value:void 0}),d=[];break;case"textarea":a=Vi(e,a),i=Vi(e,i),d=[];break;default:typeof a.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Hs)}Gi(r,i);var m;r=null;for(C in a)if(!i.hasOwnProperty(C)&&a.hasOwnProperty(C)&&a[C]!=null)if(C==="style"){var w=a[C];for(m in w)w.hasOwnProperty(m)&&(r||(r={}),r[m]="")}else C!=="dangerouslySetInnerHTML"&&C!=="children"&&C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(u.hasOwnProperty(C)?d||(d=[]):(d=d||[]).push(C,null));for(C in i){var _=i[C];if(w=a!=null?a[C]:void 0,i.hasOwnProperty(C)&&_!==w&&(_!=null||w!=null))if(C==="style")if(w){for(m in w)!w.hasOwnProperty(m)||_&&_.hasOwnProperty(m)||(r||(r={}),r[m]="");for(m in _)_.hasOwnProperty(m)&&w[m]!==_[m]&&(r||(r={}),r[m]=_[m])}else r||(d||(d=[]),d.push(C,r)),r=_;else C==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,w=w?w.__html:void 0,_!=null&&w!==_&&(d=d||[]).push(C,_)):C==="children"?typeof _!="string"&&typeof _!="number"||(d=d||[]).push(C,""+_):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&(u.hasOwnProperty(C)?(_!=null&&C==="onScroll"&&Ne("scroll",e),d||w===_||(d=[])):(d=d||[]).push(C,_))}r&&(d=d||[]).push("style",r);var C=d;(t.updateQueue=C)&&(t.flags|=4)}},$c=function(e,t,r,i){r!==i&&(t.flags|=4)};function ts(e,t){if(!Pe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,i|=a.subtreeFlags&14680064,i|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,i|=a.subtreeFlags,i|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function op(e,t,r){var i=t.pendingProps;switch($l(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return tt(t.type)&&Ws(),Qe(t),null;case 3:return i=t.stateNode,Zr(),Ce(et),Ce(Ge),Jl(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Qs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,_t!==null&&(No(_t),_t=null))),mo(e,t),Qe(t),null;case 5:Kl(t);var a=Er(Qn.current);if(r=t.type,e!==null&&t.stateNode!=null)Ic(e,t,r,i,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(s(166));return Qe(t),null}if(e=Er(Pt.current),Qs(t)){i=t.stateNode,r=t.type;var d=t.memoizedProps;switch(i[Tt]=t,i[Wn]=d,e=(t.mode&1)!==0,r){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(a=0;a<Bn.length;a++)Ne(Bn[a],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":ga(i,d),Ne("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!d.multiple},Ne("invalid",i);break;case"textarea":wa(i,d),Ne("invalid",i)}Gi(r,d),a=null;for(var m in d)if(d.hasOwnProperty(m)){var w=d[m];m==="children"?typeof w=="string"?i.textContent!==w&&(d.suppressHydrationWarning!==!0&&Bs(i.textContent,w,e),a=["children",w]):typeof w=="number"&&i.textContent!==""+w&&(d.suppressHydrationWarning!==!0&&Bs(i.textContent,w,e),a=["children",""+w]):u.hasOwnProperty(m)&&w!=null&&m==="onScroll"&&Ne("scroll",i)}switch(r){case"input":ws(i),ya(i,d,!0);break;case"textarea":ws(i),_a(i);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(i.onclick=Hs)}i=a,t.updateQueue=i,i!==null&&(t.flags|=4)}else{m=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ea(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=m.createElement(r,{is:i.is}):(e=m.createElement(r),r==="select"&&(m=e,i.multiple?m.multiple=!0:i.size&&(m.size=i.size))):e=m.createElementNS(e,r),e[Tt]=t,e[Wn]=i,Ac(e,t,!1,!1),t.stateNode=e;e:{switch(m=Ji(r,i),r){case"dialog":Ne("cancel",e),Ne("close",e),a=i;break;case"iframe":case"object":case"embed":Ne("load",e),a=i;break;case"video":case"audio":for(a=0;a<Bn.length;a++)Ne(Bn[a],e);a=i;break;case"source":Ne("error",e),a=i;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),a=i;break;case"details":Ne("toggle",e),a=i;break;case"input":ga(e,i),a=Hi(e,i),Ne("invalid",e);break;case"option":a=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},a=q({},i,{value:void 0}),Ne("invalid",e);break;case"textarea":wa(e,i),a=Vi(e,i),Ne("invalid",e);break;default:a=i}Gi(r,a),w=a;for(d in w)if(w.hasOwnProperty(d)){var _=w[d];d==="style"?ja(e,_):d==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,_!=null&&ka(e,_)):d==="children"?typeof _=="string"?(r!=="textarea"||_!=="")&&kn(e,_):typeof _=="number"&&kn(e,""+_):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(u.hasOwnProperty(d)?_!=null&&d==="onScroll"&&Ne("scroll",e):_!=null&&B(e,d,_,m))}switch(r){case"input":ws(e),ya(e,i,!1);break;case"textarea":ws(e),_a(e);break;case"option":i.value!=null&&e.setAttribute("value",""+xe(i.value));break;case"select":e.multiple=!!i.multiple,d=i.value,d!=null?Ar(e,!!i.multiple,d,!1):i.defaultValue!=null&&Ar(e,!!i.multiple,i.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Hs)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qe(t),null;case 6:if(e&&t.stateNode!=null)$c(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(s(166));if(r=Er(Qn.current),Er(Pt.current),Qs(t)){if(i=t.stateNode,r=t.memoizedProps,i[Tt]=t,(d=i.nodeValue!==r)&&(e=ut,e!==null))switch(e.tag){case 3:Bs(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Bs(i.nodeValue,r,(e.mode&1)!==0)}d&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[Tt]=t,t.stateNode=i}return Qe(t),null;case 13:if(Ce(be),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pe&&ct!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Fu(),Jr(),t.flags|=98560,d=!1;else if(d=Qs(t),i!==null&&i.dehydrated!==null){if(e===null){if(!d)throw Error(s(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Tt]=t}else Jr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),d=!1}else _t!==null&&(No(_t),_t=null),d=!0;if(!d)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(be.current&1)!==0?Me===0&&(Me=3):Po())),t.updateQueue!==null&&(t.flags|=4),Qe(t),null);case 4:return Zr(),mo(e,t),e===null&&Hn(t.stateNode.containerInfo),Qe(t),null;case 10:return Bl(t.type._context),Qe(t),null;case 17:return tt(t.type)&&Ws(),Qe(t),null;case 19:if(Ce(be),d=t.memoizedState,d===null)return Qe(t),null;if(i=(t.flags&128)!==0,m=d.rendering,m===null)if(i)ts(d,!1);else{if(Me!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(m=ri(e),m!==null){for(t.flags|=128,ts(d,!1),i=m.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)d=r,e=i,d.flags&=14680066,m=d.alternate,m===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=m.childLanes,d.lanes=m.lanes,d.child=m.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=m.memoizedProps,d.memoizedState=m.memoizedState,d.updateQueue=m.updateQueue,d.type=m.type,e=m.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Se(be,be.current&1|2),t.child}e=e.sibling}d.tail!==null&&Ae()>nn&&(t.flags|=128,i=!0,ts(d,!1),t.lanes=4194304)}else{if(!i)if(e=ri(m),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ts(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!Pe)return Qe(t),null}else 2*Ae()-d.renderingStartTime>nn&&r!==1073741824&&(t.flags|=128,i=!0,ts(d,!1),t.lanes=4194304);d.isBackwards?(m.sibling=t.child,t.child=m):(r=d.last,r!==null?r.sibling=m:t.child=m,d.last=m)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=Ae(),t.sibling=null,r=be.current,Se(be,i?r&1|2:r&1),t):(Qe(t),null);case 22:case 23:return To(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&(t.mode&1)!==0?(dt&1073741824)!==0&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function ap(e,t){switch($l(t),t.tag){case 1:return tt(t.type)&&Ws(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zr(),Ce(et),Ce(Ge),Jl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Kl(t),null;case 13:if(Ce(be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Jr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(be),null;case 4:return Zr(),null;case 10:return Bl(t.type._context),null;case 22:case 23:return To(),null;case 24:return null;default:return null}}var di=!1,Ye=!1,up=typeof WeakSet=="function"?WeakSet:Set,V=null;function tn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){Le(e,t,i)}else r.current=null}function go(e,t,r){try{r()}catch(i){Le(e,t,i)}}var Uc=!1;function cp(e,t){if(Cl=Rs,e=mu(),wl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var a=i.anchorOffset,d=i.focusNode;i=i.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var m=0,w=-1,_=-1,C=0,I=0,$=e,L=null;t:for(;;){for(var H;$!==r||a!==0&&$.nodeType!==3||(w=m+a),$!==d||i!==0&&$.nodeType!==3||(_=m+i),$.nodeType===3&&(m+=$.nodeValue.length),(H=$.firstChild)!==null;)L=$,$=H;for(;;){if($===e)break t;if(L===r&&++C===a&&(w=m),L===d&&++I===i&&(_=m),(H=$.nextSibling)!==null)break;$=L,L=$.parentNode}$=H}r=w===-1||_===-1?null:{start:w,end:_}}else r=null}r=r||{start:0,end:0}}else r=null;for(Tl={focusedElem:e,selectionRange:r},Rs=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var K=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(K!==null){var G=K.memoizedProps,Ie=K.memoizedState,j=t.stateNode,E=j.getSnapshotBeforeUpdate(t.elementType===t.type?G:Et(t.type,G),Ie);j.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(D){Le(t,t.return,D)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return K=Uc,Uc=!1,K}function rs(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&e)===e){var d=a.destroy;a.destroy=void 0,d!==void 0&&go(t,r,d)}a=a.next}while(a!==i)}}function fi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function vo(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Dc(e){var t=e.alternate;t!==null&&(e.alternate=null,Dc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Tt],delete t[Wn],delete t[Ol],delete t[Vh],delete t[Kh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Fc(e){return e.tag===5||e.tag===3||e.tag===4}function Mc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Fc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yo(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Hs));else if(i!==4&&(e=e.child,e!==null))for(yo(e,t,r),e=e.sibling;e!==null;)yo(e,t,r),e=e.sibling}function wo(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(wo(e,t,r),e=e.sibling;e!==null;)wo(e,t,r),e=e.sibling}var Ve=null,kt=!1;function rr(e,t,r){for(r=r.child;r!==null;)zc(e,t,r),r=r.sibling}function zc(e,t,r){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(js,r)}catch{}switch(r.tag){case 5:Ye||tn(r,t);case 6:var i=Ve,a=kt;Ve=null,rr(e,t,r),Ve=i,kt=a,Ve!==null&&(kt?(e=Ve,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ve.removeChild(r.stateNode));break;case 18:Ve!==null&&(kt?(e=Ve,r=r.stateNode,e.nodeType===8?Rl(e.parentNode,r):e.nodeType===1&&Rl(e,r),An(e)):Rl(Ve,r.stateNode));break;case 4:i=Ve,a=kt,Ve=r.stateNode.containerInfo,kt=!0,rr(e,t,r),Ve=i,kt=a;break;case 0:case 11:case 14:case 15:if(!Ye&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){a=i=i.next;do{var d=a,m=d.destroy;d=d.tag,m!==void 0&&((d&2)!==0||(d&4)!==0)&&go(r,t,m),a=a.next}while(a!==i)}rr(e,t,r);break;case 1:if(!Ye&&(tn(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(w){Le(r,t,w)}rr(e,t,r);break;case 21:rr(e,t,r);break;case 22:r.mode&1?(Ye=(i=Ye)||r.memoizedState!==null,rr(e,t,r),Ye=i):rr(e,t,r);break;default:rr(e,t,r)}}function Bc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new up),t.forEach(function(i){var a=wp.bind(null,e,i);r.has(i)||(r.add(i),i.then(a,a))})}}function St(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var a=r[i];try{var d=e,m=t,w=m;e:for(;w!==null;){switch(w.tag){case 5:Ve=w.stateNode,kt=!1;break e;case 3:Ve=w.stateNode.containerInfo,kt=!0;break e;case 4:Ve=w.stateNode.containerInfo,kt=!0;break e}w=w.return}if(Ve===null)throw Error(s(160));zc(d,m,a),Ve=null,kt=!1;var _=a.alternate;_!==null&&(_.return=null),a.return=null}catch(C){Le(a,t,C)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Hc(t,e),t=t.sibling}function Hc(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(St(t,e),Rt(e),i&4){try{rs(3,e,e.return),fi(3,e)}catch(G){Le(e,e.return,G)}try{rs(5,e,e.return)}catch(G){Le(e,e.return,G)}}break;case 1:St(t,e),Rt(e),i&512&&r!==null&&tn(r,r.return);break;case 5:if(St(t,e),Rt(e),i&512&&r!==null&&tn(r,r.return),e.flags&32){var a=e.stateNode;try{kn(a,"")}catch(G){Le(e,e.return,G)}}if(i&4&&(a=e.stateNode,a!=null)){var d=e.memoizedProps,m=r!==null?r.memoizedProps:d,w=e.type,_=e.updateQueue;if(e.updateQueue=null,_!==null)try{w==="input"&&d.type==="radio"&&d.name!=null&&va(a,d),Ji(w,m);var C=Ji(w,d);for(m=0;m<_.length;m+=2){var I=_[m],$=_[m+1];I==="style"?ja(a,$):I==="dangerouslySetInnerHTML"?ka(a,$):I==="children"?kn(a,$):B(a,I,$,C)}switch(w){case"input":qi(a,d);break;case"textarea":xa(a,d);break;case"select":var L=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!d.multiple;var H=d.value;H!=null?Ar(a,!!d.multiple,H,!1):L!==!!d.multiple&&(d.defaultValue!=null?Ar(a,!!d.multiple,d.defaultValue,!0):Ar(a,!!d.multiple,d.multiple?[]:"",!1))}a[Wn]=d}catch(G){Le(e,e.return,G)}}break;case 6:if(St(t,e),Rt(e),i&4){if(e.stateNode===null)throw Error(s(162));a=e.stateNode,d=e.memoizedProps;try{a.nodeValue=d}catch(G){Le(e,e.return,G)}}break;case 3:if(St(t,e),Rt(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{An(t.containerInfo)}catch(G){Le(e,e.return,G)}break;case 4:St(t,e),Rt(e);break;case 13:St(t,e),Rt(e),a=e.child,a.flags&8192&&(d=a.memoizedState!==null,a.stateNode.isHidden=d,!d||a.alternate!==null&&a.alternate.memoizedState!==null||(Eo=Ae())),i&4&&Bc(e);break;case 22:if(I=r!==null&&r.memoizedState!==null,e.mode&1?(Ye=(C=Ye)||I,St(t,e),Ye=C):St(t,e),Rt(e),i&8192){if(C=e.memoizedState!==null,(e.stateNode.isHidden=C)&&!I&&(e.mode&1)!==0)for(V=e,I=e.child;I!==null;){for($=V=I;V!==null;){switch(L=V,H=L.child,L.tag){case 0:case 11:case 14:case 15:rs(4,L,L.return);break;case 1:tn(L,L.return);var K=L.stateNode;if(typeof K.componentWillUnmount=="function"){i=L,r=L.return;try{t=i,K.props=t.memoizedProps,K.state=t.memoizedState,K.componentWillUnmount()}catch(G){Le(i,r,G)}}break;case 5:tn(L,L.return);break;case 22:if(L.memoizedState!==null){Vc($);continue}}H!==null?(H.return=L,V=H):Vc($)}I=I.sibling}e:for(I=null,$=e;;){if($.tag===5){if(I===null){I=$;try{a=$.stateNode,C?(d=a.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(w=$.stateNode,_=$.memoizedProps.style,m=_!=null&&_.hasOwnProperty("display")?_.display:null,w.style.display=Sa("display",m))}catch(G){Le(e,e.return,G)}}}else if($.tag===6){if(I===null)try{$.stateNode.nodeValue=C?"":$.memoizedProps}catch(G){Le(e,e.return,G)}}else if(($.tag!==22&&$.tag!==23||$.memoizedState===null||$===e)&&$.child!==null){$.child.return=$,$=$.child;continue}if($===e)break e;for(;$.sibling===null;){if($.return===null||$.return===e)break e;I===$&&(I=null),$=$.return}I===$&&(I=null),$.sibling.return=$.return,$=$.sibling}}break;case 19:St(t,e),Rt(e),i&4&&Bc(e);break;case 21:break;default:St(t,e),Rt(e)}}function Rt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Fc(r)){var i=r;break e}r=r.return}throw Error(s(160))}switch(i.tag){case 5:var a=i.stateNode;i.flags&32&&(kn(a,""),i.flags&=-33);var d=Mc(e);wo(e,d,a);break;case 3:case 4:var m=i.stateNode.containerInfo,w=Mc(e);yo(e,w,m);break;default:throw Error(s(161))}}catch(_){Le(e,e.return,_)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dp(e,t,r){V=e,qc(e)}function qc(e,t,r){for(var i=(e.mode&1)!==0;V!==null;){var a=V,d=a.child;if(a.tag===22&&i){var m=a.memoizedState!==null||di;if(!m){var w=a.alternate,_=w!==null&&w.memoizedState!==null||Ye;w=di;var C=Ye;if(di=m,(Ye=_)&&!C)for(V=a;V!==null;)m=V,_=m.child,m.tag===22&&m.memoizedState!==null?Kc(a):_!==null?(_.return=m,V=_):Kc(a);for(;d!==null;)V=d,qc(d),d=d.sibling;V=a,di=w,Ye=C}Wc(e)}else(a.subtreeFlags&8772)!==0&&d!==null?(d.return=a,V=d):Wc(e)}}function Wc(e){for(;V!==null;){var t=V;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Ye||fi(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Ye)if(r===null)i.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Et(t.type,r.memoizedProps);i.componentDidUpdate(a,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&Vu(t,d,i);break;case 3:var m=t.updateQueue;if(m!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Vu(t,m,r)}break;case 5:var w=t.stateNode;if(r===null&&t.flags&4){r=w;var _=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":_.autoFocus&&r.focus();break;case"img":_.src&&(r.src=_.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var C=t.alternate;if(C!==null){var I=C.memoizedState;if(I!==null){var $=I.dehydrated;$!==null&&An($)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Ye||t.flags&512&&vo(t)}catch(L){Le(t,t.return,L)}}if(t===e){V=null;break}if(r=t.sibling,r!==null){r.return=t.return,V=r;break}V=t.return}}function Vc(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var r=t.sibling;if(r!==null){r.return=t.return,V=r;break}V=t.return}}function Kc(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{fi(4,t)}catch(_){Le(t,r,_)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var a=t.return;try{i.componentDidMount()}catch(_){Le(t,a,_)}}var d=t.return;try{vo(t)}catch(_){Le(t,d,_)}break;case 5:var m=t.return;try{vo(t)}catch(_){Le(t,m,_)}}}catch(_){Le(t,t.return,_)}if(t===e){V=null;break}var w=t.sibling;if(w!==null){w.return=t.return,V=w;break}V=t.return}}var fp=Math.ceil,hi=Q.ReactCurrentDispatcher,xo=Q.ReactCurrentOwner,vt=Q.ReactCurrentBatchConfig,he=0,Be=null,De=null,Ke=0,dt=0,rn=Yt(0),Me=0,ns=null,Sr=0,pi=0,_o=0,ss=null,nt=null,Eo=0,nn=1/0,Mt=null,mi=!1,ko=null,nr=null,gi=!1,sr=null,vi=0,is=0,So=null,yi=-1,wi=0;function Ze(){return(he&6)!==0?Ae():yi!==-1?yi:yi=Ae()}function ir(e){return(e.mode&1)===0?1:(he&2)!==0&&Ke!==0?Ke&-Ke:Jh.transition!==null?(wi===0&&(wi=Ma()),wi):(e=_e,e!==0||(e=window.event,e=e===void 0?16:Ja(e.type)),e)}function jt(e,t,r,i){if(50<is)throw is=0,So=null,Error(s(185));Pn(e,r,i),((he&2)===0||e!==Be)&&(e===Be&&((he&2)===0&&(pi|=r),Me===4&&lr(e,Ke)),st(e,i),r===1&&he===0&&(t.mode&1)===0&&(nn=Ae()+500,Ks&&Zt()))}function st(e,t){var r=e.callbackNode;Jf(e,t);var i=Ts(e,e===Be?Ke:0);if(i===0)r!==null&&Ua(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&Ua(r),t===1)e.tag===0?Gh(Jc.bind(null,e)):Au(Jc.bind(null,e)),qh(function(){(he&6)===0&&Zt()}),r=null;else{switch(za(i)){case 1:r=rl;break;case 4:r=Da;break;case 16:r=Ss;break;case 536870912:r=Fa;break;default:r=Ss}r=nd(r,Gc.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Gc(e,t){if(yi=-1,wi=0,(he&6)!==0)throw Error(s(327));var r=e.callbackNode;if(sn()&&e.callbackNode!==r)return null;var i=Ts(e,e===Be?Ke:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||t)t=xi(e,i);else{t=i;var a=he;he|=2;var d=Yc();(Be!==e||Ke!==t)&&(Mt=null,nn=Ae()+500,Nr(e,t));do try{mp();break}catch(w){Qc(e,w)}while(!0);zl(),hi.current=d,he=a,De!==null?t=0:(Be=null,Ke=0,t=Me)}if(t!==0){if(t===2&&(a=nl(e),a!==0&&(i=a,t=jo(e,a))),t===1)throw r=ns,Nr(e,0),lr(e,i),st(e,Ae()),r;if(t===6)lr(e,i);else{if(a=e.current.alternate,(i&30)===0&&!hp(a)&&(t=xi(e,i),t===2&&(d=nl(e),d!==0&&(i=d,t=jo(e,d))),t===1))throw r=ns,Nr(e,0),lr(e,i),st(e,Ae()),r;switch(e.finishedWork=a,e.finishedLanes=i,t){case 0:case 1:throw Error(s(345));case 2:Cr(e,nt,Mt);break;case 3:if(lr(e,i),(i&130023424)===i&&(t=Eo+500-Ae(),10<t)){if(Ts(e,0)!==0)break;if(a=e.suspendedLanes,(a&i)!==i){Ze(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=bl(Cr.bind(null,e,nt,Mt),t);break}Cr(e,nt,Mt);break;case 4:if(lr(e,i),(i&4194240)===i)break;for(t=e.eventTimes,a=-1;0<i;){var m=31-wt(i);d=1<<m,m=t[m],m>a&&(a=m),i&=~d}if(i=a,i=Ae()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*fp(i/1960))-i,10<i){e.timeoutHandle=bl(Cr.bind(null,e,nt,Mt),i);break}Cr(e,nt,Mt);break;case 5:Cr(e,nt,Mt);break;default:throw Error(s(329))}}}return st(e,Ae()),e.callbackNode===r?Gc.bind(null,e):null}function jo(e,t){var r=ss;return e.current.memoizedState.isDehydrated&&(Nr(e,t).flags|=256),e=xi(e,t),e!==2&&(t=nt,nt=r,t!==null&&No(t)),e}function No(e){nt===null?nt=e:nt.push.apply(nt,e)}function hp(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var a=r[i],d=a.getSnapshot;a=a.value;try{if(!xt(d(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function lr(e,t){for(t&=~_o,t&=~pi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-wt(t),i=1<<r;e[r]=-1,t&=~i}}function Jc(e){if((he&6)!==0)throw Error(s(327));sn();var t=Ts(e,0);if((t&1)===0)return st(e,Ae()),null;var r=xi(e,t);if(e.tag!==0&&r===2){var i=nl(e);i!==0&&(t=i,r=jo(e,i))}if(r===1)throw r=ns,Nr(e,0),lr(e,t),st(e,Ae()),r;if(r===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cr(e,nt,Mt),st(e,Ae()),null}function Co(e,t){var r=he;he|=1;try{return e(t)}finally{he=r,he===0&&(nn=Ae()+500,Ks&&Zt())}}function jr(e){sr!==null&&sr.tag===0&&(he&6)===0&&sn();var t=he;he|=1;var r=vt.transition,i=_e;try{if(vt.transition=null,_e=1,e)return e()}finally{_e=i,vt.transition=r,he=t,(he&6)===0&&Zt()}}function To(){dt=rn.current,Ce(rn)}function Nr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Hh(r)),De!==null)for(r=De.return;r!==null;){var i=r;switch($l(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Ws();break;case 3:Zr(),Ce(et),Ce(Ge),Jl();break;case 5:Kl(i);break;case 4:Zr();break;case 13:Ce(be);break;case 19:Ce(be);break;case 10:Bl(i.type._context);break;case 22:case 23:To()}r=r.return}if(Be=e,De=e=or(e.current,null),Ke=dt=t,Me=0,ns=null,_o=pi=Sr=0,nt=ss=null,_r!==null){for(t=0;t<_r.length;t++)if(r=_r[t],i=r.interleaved,i!==null){r.interleaved=null;var a=i.next,d=r.pending;if(d!==null){var m=d.next;d.next=a,i.next=m}r.pending=i}_r=null}return e}function Qc(e,t){do{var r=De;try{if(zl(),ni.current=oi,si){for(var i=Re.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}si=!1}if(kr=0,ze=Fe=Re=null,Yn=!1,Xn=0,xo.current=null,r===null||r.return===null){Me=1,ns=t,De=null;break}e:{var d=e,m=r.return,w=r,_=t;if(t=Ke,w.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){var C=_,I=w,$=I.tag;if((I.mode&1)===0&&($===0||$===11||$===15)){var L=I.alternate;L?(I.updateQueue=L.updateQueue,I.memoizedState=L.memoizedState,I.lanes=L.lanes):(I.updateQueue=null,I.memoizedState=null)}var H=_c(m);if(H!==null){H.flags&=-257,Ec(H,m,w,d,t),H.mode&1&&xc(d,C,t),t=H,_=C;var K=t.updateQueue;if(K===null){var G=new Set;G.add(_),t.updateQueue=G}else K.add(_);break e}else{if((t&1)===0){xc(d,C,t),Po();break e}_=Error(s(426))}}else if(Pe&&w.mode&1){var Ie=_c(m);if(Ie!==null){(Ie.flags&65536)===0&&(Ie.flags|=256),Ec(Ie,m,w,d,t),Fl(en(_,w));break e}}d=_=en(_,w),Me!==4&&(Me=2),ss===null?ss=[d]:ss.push(d),d=m;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var j=yc(d,_,t);Wu(d,j);break e;case 1:w=_;var E=d.type,N=d.stateNode;if((d.flags&128)===0&&(typeof E.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(nr===null||!nr.has(N)))){d.flags|=65536,t&=-t,d.lanes|=t;var D=wc(d,w,t);Wu(d,D);break e}}d=d.return}while(d!==null)}Zc(r)}catch(J){t=J,De===r&&r!==null&&(De=r=r.return);continue}break}while(!0)}function Yc(){var e=hi.current;return hi.current=oi,e===null?oi:e}function Po(){(Me===0||Me===3||Me===2)&&(Me=4),Be===null||(Sr&268435455)===0&&(pi&268435455)===0||lr(Be,Ke)}function xi(e,t){var r=he;he|=2;var i=Yc();(Be!==e||Ke!==t)&&(Mt=null,Nr(e,t));do try{pp();break}catch(a){Qc(e,a)}while(!0);if(zl(),he=r,hi.current=i,De!==null)throw Error(s(261));return Be=null,Ke=0,Me}function pp(){for(;De!==null;)Xc(De)}function mp(){for(;De!==null&&!Mf();)Xc(De)}function Xc(e){var t=rd(e.alternate,e,dt);e.memoizedProps=e.pendingProps,t===null?Zc(e):De=t,xo.current=null}function Zc(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=op(r,t,dt),r!==null){De=r;return}}else{if(r=ap(r,t),r!==null){r.flags&=32767,De=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Me=6,De=null;return}}if(t=t.sibling,t!==null){De=t;return}De=t=e}while(t!==null);Me===0&&(Me=5)}function Cr(e,t,r){var i=_e,a=vt.transition;try{vt.transition=null,_e=1,gp(e,t,r,i)}finally{vt.transition=a,_e=i}return null}function gp(e,t,r,i){do sn();while(sr!==null);if((he&6)!==0)throw Error(s(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var d=r.lanes|r.childLanes;if(Qf(e,d),e===Be&&(De=Be=null,Ke=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||gi||(gi=!0,nd(Ss,function(){return sn(),null})),d=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||d){d=vt.transition,vt.transition=null;var m=_e;_e=1;var w=he;he|=4,xo.current=null,cp(e,r),Hc(r,e),$h(Tl),Rs=!!Cl,Tl=Cl=null,e.current=r,dp(r),zf(),he=w,_e=m,vt.transition=d}else e.current=r;if(gi&&(gi=!1,sr=e,vi=a),d=e.pendingLanes,d===0&&(nr=null),qf(r.stateNode),st(e,Ae()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],i(a.value,{componentStack:a.stack,digest:a.digest});if(mi)throw mi=!1,e=ko,ko=null,e;return(vi&1)!==0&&e.tag!==0&&sn(),d=e.pendingLanes,(d&1)!==0?e===So?is++:(is=0,So=e):is=0,Zt(),null}function sn(){if(sr!==null){var e=za(vi),t=vt.transition,r=_e;try{if(vt.transition=null,_e=16>e?16:e,sr===null)var i=!1;else{if(e=sr,sr=null,vi=0,(he&6)!==0)throw Error(s(331));var a=he;for(he|=4,V=e.current;V!==null;){var d=V,m=d.child;if((V.flags&16)!==0){var w=d.deletions;if(w!==null){for(var _=0;_<w.length;_++){var C=w[_];for(V=C;V!==null;){var I=V;switch(I.tag){case 0:case 11:case 15:rs(8,I,d)}var $=I.child;if($!==null)$.return=I,V=$;else for(;V!==null;){I=V;var L=I.sibling,H=I.return;if(Dc(I),I===C){V=null;break}if(L!==null){L.return=H,V=L;break}V=H}}}var K=d.alternate;if(K!==null){var G=K.child;if(G!==null){K.child=null;do{var Ie=G.sibling;G.sibling=null,G=Ie}while(G!==null)}}V=d}}if((d.subtreeFlags&2064)!==0&&m!==null)m.return=d,V=m;else e:for(;V!==null;){if(d=V,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:rs(9,d,d.return)}var j=d.sibling;if(j!==null){j.return=d.return,V=j;break e}V=d.return}}var E=e.current;for(V=E;V!==null;){m=V;var N=m.child;if((m.subtreeFlags&2064)!==0&&N!==null)N.return=m,V=N;else e:for(m=E;V!==null;){if(w=V,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:fi(9,w)}}catch(J){Le(w,w.return,J)}if(w===m){V=null;break e}var D=w.sibling;if(D!==null){D.return=w.return,V=D;break e}V=w.return}}if(he=a,Zt(),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(js,e)}catch{}i=!0}return i}finally{_e=r,vt.transition=t}}return!1}function ed(e,t,r){t=en(r,t),t=yc(e,t,1),e=tr(e,t,1),t=Ze(),e!==null&&(Pn(e,1,t),st(e,t))}function Le(e,t,r){if(e.tag===3)ed(e,e,r);else for(;t!==null;){if(t.tag===3){ed(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(nr===null||!nr.has(i))){e=en(r,e),e=wc(t,e,1),t=tr(t,e,1),e=Ze(),t!==null&&(Pn(t,1,e),st(t,e));break}}t=t.return}}function vp(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=Ze(),e.pingedLanes|=e.suspendedLanes&r,Be===e&&(Ke&r)===r&&(Me===4||Me===3&&(Ke&130023424)===Ke&&500>Ae()-Eo?Nr(e,0):_o|=r),st(e,t)}function td(e,t){t===0&&((e.mode&1)===0?t=1:(t=Cs,Cs<<=1,(Cs&130023424)===0&&(Cs=4194304)));var r=Ze();e=Ut(e,t),e!==null&&(Pn(e,t,r),st(e,r))}function yp(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),td(e,r)}function wp(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(s(314))}i!==null&&i.delete(t),td(e,r)}var rd;rd=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||et.current)rt=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return rt=!1,lp(e,t,r);rt=(e.flags&131072)!==0}else rt=!1,Pe&&(t.flags&1048576)!==0&&Iu(t,Js,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;ci(e,t),e=t.pendingProps;var a=Vr(t,Ge.current);Xr(t,r),a=Xl(null,t,i,e,a,r);var d=Zl();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tt(i)?(d=!0,Vs(t)):d=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Wl(t),a.updater=ai,t.stateNode=a,a._reactInternals=t,io(t,i,e,r),t=uo(null,t,i,!0,d,r)):(t.tag=0,Pe&&d&&Il(t),Xe(null,t,a,r),t=t.child),t;case 16:i=t.elementType;e:{switch(ci(e,t),e=t.pendingProps,a=i._init,i=a(i._payload),t.type=i,a=t.tag=_p(i),e=Et(i,e),a){case 0:t=ao(null,t,i,e,r);break e;case 1:t=Tc(null,t,i,e,r);break e;case 11:t=kc(null,t,i,e,r);break e;case 14:t=Sc(null,t,i,Et(i.type,e),r);break e}throw Error(s(306,i,""))}return t;case 0:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:Et(i,a),ao(e,t,i,a,r);case 1:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:Et(i,a),Tc(e,t,i,a,r);case 3:e:{if(Pc(t),e===null)throw Error(s(387));i=t.pendingProps,d=t.memoizedState,a=d.element,qu(e,t),ti(t,i,null,r);var m=t.memoizedState;if(i=m.element,d.isDehydrated)if(d={element:i,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){a=en(Error(s(423)),t),t=bc(e,t,i,r,a);break e}else if(i!==a){a=en(Error(s(424)),t),t=bc(e,t,i,r,a);break e}else for(ct=Qt(t.stateNode.containerInfo.firstChild),ut=t,Pe=!0,_t=null,r=Bu(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Jr(),i===a){t=Ft(e,t,r);break e}Xe(e,t,i,r)}t=t.child}return t;case 5:return Ku(t),e===null&&Dl(t),i=t.type,a=t.pendingProps,d=e!==null?e.memoizedProps:null,m=a.children,Pl(i,a)?m=null:d!==null&&Pl(i,d)&&(t.flags|=32),Cc(e,t),Xe(e,t,m,r),t.child;case 6:return e===null&&Dl(t),null;case 13:return Rc(e,t,r);case 4:return Vl(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Qr(t,null,i,r):Xe(e,t,i,r),t.child;case 11:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:Et(i,a),kc(e,t,i,a,r);case 7:return Xe(e,t,t.pendingProps,r),t.child;case 8:return Xe(e,t,t.pendingProps.children,r),t.child;case 12:return Xe(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,a=t.pendingProps,d=t.memoizedProps,m=a.value,Se(Xs,i._currentValue),i._currentValue=m,d!==null)if(xt(d.value,m)){if(d.children===a.children&&!et.current){t=Ft(e,t,r);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var w=d.dependencies;if(w!==null){m=d.child;for(var _=w.firstContext;_!==null;){if(_.context===i){if(d.tag===1){_=Dt(-1,r&-r),_.tag=2;var C=d.updateQueue;if(C!==null){C=C.shared;var I=C.pending;I===null?_.next=_:(_.next=I.next,I.next=_),C.pending=_}}d.lanes|=r,_=d.alternate,_!==null&&(_.lanes|=r),Hl(d.return,r,t),w.lanes|=r;break}_=_.next}}else if(d.tag===10)m=d.type===t.type?null:d.child;else if(d.tag===18){if(m=d.return,m===null)throw Error(s(341));m.lanes|=r,w=m.alternate,w!==null&&(w.lanes|=r),Hl(m,r,t),m=d.sibling}else m=d.child;if(m!==null)m.return=d;else for(m=d;m!==null;){if(m===t){m=null;break}if(d=m.sibling,d!==null){d.return=m.return,m=d;break}m=m.return}d=m}Xe(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,i=t.pendingProps.children,Xr(t,r),a=mt(a),i=i(a),t.flags|=1,Xe(e,t,i,r),t.child;case 14:return i=t.type,a=Et(i,t.pendingProps),a=Et(i.type,a),Sc(e,t,i,a,r);case 15:return jc(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:Et(i,a),ci(e,t),t.tag=1,tt(i)?(e=!0,Vs(t)):e=!1,Xr(t,r),gc(t,i,a),io(t,i,a,r),uo(null,t,i,!0,e,r);case 19:return Lc(e,t,r);case 22:return Nc(e,t,r)}throw Error(s(156,t.tag))};function nd(e,t){return $a(e,t)}function xp(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(e,t,r,i){return new xp(e,t,r,i)}function bo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _p(e){if(typeof e=="function")return bo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ee)return 11;if(e===Y)return 14}return 2}function or(e,t){var r=e.alternate;return r===null?(r=yt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function _i(e,t,r,i,a,d){var m=2;if(i=e,typeof e=="function")bo(e)&&(m=1);else if(typeof e=="string")m=5;else e:switch(e){case Z:return Tr(r.children,a,d,t);case oe:m=8,a|=8;break;case we:return e=yt(12,r,t,a|2),e.elementType=we,e.lanes=d,e;case Ue:return e=yt(13,r,t,a),e.elementType=Ue,e.lanes=d,e;case M:return e=yt(19,r,t,a),e.elementType=M,e.lanes=d,e;case de:return Ei(r,a,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pe:m=10;break e;case ae:m=9;break e;case Ee:m=11;break e;case Y:m=14;break e;case ye:m=16,i=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=yt(m,r,t,a),t.elementType=e,t.type=i,t.lanes=d,t}function Tr(e,t,r,i){return e=yt(7,e,i,t),e.lanes=r,e}function Ei(e,t,r,i){return e=yt(22,e,i,t),e.elementType=de,e.lanes=r,e.stateNode={isHidden:!1},e}function Ro(e,t,r){return e=yt(6,e,null,t),e.lanes=r,e}function Oo(e,t,r){return t=yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ep(e,t,r,i,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sl(0),this.expirationTimes=sl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sl(0),this.identifierPrefix=i,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Lo(e,t,r,i,a,d,m,w,_){return e=new Ep(e,t,r,w,_),t===1?(t=1,d===!0&&(t|=8)):t=0,d=yt(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wl(d),e}function kp(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:re,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function sd(e){if(!e)return Xt;e=e._reactInternals;e:{if(gr(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var r=e.type;if(tt(r))return Ou(e,r,t)}return t}function id(e,t,r,i,a,d,m,w,_){return e=Lo(r,i,!0,e,a,d,m,w,_),e.context=sd(null),r=e.current,i=Ze(),a=ir(r),d=Dt(i,a),d.callback=t??null,tr(r,d,a),e.current.lanes=a,Pn(e,a,i),st(e,i),e}function ki(e,t,r,i){var a=t.current,d=Ze(),m=ir(a);return r=sd(r),t.context===null?t.context=r:t.pendingContext=r,t=Dt(d,m),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=tr(a,t,m),e!==null&&(jt(e,a,m,d),ei(e,a,m)),m}function Si(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ld(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ao(e,t){ld(e,t),(e=e.alternate)&&ld(e,t)}function Sp(){return null}var od=typeof reportError=="function"?reportError:function(e){console.error(e)};function Io(e){this._internalRoot=e}ji.prototype.render=Io.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));ki(e,t,null,null)},ji.prototype.unmount=Io.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jr(function(){ki(null,e,null,null)}),t[Lt]=null}};function ji(e){this._internalRoot=e}ji.prototype.unstable_scheduleHydration=function(e){if(e){var t=qa();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Kt.length&&t!==0&&t<Kt[r].priority;r++);Kt.splice(r,0,e),r===0&&Ka(e)}};function $o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ni(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ad(){}function jp(e,t,r,i,a){if(a){if(typeof i=="function"){var d=i;i=function(){var C=Si(m);d.call(C)}}var m=id(t,i,e,0,null,!1,!1,"",ad);return e._reactRootContainer=m,e[Lt]=m.current,Hn(e.nodeType===8?e.parentNode:e),jr(),m}for(;a=e.lastChild;)e.removeChild(a);if(typeof i=="function"){var w=i;i=function(){var C=Si(_);w.call(C)}}var _=Lo(e,0,!1,null,null,!1,!1,"",ad);return e._reactRootContainer=_,e[Lt]=_.current,Hn(e.nodeType===8?e.parentNode:e),jr(function(){ki(t,_,r,i)}),_}function Ci(e,t,r,i,a){var d=r._reactRootContainer;if(d){var m=d;if(typeof a=="function"){var w=a;a=function(){var _=Si(m);w.call(_)}}ki(t,m,e,a)}else m=jp(r,t,e,a,i);return Si(m)}Ba=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Tn(t.pendingLanes);r!==0&&(il(t,r|1),st(t,Ae()),(he&6)===0&&(nn=Ae()+500,Zt()))}break;case 13:jr(function(){var i=Ut(e,1);if(i!==null){var a=Ze();jt(i,e,1,a)}}),Ao(e,1)}},ll=function(e){if(e.tag===13){var t=Ut(e,134217728);if(t!==null){var r=Ze();jt(t,e,134217728,r)}Ao(e,134217728)}},Ha=function(e){if(e.tag===13){var t=ir(e),r=Ut(e,t);if(r!==null){var i=Ze();jt(r,e,t,i)}Ao(e,t)}},qa=function(){return _e},Wa=function(e,t){var r=_e;try{return _e=e,t()}finally{_e=r}},Xi=function(e,t,r){switch(t){case"input":if(qi(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var a=qs(i);if(!a)throw Error(s(90));ma(i),qi(i,a)}}}break;case"textarea":xa(e,r);break;case"select":t=r.value,t!=null&&Ar(e,!!r.multiple,t,!1)}},Pa=Co,ba=jr;var Np={usingClientEntryPoint:!1,Events:[Vn,qr,qs,Ca,Ta,Co]},ls={findFiberByHostInstance:vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cp={bundleType:ls.bundleType,version:ls.version,rendererPackageName:ls.rendererPackageName,rendererConfig:ls.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Aa(e),e===null?null:e.stateNode},findFiberByHostInstance:ls.findFiberByHostInstance||Sp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ti=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ti.isDisabled&&Ti.supportsFiber)try{js=Ti.inject(Cp),Ct=Ti}catch{}}return it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Np,it.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$o(t))throw Error(s(200));return kp(e,t,null,r)},it.createRoot=function(e,t){if(!$o(e))throw Error(s(299));var r=!1,i="",a=od;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Lo(e,1,!1,null,null,r,!1,i,a),e[Lt]=t.current,Hn(e.nodeType===8?e.parentNode:e),new Io(t)},it.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Aa(t),e=e===null?null:e.stateNode,e},it.flushSync=function(e){return jr(e)},it.hydrate=function(e,t,r){if(!Ni(t))throw Error(s(200));return Ci(null,e,t,!0,r)},it.hydrateRoot=function(e,t,r){if(!$o(e))throw Error(s(405));var i=r!=null&&r.hydratedSources||null,a=!1,d="",m=od;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onRecoverableError!==void 0&&(m=r.onRecoverableError)),t=id(t,null,e,1,r??null,a,!1,d,m),e[Lt]=t.current,Hn(e),i)for(e=0;e<i.length;e++)r=i[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new ji(t)},it.render=function(e,t,r){if(!Ni(t))throw Error(s(200));return Ci(null,e,t,!1,r)},it.unmountComponentAtNode=function(e){if(!Ni(e))throw Error(s(40));return e._reactRootContainer?(jr(function(){Ci(null,null,e,!1,function(){e._reactRootContainer=null,e[Lt]=null})}),!0):!1},it.unstable_batchedUpdates=Co,it.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!Ni(r))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return Ci(e,t,r,!1,i)},it.version="18.3.1-next-f1338f8080-20240426",it}var gd;function ef(){if(gd)return Fo.exports;gd=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(n){console.error(n)}}return o(),Fo.exports=Up(),Fo.exports}var vd;function Dp(){if(vd)return Pi;vd=1;var o=ef();return Pi.createRoot=o.createRoot,Pi.hydrateRoot=o.hydrateRoot,Pi}var Fp=Dp();ef();/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ps(){return ps=Object.assign?Object.assign.bind():function(o){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(o[l]=s[l])}return o},ps.apply(this,arguments)}var hr;(function(o){o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE"})(hr||(hr={}));const yd="popstate";function Mp(o){o===void 0&&(o={});function n(l,u){let{pathname:c,search:f,hash:p}=l.location;return Ko("",{pathname:c,search:f,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function s(l,u){return typeof u=="string"?u:Ui(u)}return Bp(n,s,null,o)}function $e(o,n){if(o===!1||o===null||typeof o>"u")throw new Error(n)}function tf(o,n){if(!o){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function zp(){return Math.random().toString(36).substr(2,8)}function wd(o,n){return{usr:o.state,key:o.key,idx:n}}function Ko(o,n,s,l){return s===void 0&&(s=null),ps({pathname:typeof o=="string"?o:o.pathname,search:"",hash:""},typeof n=="string"?yn(n):n,{state:s,key:n&&n.key||l||zp()})}function Ui(o){let{pathname:n="/",search:s="",hash:l=""}=o;return s&&s!=="?"&&(n+=s.charAt(0)==="?"?s:"?"+s),l&&l!=="#"&&(n+=l.charAt(0)==="#"?l:"#"+l),n}function yn(o){let n={};if(o){let s=o.indexOf("#");s>=0&&(n.hash=o.substr(s),o=o.substr(0,s));let l=o.indexOf("?");l>=0&&(n.search=o.substr(l),o=o.substr(0,l)),o&&(n.pathname=o)}return n}function Bp(o,n,s,l){l===void 0&&(l={});let{window:u=document.defaultView,v5Compat:c=!1}=l,f=u.history,p=hr.Pop,g=null,y=v();y==null&&(y=0,f.replaceState(ps({},f.state,{idx:y}),""));function v(){return(f.state||{idx:null}).idx}function x(){p=hr.Pop;let P=v(),F=P==null?null:P-y;y=P,g&&g({action:p,location:b.location,delta:F})}function k(P,F){p=hr.Push;let X=Ko(b.location,P,F);y=v()+1;let B=wd(X,y),Q=b.createHref(X);try{f.pushState(B,"",Q)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;u.location.assign(Q)}c&&g&&g({action:p,location:b.location,delta:1})}function R(P,F){p=hr.Replace;let X=Ko(b.location,P,F);y=v();let B=wd(X,y),Q=b.createHref(X);f.replaceState(B,"",Q),c&&g&&g({action:p,location:b.location,delta:0})}function O(P){let F=u.location.origin!=="null"?u.location.origin:u.location.href,X=typeof P=="string"?P:Ui(P);return X=X.replace(/ $/,"%20"),$e(F,"No window.location.(origin|href) available to create URL for href: "+X),new URL(X,F)}let b={get action(){return p},get location(){return o(u,f)},listen(P){if(g)throw new Error("A history only accepts one active listener");return u.addEventListener(yd,x),g=P,()=>{u.removeEventListener(yd,x),g=null}},createHref(P){return n(u,P)},createURL:O,encodeLocation(P){let F=O(P);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:k,replace:R,go(P){return f.go(P)}};return b}var xd;(function(o){o.data="data",o.deferred="deferred",o.redirect="redirect",o.error="error"})(xd||(xd={}));function Hp(o,n,s){return s===void 0&&(s="/"),qp(o,n,s)}function qp(o,n,s,l){let u=typeof n=="string"?yn(n):n,c=la(u.pathname||"/",s);if(c==null)return null;let f=rf(o);Wp(f);let p=null;for(let g=0;p==null&&g<f.length;++g){let y=nm(c);p=em(f[g],y)}return p}function rf(o,n,s,l){n===void 0&&(n=[]),s===void 0&&(s=[]),l===void 0&&(l="");let u=(c,f,p)=>{let g={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};g.relativePath.startsWith("/")&&($e(g.relativePath.startsWith(l),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+l+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(l.length));let y=pr([l,g.relativePath]),v=s.concat(g);c.children&&c.children.length>0&&($e(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),rf(c.children,n,v,y)),!(c.path==null&&!c.index)&&n.push({path:y,score:Xp(y,c.index),routesMeta:v})};return o.forEach((c,f)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))u(c,f);else for(let g of nf(c.path))u(c,f,g)}),n}function nf(o){let n=o.split("/");if(n.length===0)return[];let[s,...l]=n,u=s.endsWith("?"),c=s.replace(/\?$/,"");if(l.length===0)return u?[c,""]:[c];let f=nf(l.join("/")),p=[];return p.push(...f.map(g=>g===""?c:[c,g].join("/"))),u&&p.push(...f),p.map(g=>o.startsWith("/")&&g===""?"/":g)}function Wp(o){o.sort((n,s)=>n.score!==s.score?s.score-n.score:Zp(n.routesMeta.map(l=>l.childrenIndex),s.routesMeta.map(l=>l.childrenIndex)))}const Vp=/^:[\w-]+$/,Kp=3,Gp=2,Jp=1,Qp=10,Yp=-2,_d=o=>o==="*";function Xp(o,n){let s=o.split("/"),l=s.length;return s.some(_d)&&(l+=Yp),n&&(l+=Gp),s.filter(u=>!_d(u)).reduce((u,c)=>u+(Vp.test(c)?Kp:c===""?Jp:Qp),l)}function Zp(o,n){return o.length===n.length&&o.slice(0,-1).every((l,u)=>l===n[u])?o[o.length-1]-n[n.length-1]:0}function em(o,n,s){let{routesMeta:l}=o,u={},c="/",f=[];for(let p=0;p<l.length;++p){let g=l[p],y=p===l.length-1,v=c==="/"?n:n.slice(c.length)||"/",x=tm({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},v),k=g.route;if(!x)return null;Object.assign(u,x.params),f.push({params:u,pathname:pr([c,x.pathname]),pathnameBase:om(pr([c,x.pathnameBase])),route:k}),x.pathnameBase!=="/"&&(c=pr([c,x.pathnameBase]))}return f}function tm(o,n){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[s,l]=rm(o.path,o.caseSensitive,o.end),u=n.match(s);if(!u)return null;let c=u[0],f=c.replace(/(.)\/+$/,"$1"),p=u.slice(1);return{params:l.reduce((y,v,x)=>{let{paramName:k,isOptional:R}=v;if(k==="*"){let b=p[x]||"";f=c.slice(0,c.length-b.length).replace(/(.)\/+$/,"$1")}const O=p[x];return R&&!O?y[k]=void 0:y[k]=(O||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:f,pattern:o}}function rm(o,n,s){n===void 0&&(n=!1),s===void 0&&(s=!0),tf(o==="*"||!o.endsWith("*")||o.endsWith("/*"),'Route path "'+o+'" will be treated as if it were '+('"'+o.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+o.replace(/\*$/,"/*")+'".'));let l=[],u="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,g)=>(l.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?(l.push({paramName:"*"}),u+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?u+="\\/*$":o!==""&&o!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,n?void 0:"i"),l]}function nm(o){try{return o.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return tf(!1,'The URL path "'+o+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),o}}function la(o,n){if(n==="/")return o;if(!o.toLowerCase().startsWith(n.toLowerCase()))return null;let s=n.endsWith("/")?n.length-1:n.length,l=o.charAt(s);return l&&l!=="/"?null:o.slice(s)||"/"}function sm(o,n){n===void 0&&(n="/");let{pathname:s,search:l="",hash:u=""}=typeof o=="string"?yn(o):o;return{pathname:s?s.startsWith("/")?s:im(s,n):n,search:am(l),hash:um(u)}}function im(o,n){let s=n.replace(/\/+$/,"").split("/");return o.split("/").forEach(u=>{u===".."?s.length>1&&s.pop():u!=="."&&s.push(u)}),s.length>1?s.join("/"):"/"}function Bo(o,n,s,l){return"Cannot include a '"+o+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(l)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lm(o){return o.filter((n,s)=>s===0||n.route.path&&n.route.path.length>0)}function oa(o,n){let s=lm(o);return n?s.map((l,u)=>u===s.length-1?l.pathname:l.pathnameBase):s.map(l=>l.pathnameBase)}function aa(o,n,s,l){l===void 0&&(l=!1);let u;typeof o=="string"?u=yn(o):(u=ps({},o),$e(!u.pathname||!u.pathname.includes("?"),Bo("?","pathname","search",u)),$e(!u.pathname||!u.pathname.includes("#"),Bo("#","pathname","hash",u)),$e(!u.search||!u.search.includes("#"),Bo("#","search","hash",u)));let c=o===""||u.pathname==="",f=c?"/":u.pathname,p;if(f==null)p=s;else{let x=n.length-1;if(!l&&f.startsWith("..")){let k=f.split("/");for(;k[0]==="..";)k.shift(),x-=1;u.pathname=k.join("/")}p=x>=0?n[x]:"/"}let g=sm(u,p),y=f&&f!=="/"&&f.endsWith("/"),v=(c||f===".")&&s.endsWith("/");return!g.pathname.endsWith("/")&&(y||v)&&(g.pathname+="/"),g}const pr=o=>o.join("/").replace(/\/\/+/g,"/"),om=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),am=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,um=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function cm(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}const sf=["post","put","patch","delete"];new Set(sf);const dm=["get",...sf];new Set(dm);/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ms(){return ms=Object.assign?Object.assign.bind():function(o){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(o[l]=s[l])}return o},ms.apply(this,arguments)}const ua=T.createContext(null),fm=T.createContext(null),mr=T.createContext(null),Mi=T.createContext(null),Ht=T.createContext({outlet:null,matches:[],isDataRoute:!1}),lf=T.createContext(null);function hm(o,n){let{relative:s}=n===void 0?{}:n;wn()||$e(!1);let{basename:l,navigator:u}=T.useContext(mr),{hash:c,pathname:f,search:p}=af(o,{relative:s}),g=f;return l!=="/"&&(g=f==="/"?l:pr([l,f])),u.createHref({pathname:g,search:p,hash:c})}function wn(){return T.useContext(Mi)!=null}function xn(){return wn()||$e(!1),T.useContext(Mi).location}function of(o){T.useContext(mr).static||T.useLayoutEffect(o)}function zi(){let{isDataRoute:o}=T.useContext(Ht);return o?Cm():pm()}function pm(){wn()||$e(!1);let o=T.useContext(ua),{basename:n,future:s,navigator:l}=T.useContext(mr),{matches:u}=T.useContext(Ht),{pathname:c}=xn(),f=JSON.stringify(oa(u,s.v7_relativeSplatPath)),p=T.useRef(!1);return of(()=>{p.current=!0}),T.useCallback(function(y,v){if(v===void 0&&(v={}),!p.current)return;if(typeof y=="number"){l.go(y);return}let x=aa(y,JSON.parse(f),c,v.relative==="path");o==null&&n!=="/"&&(x.pathname=x.pathname==="/"?n:pr([n,x.pathname])),(v.replace?l.replace:l.push)(x,v.state,v)},[n,l,f,c,o])}function mm(){let{matches:o}=T.useContext(Ht),n=o[o.length-1];return n?n.params:{}}function af(o,n){let{relative:s}=n===void 0?{}:n,{future:l}=T.useContext(mr),{matches:u}=T.useContext(Ht),{pathname:c}=xn(),f=JSON.stringify(oa(u,l.v7_relativeSplatPath));return T.useMemo(()=>aa(o,JSON.parse(f),c,s==="path"),[o,f,c,s])}function gm(o,n){return vm(o,n)}function vm(o,n,s,l){wn()||$e(!1);let{navigator:u,static:c}=T.useContext(mr),{matches:f}=T.useContext(Ht),p=f[f.length-1],g=p?p.params:{};p&&p.pathname;let y=p?p.pathnameBase:"/";p&&p.route;let v=xn(),x;if(n){var k;let F=typeof n=="string"?yn(n):n;y==="/"||(k=F.pathname)!=null&&k.startsWith(y)||$e(!1),x=F}else x=v;let R=x.pathname||"/",O=R;if(y!=="/"){let F=y.replace(/^\//,"").split("/");O="/"+R.replace(/^\//,"").split("/").slice(F.length).join("/")}let b=Hp(o,{pathname:O}),P=Em(b&&b.map(F=>Object.assign({},F,{params:Object.assign({},g,F.params),pathname:pr([y,u.encodeLocation?u.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?y:pr([y,u.encodeLocation?u.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),f,s,l);return n&&P?T.createElement(Mi.Provider,{value:{location:ms({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:hr.Pop}},P):P}function ym(){let o=Nm(),n=cm(o)?o.status+" "+o.statusText:o instanceof Error?o.message:JSON.stringify(o),s=o instanceof Error?o.stack:null,u={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},n),s?T.createElement("pre",{style:u},s):null,null)}const wm=T.createElement(ym,null);class xm extends T.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,s){return s.location!==n.location||s.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:s.error,location:s.location,revalidation:n.revalidation||s.revalidation}}componentDidCatch(n,s){console.error("React Router caught the following error during render",n,s)}render(){return this.state.error!==void 0?T.createElement(Ht.Provider,{value:this.props.routeContext},T.createElement(lf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _m(o){let{routeContext:n,match:s,children:l}=o,u=T.useContext(ua);return u&&u.static&&u.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=s.route.id),T.createElement(Ht.Provider,{value:n},l)}function Em(o,n,s,l){var u;if(n===void 0&&(n=[]),s===void 0&&(s=null),l===void 0&&(l=null),o==null){var c;if(!s)return null;if(s.errors)o=s.matches;else if((c=l)!=null&&c.v7_partialHydration&&n.length===0&&!s.initialized&&s.matches.length>0)o=s.matches;else return null}let f=o,p=(u=s)==null?void 0:u.errors;if(p!=null){let v=f.findIndex(x=>x.route.id&&(p==null?void 0:p[x.route.id])!==void 0);v>=0||$e(!1),f=f.slice(0,Math.min(f.length,v+1))}let g=!1,y=-1;if(s&&l&&l.v7_partialHydration)for(let v=0;v<f.length;v++){let x=f[v];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(y=v),x.route.id){let{loaderData:k,errors:R}=s,O=x.route.loader&&k[x.route.id]===void 0&&(!R||R[x.route.id]===void 0);if(x.route.lazy||O){g=!0,y>=0?f=f.slice(0,y+1):f=[f[0]];break}}}return f.reduceRight((v,x,k)=>{let R,O=!1,b=null,P=null;s&&(R=p&&x.route.id?p[x.route.id]:void 0,b=x.route.errorElement||wm,g&&(y<0&&k===0?(Tm("route-fallback"),O=!0,P=null):y===k&&(O=!0,P=x.route.hydrateFallbackElement||null)));let F=n.concat(f.slice(0,k+1)),X=()=>{let B;return R?B=b:O?B=P:x.route.Component?B=T.createElement(x.route.Component,null):x.route.element?B=x.route.element:B=v,T.createElement(_m,{match:x,routeContext:{outlet:v,matches:F,isDataRoute:s!=null},children:B})};return s&&(x.route.ErrorBoundary||x.route.errorElement||k===0)?T.createElement(xm,{location:s.location,revalidation:s.revalidation,component:b,error:R,children:X(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):X()},null)}var uf=function(o){return o.UseBlocker="useBlocker",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o}(uf||{}),cf=function(o){return o.UseBlocker="useBlocker",o.UseLoaderData="useLoaderData",o.UseActionData="useActionData",o.UseRouteError="useRouteError",o.UseNavigation="useNavigation",o.UseRouteLoaderData="useRouteLoaderData",o.UseMatches="useMatches",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o.UseRouteId="useRouteId",o}(cf||{});function km(o){let n=T.useContext(ua);return n||$e(!1),n}function Sm(o){let n=T.useContext(fm);return n||$e(!1),n}function jm(o){let n=T.useContext(Ht);return n||$e(!1),n}function df(o){let n=jm(),s=n.matches[n.matches.length-1];return s.route.id||$e(!1),s.route.id}function Nm(){var o;let n=T.useContext(lf),s=Sm(),l=df();return n!==void 0?n:(o=s.errors)==null?void 0:o[l]}function Cm(){let{router:o}=km(uf.UseNavigateStable),n=df(cf.UseNavigateStable),s=T.useRef(!1);return of(()=>{s.current=!0}),T.useCallback(function(u,c){c===void 0&&(c={}),s.current&&(typeof u=="number"?o.navigate(u):o.navigate(u,ms({fromRouteId:n},c)))},[o,n])}const Ed={};function Tm(o,n,s){Ed[o]||(Ed[o]=!0)}function Pm(o,n){o==null||o.v7_startTransition,o==null||o.v7_relativeSplatPath}function bm(o){let{to:n,replace:s,state:l,relative:u}=o;wn()||$e(!1);let{future:c,static:f}=T.useContext(mr),{matches:p}=T.useContext(Ht),{pathname:g}=xn(),y=zi(),v=aa(n,oa(p,c.v7_relativeSplatPath),g,u==="path"),x=JSON.stringify(v);return T.useEffect(()=>y(JSON.parse(x),{replace:s,state:l,relative:u}),[y,x,u,s,l]),null}function zt(o){$e(!1)}function Rm(o){let{basename:n="/",children:s=null,location:l,navigationType:u=hr.Pop,navigator:c,static:f=!1,future:p}=o;wn()&&$e(!1);let g=n.replace(/^\/*/,"/"),y=T.useMemo(()=>({basename:g,navigator:c,static:f,future:ms({v7_relativeSplatPath:!1},p)}),[g,p,c,f]);typeof l=="string"&&(l=yn(l));let{pathname:v="/",search:x="",hash:k="",state:R=null,key:O="default"}=l,b=T.useMemo(()=>{let P=la(v,g);return P==null?null:{location:{pathname:P,search:x,hash:k,state:R,key:O},navigationType:u}},[g,v,x,k,R,O,u]);return b==null?null:T.createElement(mr.Provider,{value:y},T.createElement(Mi.Provider,{children:s,value:b}))}function kd(o){let{children:n,location:s}=o;return gm(Go(n),s)}new Promise(()=>{});function Go(o,n){n===void 0&&(n=[]);let s=[];return T.Children.forEach(o,(l,u)=>{if(!T.isValidElement(l))return;let c=[...n,u];if(l.type===T.Fragment){s.push.apply(s,Go(l.props.children,c));return}l.type!==zt&&$e(!1),!l.props.index||!l.props.children||$e(!1);let f={id:l.props.id||c.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(f.children=Go(l.props.children,c)),s.push(f)}),s}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jo(){return Jo=Object.assign?Object.assign.bind():function(o){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(o[l]=s[l])}return o},Jo.apply(this,arguments)}function Om(o,n){if(o==null)return{};var s={},l=Object.keys(o),u,c;for(c=0;c<l.length;c++)u=l[c],!(n.indexOf(u)>=0)&&(s[u]=o[u]);return s}function Lm(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function Am(o,n){return o.button===0&&(!n||n==="_self")&&!Lm(o)}const Im=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$m="6";try{window.__reactRouterVersion=$m}catch{}const Um="startTransition",Sd=Ap[Um];function Dm(o){let{basename:n,children:s,future:l,window:u}=o,c=T.useRef();c.current==null&&(c.current=Mp({window:u,v5Compat:!0}));let f=c.current,[p,g]=T.useState({action:f.action,location:f.location}),{v7_startTransition:y}=l||{},v=T.useCallback(x=>{y&&Sd?Sd(()=>g(x)):g(x)},[g,y]);return T.useLayoutEffect(()=>f.listen(v),[f,v]),T.useEffect(()=>Pm(l),[l]),T.createElement(Rm,{basename:n,children:s,location:p.location,navigationType:p.action,navigator:f,future:l})}const Fm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Mm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pn=T.forwardRef(function(n,s){let{onClick:l,relative:u,reloadDocument:c,replace:f,state:p,target:g,to:y,preventScrollReset:v,viewTransition:x}=n,k=Om(n,Im),{basename:R}=T.useContext(mr),O,b=!1;if(typeof y=="string"&&Mm.test(y)&&(O=y,Fm))try{let B=new URL(window.location.href),Q=y.startsWith("//")?new URL(B.protocol+y):new URL(y),U=la(Q.pathname,R);Q.origin===B.origin&&U!=null?y=U+Q.search+Q.hash:b=!0}catch{}let P=hm(y,{relative:u}),F=zm(y,{replace:f,state:p,target:g,preventScrollReset:v,relative:u,viewTransition:x});function X(B){l&&l(B),B.defaultPrevented||F(B)}return T.createElement("a",Jo({},k,{href:O||P,onClick:b||c?l:X,ref:s,target:g}))});var jd;(function(o){o.UseScrollRestoration="useScrollRestoration",o.UseSubmit="useSubmit",o.UseSubmitFetcher="useSubmitFetcher",o.UseFetcher="useFetcher",o.useViewTransitionState="useViewTransitionState"})(jd||(jd={}));var Nd;(function(o){o.UseFetcher="useFetcher",o.UseFetchers="useFetchers",o.UseScrollRestoration="useScrollRestoration"})(Nd||(Nd={}));function zm(o,n){let{target:s,replace:l,state:u,preventScrollReset:c,relative:f,viewTransition:p}=n===void 0?{}:n,g=zi(),y=xn(),v=af(o,{relative:f});return T.useCallback(x=>{if(Am(x,s)){x.preventDefault();let k=l!==void 0?l:Ui(y)===Ui(v);g(o,{replace:k,state:u,preventScrollReset:c,relative:f,viewTransition:p})}},[y,g,v,l,u,s,o,c,f,p])}const Bm="modulepreload",Hm=function(o){return"/unihive/"+o},Cd={},gn=function(n,s,l){let u=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));u=Promise.allSettled(s.map(g=>{if(g=Hm(g),g in Cd)return;Cd[g]=!0;const y=g.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const x=document.createElement("link");if(x.rel=y?"stylesheet":Bm,y||(x.as="script"),x.crossOrigin="",x.href=g,p&&x.setAttribute("nonce",p),document.head.appendChild(x),y)return new Promise((k,R)=>{x.addEventListener("load",k),x.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${g}`)))})}))}function c(f){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f}return u.then(f=>{for(const p of f||[])p.status==="rejected"&&c(p.reason);return n().catch(c)})},qm=o=>{let n;return o?n=o:typeof fetch>"u"?n=(...s)=>gn(async()=>{const{default:l}=await Promise.resolve().then(()=>_n);return{default:l}},void 0).then(({default:l})=>l(...s)):n=fetch,(...s)=>n(...s)};class ca extends Error{constructor(n,s="FunctionsError",l){super(n),this.name=s,this.context=l}}class Wm extends ca{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Vm extends ca{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Km extends ca{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Qo;(function(o){o.Any="any",o.ApNortheast1="ap-northeast-1",o.ApNortheast2="ap-northeast-2",o.ApSouth1="ap-south-1",o.ApSoutheast1="ap-southeast-1",o.ApSoutheast2="ap-southeast-2",o.CaCentral1="ca-central-1",o.EuCentral1="eu-central-1",o.EuWest1="eu-west-1",o.EuWest2="eu-west-2",o.EuWest3="eu-west-3",o.SaEast1="sa-east-1",o.UsEast1="us-east-1",o.UsWest1="us-west-1",o.UsWest2="us-west-2"})(Qo||(Qo={}));var Gm=function(o,n,s,l){function u(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(v){try{y(l.next(v))}catch(x){f(x)}}function g(v){try{y(l.throw(v))}catch(x){f(x)}}function y(v){v.done?c(v.value):u(v.value).then(p,g)}y((l=l.apply(o,n||[])).next())})};class Jm{constructor(n,{headers:s={},customFetch:l,region:u=Qo.Any}={}){this.url=n,this.headers=s,this.region=u,this.fetch=qm(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,s={}){var l;return Gm(this,void 0,void 0,function*(){try{const{headers:u,method:c,body:f}=s;let p={},{region:g}=s;g||(g=this.region),g&&g!=="any"&&(p["x-region"]=g);let y;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",y=f):typeof f=="string"?(p["Content-Type"]="text/plain",y=f):typeof FormData<"u"&&f instanceof FormData?y=f:(p["Content-Type"]="application/json",y=JSON.stringify(f)));const v=yield this.fetch(`${this.url}/${n}`,{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),u),body:y}).catch(O=>{throw new Wm(O)}),x=v.headers.get("x-relay-error");if(x&&x==="true")throw new Vm(v);if(!v.ok)throw new Km(v);let k=((l=v.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),R;return k==="application/json"?R=yield v.json():k==="application/octet-stream"?R=yield v.blob():k==="text/event-stream"?R=v:k==="multipart/form-data"?R=yield v.formData():R=yield v.text(),{data:R,error:null}}catch(u){return{data:null,error:u}}})}}var qe={},ln={},on={},an={},un={},cn={},Qm=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},vn=Qm();const Ym=vn.fetch,ff=vn.fetch.bind(vn),hf=vn.Headers,Xm=vn.Request,Zm=vn.Response,_n=Object.freeze(Object.defineProperty({__proto__:null,Headers:hf,Request:Xm,Response:Zm,default:ff,fetch:Ym},Symbol.toStringTag,{value:"Module"})),eg=bp(_n);var bi={},Td;function pf(){if(Td)return bi;Td=1,Object.defineProperty(bi,"__esModule",{value:!0});class o extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return bi.default=o,bi}var Pd;function mf(){if(Pd)return cn;Pd=1;var o=cn&&cn.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(cn,"__esModule",{value:!0});const n=o(eg),s=o(pf());class l{constructor(c){this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=c.headers,this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=c.shouldThrowOnError,this.signal=c.signal,this.isMaybeSingle=c.isMaybeSingle,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,f){return this.headers=Object.assign({},this.headers),this.headers[c]=f,this}then(c,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const p=this.fetch;let g=p(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async y=>{var v,x,k;let R=null,O=null,b=null,P=y.status,F=y.statusText;if(y.ok){if(this.method!=="HEAD"){const U=await y.text();U===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?O=U:O=JSON.parse(U))}const B=(v=this.headers.Prefer)===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),Q=(x=y.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");B&&Q&&Q.length>1&&(b=parseInt(Q[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(O)&&(O.length>1?(R={code:"PGRST116",details:`Results contain ${O.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},O=null,b=null,P=406,F="Not Acceptable"):O.length===1?O=O[0]:O=null)}else{const B=await y.text();try{R=JSON.parse(B),Array.isArray(R)&&y.status===404&&(O=[],R=null,P=200,F="OK")}catch{y.status===404&&B===""?(P=204,F="No Content"):R={message:B}}if(R&&this.isMaybeSingle&&(!((k=R==null?void 0:R.details)===null||k===void 0)&&k.includes("0 rows"))&&(R=null,P=200,F="OK"),R&&this.shouldThrowOnError)throw new s.default(R)}return{error:R,data:O,count:b,status:P,statusText:F}});return this.shouldThrowOnError||(g=g.catch(y=>{var v,x,k;return{error:{message:`${(v=y==null?void 0:y.name)!==null&&v!==void 0?v:"FetchError"}: ${y==null?void 0:y.message}`,details:`${(x=y==null?void 0:y.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(k=y==null?void 0:y.code)!==null&&k!==void 0?k:""}`},data:null,count:null,status:0,statusText:""}})),g.then(c,f)}}return cn.default=l,cn}var bd;function gf(){if(bd)return un;bd=1;var o=un&&un.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(un,"__esModule",{value:!0});const n=o(mf());class s extends n.default{select(u){let c=!1;const f=(u??"*").split("").map(p=>/\s/.test(p)&&!c?"":(p==='"'&&(c=!c),p)).join("");return this.url.searchParams.set("select",f),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(u,{ascending:c=!0,nullsFirst:f,foreignTable:p,referencedTable:g=p}={}){const y=g?`${g}.order`:"order",v=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${v?`${v},`:""}${u}.${c?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:c,referencedTable:f=c}={}){const p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${u}`),this}range(u,c,{foreignTable:f,referencedTable:p=f}={}){const g=typeof p>"u"?"offset":`${p}.offset`,y=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(g,`${u}`),this.url.searchParams.set(y,`${c-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:u=!1,verbose:c=!1,settings:f=!1,buffers:p=!1,wal:g=!1,format:y="text"}={}){var v;const x=[u?"analyze":null,c?"verbose":null,f?"settings":null,p?"buffers":null,g?"wal":null].filter(Boolean).join("|"),k=(v=this.headers.Accept)!==null&&v!==void 0?v:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${y}; for="${k}"; options=${x};`,y==="json"?this:this}rollback(){var u;return((u=this.headers.Prefer)!==null&&u!==void 0?u:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return un.default=s,un}var Rd;function da(){if(Rd)return an;Rd=1;var o=an&&an.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(an,"__esModule",{value:!0});const n=o(gf());class s extends n.default{eq(u,c){return this.url.searchParams.append(u,`eq.${c}`),this}neq(u,c){return this.url.searchParams.append(u,`neq.${c}`),this}gt(u,c){return this.url.searchParams.append(u,`gt.${c}`),this}gte(u,c){return this.url.searchParams.append(u,`gte.${c}`),this}lt(u,c){return this.url.searchParams.append(u,`lt.${c}`),this}lte(u,c){return this.url.searchParams.append(u,`lte.${c}`),this}like(u,c){return this.url.searchParams.append(u,`like.${c}`),this}likeAllOf(u,c){return this.url.searchParams.append(u,`like(all).{${c.join(",")}}`),this}likeAnyOf(u,c){return this.url.searchParams.append(u,`like(any).{${c.join(",")}}`),this}ilike(u,c){return this.url.searchParams.append(u,`ilike.${c}`),this}ilikeAllOf(u,c){return this.url.searchParams.append(u,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(u,c){return this.url.searchParams.append(u,`ilike(any).{${c.join(",")}}`),this}is(u,c){return this.url.searchParams.append(u,`is.${c}`),this}in(u,c){const f=Array.from(new Set(c)).map(p=>typeof p=="string"&&new RegExp("[,()]").test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(u,`in.(${f})`),this}contains(u,c){return typeof c=="string"?this.url.searchParams.append(u,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(u,`cs.{${c.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(c)}`),this}containedBy(u,c){return typeof c=="string"?this.url.searchParams.append(u,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(u,`cd.{${c.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(c)}`),this}rangeGt(u,c){return this.url.searchParams.append(u,`sr.${c}`),this}rangeGte(u,c){return this.url.searchParams.append(u,`nxl.${c}`),this}rangeLt(u,c){return this.url.searchParams.append(u,`sl.${c}`),this}rangeLte(u,c){return this.url.searchParams.append(u,`nxr.${c}`),this}rangeAdjacent(u,c){return this.url.searchParams.append(u,`adj.${c}`),this}overlaps(u,c){return typeof c=="string"?this.url.searchParams.append(u,`ov.${c}`):this.url.searchParams.append(u,`ov.{${c.join(",")}}`),this}textSearch(u,c,{config:f,type:p}={}){let g="";p==="plain"?g="pl":p==="phrase"?g="ph":p==="websearch"&&(g="w");const y=f===void 0?"":`(${f})`;return this.url.searchParams.append(u,`${g}fts${y}.${c}`),this}match(u){return Object.entries(u).forEach(([c,f])=>{this.url.searchParams.append(c,`eq.${f}`)}),this}not(u,c,f){return this.url.searchParams.append(u,`not.${c}.${f}`),this}or(u,{foreignTable:c,referencedTable:f=c}={}){const p=f?`${f}.or`:"or";return this.url.searchParams.append(p,`(${u})`),this}filter(u,c,f){return this.url.searchParams.append(u,`${c}.${f}`),this}}return an.default=s,an}var Od;function vf(){if(Od)return on;Od=1;var o=on&&on.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(on,"__esModule",{value:!0});const n=o(da());class s{constructor(u,{headers:c={},schema:f,fetch:p}){this.url=u,this.headers=c,this.schema=f,this.fetch=p}select(u,{head:c=!1,count:f}={}){const p=c?"HEAD":"GET";let g=!1;const y=(u??"*").split("").map(v=>/\s/.test(v)&&!g?"":(v==='"'&&(g=!g),v)).join("");return this.url.searchParams.set("select",y),f&&(this.headers.Prefer=`count=${f}`),new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(u,{count:c,defaultToNull:f=!0}={}){const p="POST",g=[];if(this.headers.Prefer&&g.push(this.headers.Prefer),c&&g.push(`count=${c}`),f||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(u)){const y=u.reduce((v,x)=>v.concat(Object.keys(x)),[]);if(y.length>0){const v=[...new Set(y)].map(x=>`"${x}"`);this.url.searchParams.set("columns",v.join(","))}}return new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:this.fetch,allowEmpty:!1})}upsert(u,{onConflict:c,ignoreDuplicates:f=!1,count:p,defaultToNull:g=!0}={}){const y="POST",v=[`resolution=${f?"ignore":"merge"}-duplicates`];if(c!==void 0&&this.url.searchParams.set("on_conflict",c),this.headers.Prefer&&v.push(this.headers.Prefer),p&&v.push(`count=${p}`),g||v.push("missing=default"),this.headers.Prefer=v.join(","),Array.isArray(u)){const x=u.reduce((k,R)=>k.concat(Object.keys(R)),[]);if(x.length>0){const k=[...new Set(x)].map(R=>`"${R}"`);this.url.searchParams.set("columns",k.join(","))}}return new n.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:this.fetch,allowEmpty:!1})}update(u,{count:c}={}){const f="PATCH",p=[];return this.headers.Prefer&&p.push(this.headers.Prefer),c&&p.push(`count=${c}`),this.headers.Prefer=p.join(","),new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:this.fetch,allowEmpty:!1})}delete({count:u}={}){const c="DELETE",f=[];return u&&f.push(`count=${u}`),this.headers.Prefer&&f.unshift(this.headers.Prefer),this.headers.Prefer=f.join(","),new n.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return on.default=s,on}var as={},us={},Ld;function tg(){return Ld||(Ld=1,Object.defineProperty(us,"__esModule",{value:!0}),us.version=void 0,us.version="0.0.0-automated"),us}var Ad;function rg(){if(Ad)return as;Ad=1,Object.defineProperty(as,"__esModule",{value:!0}),as.DEFAULT_HEADERS=void 0;const o=tg();return as.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${o.version}`},as}var Id;function ng(){if(Id)return ln;Id=1;var o=ln&&ln.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(ln,"__esModule",{value:!0});const n=o(vf()),s=o(da()),l=rg();class u{constructor(f,{headers:p={},schema:g,fetch:y}={}){this.url=f,this.headers=Object.assign(Object.assign({},l.DEFAULT_HEADERS),p),this.schemaName=g,this.fetch=y}from(f){const p=new URL(`${this.url}/${f}`);return new n.default(p,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(f){return new u(this.url,{headers:this.headers,schema:f,fetch:this.fetch})}rpc(f,p={},{head:g=!1,get:y=!1,count:v}={}){let x;const k=new URL(`${this.url}/rpc/${f}`);let R;g||y?(x=g?"HEAD":"GET",Object.entries(p).filter(([b,P])=>P!==void 0).map(([b,P])=>[b,Array.isArray(P)?`{${P.join(",")}}`:`${P}`]).forEach(([b,P])=>{k.searchParams.append(b,P)})):(x="POST",R=p);const O=Object.assign({},this.headers);return v&&(O.Prefer=`count=${v}`),new s.default({method:x,url:k,headers:O,schema:this.schemaName,body:R,fetch:this.fetch,allowEmpty:!1})}}return ln.default=u,ln}var $d;function sg(){if($d)return qe;$d=1;var o=qe&&qe.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(qe,"__esModule",{value:!0}),qe.PostgrestError=qe.PostgrestBuilder=qe.PostgrestTransformBuilder=qe.PostgrestFilterBuilder=qe.PostgrestQueryBuilder=qe.PostgrestClient=void 0;const n=o(ng());qe.PostgrestClient=n.default;const s=o(vf());qe.PostgrestQueryBuilder=s.default;const l=o(da());qe.PostgrestFilterBuilder=l.default;const u=o(gf());qe.PostgrestTransformBuilder=u.default;const c=o(mf());qe.PostgrestBuilder=c.default;const f=o(pf());return qe.PostgrestError=f.default,qe.default={PostgrestClient:n.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:c.default,PostgrestError:f.default},qe}var ig=sg();const lg=Zd(ig),{PostgrestClient:og,PostgrestQueryBuilder:vv,PostgrestFilterBuilder:yv,PostgrestTransformBuilder:wv,PostgrestBuilder:xv,PostgrestError:_v}=lg,ag="2.11.2",ug={"X-Client-Info":`realtime-js/${ag}`},cg="1.0.0",yf=1e4,dg=1e3;var mn;(function(o){o[o.connecting=0]="connecting",o[o.open=1]="open",o[o.closing=2]="closing",o[o.closed=3]="closed"})(mn||(mn={}));var ft;(function(o){o.closed="closed",o.errored="errored",o.joined="joined",o.joining="joining",o.leaving="leaving"})(ft||(ft={}));var Nt;(function(o){o.close="phx_close",o.error="phx_error",o.join="phx_join",o.reply="phx_reply",o.leave="phx_leave",o.access_token="access_token"})(Nt||(Nt={}));var Yo;(function(o){o.websocket="websocket"})(Yo||(Yo={}));var Rr;(function(o){o.Connecting="connecting",o.Open="open",o.Closing="closing",o.Closed="closed"})(Rr||(Rr={}));class fg{constructor(){this.HEADER_LENGTH=1}decode(n,s){return n.constructor===ArrayBuffer?s(this._binaryDecode(n)):s(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const s=new DataView(n),l=new TextDecoder;return this._decodeBroadcast(n,s,l)}_decodeBroadcast(n,s,l){const u=s.getUint8(1),c=s.getUint8(2);let f=this.HEADER_LENGTH+2;const p=l.decode(n.slice(f,f+u));f=f+u;const g=l.decode(n.slice(f,f+c));f=f+c;const y=JSON.parse(l.decode(n.slice(f,n.byteLength)));return{ref:null,topic:p,event:g,payload:y}}}class wf{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var je;(function(o){o.abstime="abstime",o.bool="bool",o.date="date",o.daterange="daterange",o.float4="float4",o.float8="float8",o.int2="int2",o.int4="int4",o.int4range="int4range",o.int8="int8",o.int8range="int8range",o.json="json",o.jsonb="jsonb",o.money="money",o.numeric="numeric",o.oid="oid",o.reltime="reltime",o.text="text",o.time="time",o.timestamp="timestamp",o.timestamptz="timestamptz",o.timetz="timetz",o.tsrange="tsrange",o.tstzrange="tstzrange"})(je||(je={}));const Ud=(o,n,s={})=>{var l;const u=(l=s.skipTypes)!==null&&l!==void 0?l:[];return Object.keys(n).reduce((c,f)=>(c[f]=hg(f,o,n,u),c),{})},hg=(o,n,s,l)=>{const u=n.find(p=>p.name===o),c=u==null?void 0:u.type,f=s[o];return c&&!l.includes(c)?xf(c,f):Xo(f)},xf=(o,n)=>{if(o.charAt(0)==="_"){const s=o.slice(1,o.length);return vg(n,s)}switch(o){case je.bool:return pg(n);case je.float4:case je.float8:case je.int2:case je.int4:case je.int8:case je.numeric:case je.oid:return mg(n);case je.json:case je.jsonb:return gg(n);case je.timestamp:return yg(n);case je.abstime:case je.date:case je.daterange:case je.int4range:case je.int8range:case je.money:case je.reltime:case je.text:case je.time:case je.timestamptz:case je.timetz:case je.tsrange:case je.tstzrange:return Xo(n);default:return Xo(n)}},Xo=o=>o,pg=o=>{switch(o){case"t":return!0;case"f":return!1;default:return o}},mg=o=>{if(typeof o=="string"){const n=parseFloat(o);if(!Number.isNaN(n))return n}return o},gg=o=>{if(typeof o=="string")try{return JSON.parse(o)}catch(n){return console.log(`JSON parse error: ${n}`),o}return o},vg=(o,n)=>{if(typeof o!="string")return o;const s=o.length-1,l=o[s];if(o[0]==="{"&&l==="}"){let c;const f=o.slice(1,s);try{c=JSON.parse("["+f+"]")}catch{c=f?f.split(","):[]}return c.map(p=>xf(n,p))}return o},yg=o=>typeof o=="string"?o.replace(" ","T"):o,_f=o=>{let n=o;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};class Ho{constructor(n,s,l={},u=yf){this.channel=n,this.event=s,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var l;return this._hasReceived(n)&&s((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Dd;(function(o){o.SYNC="sync",o.JOIN="join",o.LEAVE="leave"})(Dd||(Dd={}));class fs{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:c,onLeave:f,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fs.syncState(this.state,u,c,f),this.pendingDiffs.forEach(g=>{this.state=fs.syncDiff(this.state,g,c,f)}),this.pendingDiffs=[],p()}),this.channel._on(l.diff,{},u=>{const{onJoin:c,onLeave:f,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=fs.syncDiff(this.state,u,c,f),p())}),this.onJoin((u,c,f)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:c,newPresences:f})}),this.onLeave((u,c,f)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:c,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,l,u){const c=this.cloneDeep(n),f=this.transformState(s),p={},g={};return this.map(c,(y,v)=>{f[y]||(g[y]=v)}),this.map(f,(y,v)=>{const x=c[y];if(x){const k=v.map(P=>P.presence_ref),R=x.map(P=>P.presence_ref),O=v.filter(P=>R.indexOf(P.presence_ref)<0),b=x.filter(P=>k.indexOf(P.presence_ref)<0);O.length>0&&(p[y]=O),b.length>0&&(g[y]=b)}else p[y]=v}),this.syncDiff(c,{joins:p,leaves:g},l,u)}static syncDiff(n,s,l,u){const{joins:c,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(c,(p,g)=>{var y;const v=(y=n[p])!==null&&y!==void 0?y:[];if(n[p]=this.cloneDeep(g),v.length>0){const x=n[p].map(R=>R.presence_ref),k=v.filter(R=>x.indexOf(R.presence_ref)<0);n[p].unshift(...k)}l(p,v,g)}),this.map(f,(p,g)=>{let y=n[p];if(!y)return;const v=g.map(x=>x.presence_ref);y=y.filter(x=>v.indexOf(x.presence_ref)<0),n[p]=y,u(p,y,g),y.length===0&&delete n[p]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(l=>s(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,l)=>{const u=n[l];return"metas"in u?s[l]=u.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[l]=u,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Fd;(function(o){o.ALL="*",o.INSERT="INSERT",o.UPDATE="UPDATE",o.DELETE="DELETE"})(Fd||(Fd={}));var Md;(function(o){o.BROADCAST="broadcast",o.PRESENCE="presence",o.POSTGRES_CHANGES="postgres_changes",o.SYSTEM="system"})(Md||(Md={}));var Bt;(function(o){o.SUBSCRIBED="SUBSCRIBED",o.TIMED_OUT="TIMED_OUT",o.CLOSED="CLOSED",o.CHANNEL_ERROR="CHANNEL_ERROR"})(Bt||(Bt={}));class fa{constructor(n,s={config:{}},l){this.topic=n,this.params=s,this.socket=l,this.bindings={},this.state=ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Ho(this,Nt.join,this.params,this.timeout),this.rejoinTimer=new wf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ft.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Nt.reply,{},(u,c)=>{this._trigger(this._replyEventName(c),u)}),this.presence=new fs(this),this.broadcastEndpointURL=_f(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(n,s=this.timeout){var l,u;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:c,presence:f,private:p}}=this.params;this._onError(v=>n==null?void 0:n(Bt.CHANNEL_ERROR,v)),this._onClose(()=>n==null?void 0:n(Bt.CLOSED));const g={},y={broadcast:c,presence:f,postgres_changes:(u=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(v=>v.filter))!==null&&u!==void 0?u:[],private:p};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:y},g)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:v})=>{var x;if(this.socket.setAuth(),v===void 0){n==null||n(Bt.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,R=(x=k==null?void 0:k.length)!==null&&x!==void 0?x:0,O=[];for(let b=0;b<R;b++){const P=k[b],{filter:{event:F,schema:X,table:B,filter:Q}}=P,U=v&&v[b];if(U&&U.event===F&&U.schema===X&&U.table===B&&U.filter===Q)O.push(Object.assign(Object.assign({},P),{id:U.id}));else{this.unsubscribe(),n==null||n(Bt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,n&&n(Bt.SUBSCRIBED);return}}).receive("error",v=>{n==null||n(Bt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(Bt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,l){return this._on(n,s,l)}async send(n,s={}){var l,u;if(!this._canPush()&&n.type==="broadcast"){const{event:c,payload:f}=n,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:f,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(l=s.timeout)!==null&&l!==void 0?l:this.timeout);return await((u=y.body)===null||u===void 0?void 0:u.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var f,p,g;const y=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((g=(p=(f=this.params)===null||f===void 0?void 0:f.config)===null||p===void 0?void 0:p.broadcast)===null||g===void 0)&&g.ack)&&c("ok"),y.receive("ok",()=>c("ok")),y.receive("error",()=>c("error")),y.receive("timeout",()=>c("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=ft.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Nt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(l=>{const u=new Ho(this,Nt.leave,{},n);u.receive("ok",()=>{s(),l("ok")}).receive("timeout",()=>{s(),l("timed out")}).receive("error",()=>{l("error")}),u.send(),this._canPush()||u.trigger("ok",{})})}async _fetchWithTimeout(n,s,l){const u=new AbortController,c=setTimeout(()=>u.abort(),l),f=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:u.signal}));return clearTimeout(c),f}_push(n,s,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Ho(this,n,s,l);return this._canPush()?u.send():(u.startTimeout(),this.pushBuffer.push(u)),u}_onMessage(n,s,l){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,l){var u,c;const f=n.toLocaleLowerCase(),{close:p,error:g,leave:y,join:v}=Nt;if(l&&[p,g,y,v].indexOf(f)>=0&&l!==this._joinRef())return;let k=this._onMessage(f,s,l);if(s&&!k)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(R=>{var O,b,P;return((O=R.filter)===null||O===void 0?void 0:O.event)==="*"||((P=(b=R.filter)===null||b===void 0?void 0:b.event)===null||P===void 0?void 0:P.toLocaleLowerCase())===f}).map(R=>R.callback(k,l)):(c=this.bindings[f])===null||c===void 0||c.filter(R=>{var O,b,P,F,X,B;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in R){const Q=R.id,U=(O=R.filter)===null||O===void 0?void 0:O.event;return Q&&((b=s.ids)===null||b===void 0?void 0:b.includes(Q))&&(U==="*"||(U==null?void 0:U.toLocaleLowerCase())===((P=s.data)===null||P===void 0?void 0:P.type.toLocaleLowerCase()))}else{const Q=(X=(F=R==null?void 0:R.filter)===null||F===void 0?void 0:F.event)===null||X===void 0?void 0:X.toLocaleLowerCase();return Q==="*"||Q===((B=s==null?void 0:s.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return R.type.toLocaleLowerCase()===f}).map(R=>{if(typeof k=="object"&&"ids"in k){const O=k.data,{schema:b,table:P,commit_timestamp:F,type:X,errors:B}=O;k=Object.assign(Object.assign({},{schema:b,table:P,commit_timestamp:F,eventType:X,new:{},old:{},errors:B}),this._getPayloadRecords(O))}R.callback(k,l)})}_isClosed(){return this.state===ft.closed}_isJoined(){return this.state===ft.joined}_isJoining(){return this.state===ft.joining}_isLeaving(){return this.state===ft.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,l){const u=n.toLocaleLowerCase(),c={type:u,filter:s,callback:l};return this.bindings[u]?this.bindings[u].push(c):this.bindings[u]=[c],this}_off(n,s){const l=n.toLocaleLowerCase();return this.bindings[l]=this.bindings[l].filter(u=>{var c;return!(((c=u.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===l&&fa.isEqual(u.filter,s))}),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const l in n)if(n[l]!==s[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Nt.close,{},n)}_onError(n){this._on(Nt.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ft.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=Ud(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=Ud(n.columns,n.old_record)),s}}const wg=()=>{},xg=typeof WebSocket<"u",_g=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Eg{constructor(n,s){var l;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=ug,this.params={},this.timeout=yf,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=wg,this.conn=null,this.sendBuffer=[],this.serializer=new fg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=c=>{let f;return c?f=c:typeof fetch>"u"?f=(...p)=>gn(async()=>{const{default:g}=await Promise.resolve().then(()=>_n);return{default:g}},void 0).then(({default:g})=>g(...p)):f=fetch,(...p)=>f(...p)},this.endPoint=`${n}/${Yo.websocket}`,this.httpEndpoint=_f(n),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const u=(l=s==null?void 0:s.params)===null||l===void 0?void 0:l.apikey;if(u&&(this.accessTokenValue=u,this.apiKey=u),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:c=>[1e3,2e3,5e3,1e4][c-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(c,f)=>f(JSON.stringify(c)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new wf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(xg){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new kg(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),gn(async()=>{const{default:n}=await import("./browser-D7yRg9XF.js").then(s=>s.b);return{default:n}},[]).then(({default:n})=>{this.conn=new n(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:cg}))}disconnect(n,s){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),n}log(n,s,l){this.logger(n,s,l)}connectionState(){switch(this.conn&&this.conn.readyState){case mn.connecting:return Rr.Connecting;case mn.open:return Rr.Open;case mn.closing:return Rr.Closing;default:return Rr.Closed}}isConnected(){return this.connectionState()===Rr.Open}channel(n,s={config:{}}){const l=new fa(`realtime:${n}`,s,this);return this.channels.push(l),l}push(n){const{topic:s,event:l,payload:u,ref:c}=n,f=()=>{this.encode(n,p=>{var g;(g=this.conn)===null||g===void 0||g.send(p)})};this.log("push",`${s} ${l} (${c})`,u),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){let s=n||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let l=null;try{l=JSON.parse(atob(s.split(".")[1]))}catch{}if(l&&l.exp&&!(Math.floor(Date.now()/1e3)-l.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${l.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${l.exp}`);this.accessTokenValue=s,this.channels.forEach(u=>{s&&u.updateJoinPayload({access_token:s}),u.joinedOnce&&u._isJoined()&&u._push(Nt.access_token,{access_token:s})})}}async sendHeartbeat(){var n;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(n=this.conn)===null||n===void 0||n.close(dg,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s._joinRef()!==n._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_onConnMessage(n){this.decode(n.data,s=>{let{topic:l,event:u,payload:c,ref:f}=s;f&&f===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${c.status||""} ${l} ${u} ${f&&"("+f+")"||""}`,c),this.channels.filter(p=>p._isMember(l)).forEach(p=>p._trigger(u,c,f)),this.stateChangeCallbacks.message.forEach(p=>p(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(n=>n())}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(n))}_onConnError(n){this.log("transport",n.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(Nt.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const l=n.match(/\?/)?"&":"?",u=new URLSearchParams(s);return`${n}${l}${u}`}_workerObjectUrl(n){let s;if(n)s=n;else{const l=new Blob([_g],{type:"application/javascript"});s=URL.createObjectURL(l)}return s}}class kg{constructor(n,s,l){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=mn.connecting,this.send=()=>{},this.url=null,this.url=n,this.close=l.close}}class ha extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function We(o){return typeof o=="object"&&o!==null&&"__isStorageError"in o}class Sg extends ha{constructor(n,s){super(n),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Zo extends ha{constructor(n,s){super(n),this.name="StorageUnknownError",this.originalError=s}}var jg=function(o,n,s,l){function u(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(v){try{y(l.next(v))}catch(x){f(x)}}function g(v){try{y(l.throw(v))}catch(x){f(x)}}function y(v){v.done?c(v.value):u(v.value).then(p,g)}y((l=l.apply(o,n||[])).next())})};const Ef=o=>{let n;return o?n=o:typeof fetch>"u"?n=(...s)=>gn(async()=>{const{default:l}=await Promise.resolve().then(()=>_n);return{default:l}},void 0).then(({default:l})=>l(...s)):n=fetch,(...s)=>n(...s)},Ng=()=>jg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield gn(()=>Promise.resolve().then(()=>_n),void 0)).Response:Response}),ea=o=>{if(Array.isArray(o))return o.map(s=>ea(s));if(typeof o=="function"||o!==Object(o))return o;const n={};return Object.entries(o).forEach(([s,l])=>{const u=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));n[u]=ea(l)}),n};var Or=function(o,n,s,l){function u(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(v){try{y(l.next(v))}catch(x){f(x)}}function g(v){try{y(l.throw(v))}catch(x){f(x)}}function y(v){v.done?c(v.value):u(v.value).then(p,g)}y((l=l.apply(o,n||[])).next())})};const qo=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),Cg=(o,n,s)=>Or(void 0,void 0,void 0,function*(){const l=yield Ng();o instanceof l&&!(s!=null&&s.noResolveJson)?o.json().then(u=>{n(new Sg(qo(u),o.status||500))}).catch(u=>{n(new Zo(qo(u),u))}):n(new Zo(qo(o),o))}),Tg=(o,n,s,l)=>{const u={method:o,headers:(n==null?void 0:n.headers)||{}};return o==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),l&&(u.body=JSON.stringify(l)),Object.assign(Object.assign({},u),s))};function ys(o,n,s,l,u,c){return Or(this,void 0,void 0,function*(){return new Promise((f,p)=>{o(s,Tg(n,l,u,c)).then(g=>{if(!g.ok)throw g;return l!=null&&l.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>Cg(g,p,l))})})}function Di(o,n,s,l){return Or(this,void 0,void 0,function*(){return ys(o,"GET",n,s,l)})}function dr(o,n,s,l,u){return Or(this,void 0,void 0,function*(){return ys(o,"POST",n,l,u,s)})}function Pg(o,n,s,l,u){return Or(this,void 0,void 0,function*(){return ys(o,"PUT",n,l,u,s)})}function bg(o,n,s,l){return Or(this,void 0,void 0,function*(){return ys(o,"HEAD",n,Object.assign(Object.assign({},s),{noResolveJson:!0}),l)})}function kf(o,n,s,l,u){return Or(this,void 0,void 0,function*(){return ys(o,"DELETE",n,l,u,s)})}var lt=function(o,n,s,l){function u(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(v){try{y(l.next(v))}catch(x){f(x)}}function g(v){try{y(l.throw(v))}catch(x){f(x)}}function y(v){v.done?c(v.value):u(v.value).then(p,g)}y((l=l.apply(o,n||[])).next())})};const Rg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Og{constructor(n,s={},l,u){this.url=n,this.headers=s,this.bucketId=l,this.fetch=Ef(u)}uploadOrUpdate(n,s,l,u){return lt(this,void 0,void 0,function*(){try{let c;const f=Object.assign(Object.assign({},zd),u);let p=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&l instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),g&&c.append("metadata",this.encodeMetadata(g)),c.append("",l)):typeof FormData<"u"&&l instanceof FormData?(c=l,c.append("cacheControl",f.cacheControl),g&&c.append("metadata",this.encodeMetadata(g))):(c=l,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType,g&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),u!=null&&u.headers&&(p=Object.assign(Object.assign({},p),u.headers));const y=this._removeEmptyFolders(s),v=this._getFinalPath(y),x=yield this.fetch(`${this.url}/object/${v}`,Object.assign({method:n,body:c,headers:p},f!=null&&f.duplex?{duplex:f.duplex}:{})),k=yield x.json();return x.ok?{data:{path:y,id:k.Id,fullPath:k.Key},error:null}:{data:null,error:k}}catch(c){if(We(c))return{data:null,error:c};throw c}})}upload(n,s,l){return lt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,s,l)})}uploadToSignedUrl(n,s,l,u){return lt(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(n),f=this._getFinalPath(c),p=new URL(this.url+`/object/upload/sign/${f}`);p.searchParams.set("token",s);try{let g;const y=Object.assign({upsert:zd.upsert},u),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&l instanceof Blob?(g=new FormData,g.append("cacheControl",y.cacheControl),g.append("",l)):typeof FormData<"u"&&l instanceof FormData?(g=l,g.append("cacheControl",y.cacheControl)):(g=l,v["cache-control"]=`max-age=${y.cacheControl}`,v["content-type"]=y.contentType);const x=yield this.fetch(p.toString(),{method:"PUT",body:g,headers:v}),k=yield x.json();return x.ok?{data:{path:c,fullPath:k.Key},error:null}:{data:null,error:k}}catch(g){if(We(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(n,s){return lt(this,void 0,void 0,function*(){try{let l=this._getFinalPath(n);const u=Object.assign({},this.headers);s!=null&&s.upsert&&(u["x-upsert"]="true");const c=yield dr(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:u}),f=new URL(this.url+c.url),p=f.searchParams.get("token");if(!p)throw new ha("No token returned by API");return{data:{signedUrl:f.toString(),path:n,token:p},error:null}}catch(l){if(We(l))return{data:null,error:l};throw l}})}update(n,s,l){return lt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,s,l)})}move(n,s,l){return lt(this,void 0,void 0,function*(){try{return{data:yield dr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:l==null?void 0:l.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(We(u))return{data:null,error:u};throw u}})}copy(n,s,l){return lt(this,void 0,void 0,function*(){try{return{data:{path:(yield dr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:l==null?void 0:l.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(We(u))return{data:null,error:u};throw u}})}createSignedUrl(n,s,l){return lt(this,void 0,void 0,function*(){try{let u=this._getFinalPath(n),c=yield dr(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:s},l!=null&&l.transform?{transform:l.transform}:{}),{headers:this.headers});const f=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${f}`)},{data:c,error:null}}catch(u){if(We(u))return{data:null,error:u};throw u}})}createSignedUrls(n,s,l){return lt(this,void 0,void 0,function*(){try{const u=yield dr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:n},{headers:this.headers}),c=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return{data:u.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${c}`):null})),error:null}}catch(u){if(We(u))return{data:null,error:u};throw u}})}download(n,s){return lt(this,void 0,void 0,function*(){const u=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),f=c?`?${c}`:"";try{const p=this._getFinalPath(n);return{data:yield(yield Di(this.fetch,`${this.url}/${u}/${p}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(p){if(We(p))return{data:null,error:p};throw p}})}info(n){return lt(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{const l=yield Di(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:ea(l),error:null}}catch(l){if(We(l))return{data:null,error:l};throw l}})}exists(n){return lt(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{return yield bg(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(We(l)&&l instanceof Zo){const u=l.originalError;if([400,404].includes(u==null?void 0:u.status))return{data:!1,error:l}}throw l}})}getPublicUrl(n,s){const l=this._getFinalPath(n),u=[],c=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&u.push(c);const p=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});g!==""&&u.push(g);let y=u.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${l}${y}`)}}}remove(n){return lt(this,void 0,void 0,function*(){try{return{data:yield kf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(s){if(We(s))return{data:null,error:s};throw s}})}list(n,s,l){return lt(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},Rg),s),{prefix:n||""});return{data:yield dr(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},l),error:null}}catch(u){if(We(u))return{data:null,error:u};throw u}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const s=[];return n.width&&s.push(`width=${n.width}`),n.height&&s.push(`height=${n.height}`),n.resize&&s.push(`resize=${n.resize}`),n.format&&s.push(`format=${n.format}`),n.quality&&s.push(`quality=${n.quality}`),s.join("&")}}const Lg="2.7.1",Ag={"X-Client-Info":`storage-js/${Lg}`};var dn=function(o,n,s,l){function u(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(v){try{y(l.next(v))}catch(x){f(x)}}function g(v){try{y(l.throw(v))}catch(x){f(x)}}function y(v){v.done?c(v.value):u(v.value).then(p,g)}y((l=l.apply(o,n||[])).next())})};class Ig{constructor(n,s={},l){this.url=n,this.headers=Object.assign(Object.assign({},Ag),s),this.fetch=Ef(l)}listBuckets(){return dn(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(We(n))return{data:null,error:n};throw n}})}getBucket(n){return dn(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(s){if(We(s))return{data:null,error:s};throw s}})}createBucket(n,s={public:!1}){return dn(this,void 0,void 0,function*(){try{return{data:yield dr(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(We(l))return{data:null,error:l};throw l}})}updateBucket(n,s){return dn(this,void 0,void 0,function*(){try{return{data:yield Pg(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(We(l))return{data:null,error:l};throw l}})}emptyBucket(n){return dn(this,void 0,void 0,function*(){try{return{data:yield dr(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(We(s))return{data:null,error:s};throw s}})}deleteBucket(n){return dn(this,void 0,void 0,function*(){try{return{data:yield kf(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(We(s))return{data:null,error:s};throw s}})}}class $g extends Ig{constructor(n,s={},l){super(n,s,l)}from(n){return new Og(this.url,this.headers,n,this.fetch)}}const Ug="2.48.1";let ds="";typeof Deno<"u"?ds="deno":typeof document<"u"?ds="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ds="react-native":ds="node";const Dg={"X-Client-Info":`supabase-js-${ds}/${Ug}`},Fg={headers:Dg},Mg={schema:"public"},zg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Bg={};var Hg=function(o,n,s,l){function u(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(v){try{y(l.next(v))}catch(x){f(x)}}function g(v){try{y(l.throw(v))}catch(x){f(x)}}function y(v){v.done?c(v.value):u(v.value).then(p,g)}y((l=l.apply(o,n||[])).next())})};const qg=o=>{let n;return o?n=o:typeof fetch>"u"?n=ff:n=fetch,(...s)=>n(...s)},Wg=()=>typeof Headers>"u"?hf:Headers,Vg=(o,n,s)=>{const l=qg(s),u=Wg();return(c,f)=>Hg(void 0,void 0,void 0,function*(){var p;const g=(p=yield n())!==null&&p!==void 0?p:o;let y=new u(f==null?void 0:f.headers);return y.has("apikey")||y.set("apikey",o),y.has("Authorization")||y.set("Authorization",`Bearer ${g}`),l(c,Object.assign(Object.assign({},f),{headers:y}))})};var Kg=function(o,n,s,l){function u(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(v){try{y(l.next(v))}catch(x){f(x)}}function g(v){try{y(l.throw(v))}catch(x){f(x)}}function y(v){v.done?c(v.value):u(v.value).then(p,g)}y((l=l.apply(o,n||[])).next())})};function Gg(o){return o.replace(/\/$/,"")}function Jg(o,n){const{db:s,auth:l,realtime:u,global:c}=o,{db:f,auth:p,realtime:g,global:y}=n,v={db:Object.assign(Object.assign({},f),s),auth:Object.assign(Object.assign({},p),l),realtime:Object.assign(Object.assign({},g),u),global:Object.assign(Object.assign({},y),c),accessToken:()=>Kg(this,void 0,void 0,function*(){return""})};return o.accessToken?v.accessToken=o.accessToken:delete v.accessToken,v}const Sf="2.67.3",Qg="http://localhost:9999",Yg="supabase.auth.token",Xg={"X-Client-Info":`gotrue-js/${Sf}`},Bd=10,ta="X-Supabase-Api-Version",jf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Zg(o){return Math.round(Date.now()/1e3)+o}function e0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){const n=Math.random()*16|0;return(o=="x"?n:n&3|8).toString(16)})}const Ot=()=>typeof window<"u"&&typeof document<"u",Pr={tested:!1,writable:!1},hs=()=>{if(!Ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Pr.tested)return Pr.writable;const o=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(o,o),globalThis.localStorage.removeItem(o),Pr.tested=!0,Pr.writable=!0}catch{Pr.tested=!0,Pr.writable=!1}return Pr.writable};function t0(o){const n={},s=new URL(o);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((u,c)=>{n[c]=u})}catch{}return s.searchParams.forEach((l,u)=>{n[u]=l}),n}const Nf=o=>{let n;return o?n=o:typeof fetch>"u"?n=(...s)=>gn(async()=>{const{default:l}=await Promise.resolve().then(()=>_n);return{default:l}},void 0).then(({default:l})=>l(...s)):n=fetch,(...s)=>n(...s)},r0=o=>typeof o=="object"&&o!==null&&"status"in o&&"ok"in o&&"json"in o&&typeof o.json=="function",Cf=async(o,n,s)=>{await o.setItem(n,JSON.stringify(s))},Ri=async(o,n)=>{const s=await o.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Oi=async(o,n)=>{await o.removeItem(n)};function n0(o){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",l,u,c,f,p,g,y,v=0;for(o=o.replace("-","+").replace("_","/");v<o.length;)f=n.indexOf(o.charAt(v++)),p=n.indexOf(o.charAt(v++)),g=n.indexOf(o.charAt(v++)),y=n.indexOf(o.charAt(v++)),l=f<<2|p>>4,u=(p&15)<<4|g>>2,c=(g&3)<<6|y,s=s+String.fromCharCode(l),g!=64&&u!=0&&(s=s+String.fromCharCode(u)),y!=64&&c!=0&&(s=s+String.fromCharCode(c));return s}class Bi{constructor(){this.promise=new Bi.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}Bi.promiseConstructor=Promise;function Hd(o){const n=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,s=o.split(".");if(s.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!n.test(s[1]))throw new Error("JWT is not valid: payload is not in base64url format");const l=s[1];return JSON.parse(n0(l))}async function s0(o){return await new Promise(n=>{setTimeout(()=>n(null),o)})}function i0(o,n){return new Promise((l,u)=>{(async()=>{for(let c=0;c<1/0;c++)try{const f=await o(c);if(!n(c,null,f)){l(f);return}}catch(f){if(!n(c,f)){u(f);return}}})()})}function l0(o){return("0"+o.toString(16)).substr(-2)}function o0(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=s.length;let u="";for(let c=0;c<56;c++)u+=s.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(n),Array.from(n,l0).join("")}async function a0(o){const s=new TextEncoder().encode(o),l=await crypto.subtle.digest("SHA-256",s),u=new Uint8Array(l);return Array.from(u).map(c=>String.fromCharCode(c)).join("")}function u0(o){return btoa(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function c0(o){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),o;const s=await a0(o);return u0(s)}async function fn(o,n,s=!1){const l=o0();let u=l;s&&(u+="/PASSWORD_RECOVERY"),await Cf(o,`${n}-code-verifier`,u);const c=await c0(l);return[c,l===c?"plain":"s256"]}const d0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function f0(o){const n=o.headers.get(ta);if(!n||!n.match(d0))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}class pa extends Error{constructor(n,s,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=l}}function ie(o){return typeof o=="object"&&o!==null&&"__isAuthError"in o}class h0 extends pa{constructor(n,s,l){super(n,s,l),this.name="AuthApiError",this.status=s,this.code=l}}function p0(o){return ie(o)&&o.name==="AuthApiError"}class Tf extends pa{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}}class Lr extends pa{constructor(n,s,l,u){super(n,l,u),this.name=s,this.status=l}}class ur extends Lr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function m0(o){return ie(o)&&o.name==="AuthSessionMissingError"}class Wo extends Lr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Li extends Lr{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Ai extends Lr{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function g0(o){return ie(o)&&o.name==="AuthImplicitGrantRedirectError"}class qd extends Lr{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ra extends Lr{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}}function Vo(o){return ie(o)&&o.name==="AuthRetryableFetchError"}class Wd extends Lr{constructor(n,s,l){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=l}}var v0=function(o,n){var s={};for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&n.indexOf(l)<0&&(s[l]=o[l]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(o);u<l.length;u++)n.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(o,l[u])&&(s[l[u]]=o[l[u]]);return s};const br=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),y0=[502,503,504];async function Vd(o){var n;if(!r0(o))throw new ra(br(o),0);if(y0.includes(o.status))throw new ra(br(o),o.status);let s;try{s=await o.json()}catch(c){throw new Tf(br(c),c)}let l;const u=f0(o);if(u&&u.getTime()>=jf["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?l=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(l=s.error_code),l){if(l==="weak_password")throw new Wd(br(s),o.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new ur}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,f)=>c&&typeof f=="string",!0))throw new Wd(br(s),o.status,s.weak_password.reasons);throw new h0(br(s),o.status||500,l)}const w0=(o,n,s,l)=>{const u={method:o,headers:(n==null?void 0:n.headers)||{}};return o==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),s))};async function fe(o,n,s,l){var u;const c=Object.assign({},l==null?void 0:l.headers);c[ta]||(c[ta]=jf["2024-01-01"].name),l!=null&&l.jwt&&(c.Authorization=`Bearer ${l.jwt}`);const f=(u=l==null?void 0:l.query)!==null&&u!==void 0?u:{};l!=null&&l.redirectTo&&(f.redirect_to=l.redirectTo);const p=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await x0(o,n,s+p,{headers:c,noResolveJson:l==null?void 0:l.noResolveJson},{},l==null?void 0:l.body);return l!=null&&l.xform?l==null?void 0:l.xform(g):{data:Object.assign({},g),error:null}}async function x0(o,n,s,l,u,c){const f=w0(n,l,u,c);let p;try{p=await o(s,Object.assign({},f))}catch(g){throw console.error(g),new ra(br(g),0)}if(p.ok||await Vd(p),l!=null&&l.noResolveJson)return p;try{return await p.json()}catch(g){await Vd(g)}}function cr(o){var n;let s=null;S0(o)&&(s=Object.assign({},o),o.expires_at||(s.expires_at=Zg(o.expires_in)));const l=(n=o.user)!==null&&n!==void 0?n:o;return{data:{session:s,user:l},error:null}}function Kd(o){const n=cr(o);return!n.error&&o.weak_password&&typeof o.weak_password=="object"&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.message&&typeof o.weak_password.message=="string"&&o.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0)&&(n.data.weak_password=o.weak_password),n}function fr(o){var n;return{data:{user:(n=o.user)!==null&&n!==void 0?n:o},error:null}}function _0(o){return{data:o,error:null}}function E0(o){const{action_link:n,email_otp:s,hashed_token:l,redirect_to:u,verification_type:c}=o,f=v0(o,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:n,email_otp:s,hashed_token:l,redirect_to:u,verification_type:c},g=Object.assign({},f);return{data:{properties:p,user:g},error:null}}function k0(o){return o}function S0(o){return o.access_token&&o.refresh_token&&o.expires_in}var j0=function(o,n){var s={};for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&n.indexOf(l)<0&&(s[l]=o[l]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(o);u<l.length;u++)n.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(o,l[u])&&(s[l[u]]=o[l[u]]);return s};class N0{constructor({url:n="",headers:s={},fetch:l}){this.url=n,this.headers=s,this.fetch=Nf(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,s="global"){try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ie(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,s={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:fr})}catch(l){if(ie(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:s}=n,l=j0(n,["options"]),u=Object.assign(Object.assign({},l),s);return"newEmail"in l&&(u.new_email=l==null?void 0:l.newEmail,delete u.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:E0,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(ie(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:fr})}catch(s){if(ie(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,l,u,c,f,p,g;try{const y={nextPage:null,lastPage:0,total:0},v=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(s=n==null?void 0:n.page)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:"",per_page:(c=(u=n==null?void 0:n.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:k0});if(v.error)throw v.error;const x=await v.json(),k=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,R=(g=(p=v.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return R.length>0&&(R.forEach(O=>{const b=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(O.split(";")[1].split("=")[1]);y[`${P}Page`]=b}),y.total=parseInt(k)),{data:Object.assign(Object.assign({},x),y),error:null}}catch(y){if(ie(y))return{data:{users:[]},error:y};throw y}}async getUserById(n){try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:fr})}catch(s){if(ie(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:fr})}catch(l){if(ie(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,s=!1){try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:fr})}catch(l){if(ie(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){try{const{data:s,error:l}=await fe(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:s,error:l}}catch(s){if(ie(s))return{data:null,error:s};throw s}}async _deleteFactor(n){try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}}}const C0={getItem:o=>hs()?globalThis.localStorage.getItem(o):null,setItem:(o,n)=>{hs()&&globalThis.localStorage.setItem(o,n)},removeItem:o=>{hs()&&globalThis.localStorage.removeItem(o)}};function Gd(o={}){return{getItem:n=>o[n]||null,setItem:(n,s)=>{o[n]=s},removeItem:n=>{delete o[n]}}}function T0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const hn={debug:!!(globalThis&&hs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Pf extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class P0 extends Pf{}async function b0(o,n,s){hn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",o,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),hn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",o)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(o,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async u=>{if(u){hn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",o,u.name);try{return await s()}finally{hn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",o,u.name)}}else{if(n===0)throw hn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",o),new P0(`Acquiring an exclusive Navigator LockManager lock "${o}" immediately failed`);if(hn.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}T0();const R0={url:Qg,storageKey:Yg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Xg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},cs=30*1e3,Jd=3;async function Qd(o,n,s){return await s()}class gs{constructor(n){var s,l;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=gs.nextInstanceID,gs.nextInstanceID+=1,this.instanceID>0&&Ot()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const u=Object.assign(Object.assign({},R0),n);if(this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.persistSession=u.persistSession,this.storageKey=u.storageKey,this.autoRefreshToken=u.autoRefreshToken,this.admin=new N0({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Nf(u.fetch),this.lock=u.lock||Qd,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,u.lock?this.lock=u.lock:Ot()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=b0:this.lock=Qd,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?u.storage?this.storage=u.storage:hs()?this.storage=C0:(this.memoryStorage={},this.storage=Gd(this.memoryStorage)):(this.memoryStorage={},this.storage=Gd(this.memoryStorage)),Ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Sf}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const s=t0(window.location.href);let l="none";if(this._isImplicitGrantCallback(s)?l="implicit":await this._isPKCECallback(s)&&(l="pkce"),Ot()&&this.detectSessionInUrl&&l!=="none"){const{data:u,error:c}=await this._getSessionFromURL(s,l);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),g0(c)){const g=(n=c.details)===null||n===void 0?void 0:n.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:f,redirectType:p}=u;return this._debug("#_initialize()","detected session in URL",f,"redirect type",p),await this._saveSession(f),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ie(s)?{error:s}:{error:new Tf("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,l,u;try{const c=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(s=n==null?void 0:n.options)===null||s===void 0?void 0:s.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(u=n==null?void 0:n.options)===null||u===void 0?void 0:u.captchaToken}},xform:cr}),{data:f,error:p}=c;if(p||!f)return{data:{user:null,session:null},error:p};const g=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:y,session:g},error:null}}catch(c){if(ie(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(n){var s,l,u;try{let c;if("email"in n){const{email:v,password:x,options:k}=n;let R=null,O=null;this.flowType==="pkce"&&([R,O]=await fn(this.storage,this.storageKey)),c=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:k==null?void 0:k.emailRedirectTo,body:{email:v,password:x,data:(s=k==null?void 0:k.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken},code_challenge:R,code_challenge_method:O},xform:cr})}else if("phone"in n){const{phone:v,password:x,options:k}=n;c=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:x,data:(l=k==null?void 0:k.data)!==null&&l!==void 0?l:{},channel:(u=k==null?void 0:k.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken}},xform:cr})}else throw new Li("You must provide either an email or phone number and a password");const{data:f,error:p}=c;if(p||!f)return{data:{user:null,session:null},error:p};const g=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:y,session:g},error:null}}catch(c){if(ie(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(n){try{let s;if("email"in n){const{email:c,password:f,options:p}=n;s=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:f,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Kd})}else if("phone"in n){const{phone:c,password:f,options:p}=n;s=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:f,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Kd})}else throw new Li("You must provide either an email or phone number and a password");const{data:l,error:u}=s;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Wo}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:u})}catch(s){if(ie(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(n){var s,l,u,c;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(c=n.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async _exchangeCodeForSession(n){const s=await Ri(this.storage,`${this.storageKey}-code-verifier`),[l,u]=(s??"").split("/");try{const{data:c,error:f}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:cr});if(await Oi(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new Wo}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:u??null}),error:f})}catch(c){if(ie(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(n){try{const{options:s,provider:l,token:u,access_token:c,nonce:f}=n,p=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:u,access_token:c,nonce:f,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:cr}),{data:g,error:y}=p;return y?{data:{user:null,session:null},error:y}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new Wo}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:y})}catch(s){if(ie(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(n){var s,l,u,c,f;try{if("email"in n){const{email:p,options:g}=n;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await fn(this.storage,this.storageKey));const{error:x}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(s=g==null?void 0:g.data)!==null&&s!==void 0?s:{},create_user:(l=g==null?void 0:g.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:y,code_challenge_method:v},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in n){const{phone:p,options:g}=n,{data:y,error:v}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(u=g==null?void 0:g.data)!==null&&u!==void 0?u:{},create_user:(c=g==null?void 0:g.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(f=g==null?void 0:g.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:y==null?void 0:y.message_id},error:v}}throw new Li("You must provide either an email or phone number.")}catch(p){if(ie(p))return{data:{user:null,session:null},error:p};throw p}}async verifyOtp(n){var s,l;try{let u,c;"options"in n&&(u=(s=n.options)===null||s===void 0?void 0:s.redirectTo,c=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:p}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:c}}),redirectTo:u,xform:cr});if(p)throw p;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,y=f.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:y,session:g},error:null}}catch(u){if(ie(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithSSO(n){var s,l,u;try{let c=null,f=null;return this.flowType==="pkce"&&([c,f]=await fn(this.storage,this.storageKey)),await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&l!==void 0?l:void 0}),!((u=n==null?void 0:n.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:f}),headers:this.headers,xform:_0})}catch(c){if(ie(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:l}=n;if(l)throw l;if(!s)throw new ur;const{error:u}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:u}})}catch(n){if(ie(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:l,type:u,options:c}=n,{error:f}=await fe(this.fetch,"POST",s,{headers:this.headers,body:{email:l,type:u,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in n){const{phone:l,type:u,options:c}=n,{data:f,error:p}=await fe(this.fetch,"POST",s,{headers:this.headers,body:{phone:l,type:u,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:p}}throw new Li("You must provide either an email or phone number and a type")}catch(s){if(ie(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await l,await s()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=s();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await Ri(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.storage.isServer){let f=this.suppressGetSessionWarning;n=new Proxy(n,{get:(g,y,v)=>(!f&&y==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,y,v))})}return{data:{session:n},error:null}}const{session:u,error:c}=await this._callRefreshToken(n.refresh_token);return c?{data:{session:null},error:c}:{data:{session:u},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:fr}):await this._useSession(async s=>{var l,u,c;const{data:f,error:p}=s;if(p)throw p;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ur}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0,xform:fr})})}catch(s){if(ie(s))return m0(s)&&(await this._removeSession(),await Oi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async l=>{const{data:u,error:c}=l;if(c)throw c;if(!u.session)throw new ur;const f=u.session;let p=null,g=null;this.flowType==="pkce"&&n.email!=null&&([p,g]=await fn(this.storage,this.storageKey));const{data:y,error:v}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:p,code_challenge_method:g}),jwt:f.access_token,xform:fr});if(v)throw v;return f.user=y.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(l){if(ie(l))return{data:{user:null},error:l};throw l}}_decodeJWT(n){return Hd(n)}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new ur;const s=Date.now()/1e3;let l=s,u=!0,c=null;const f=Hd(n.access_token);if(f.exp&&(l=f.exp,u=l<=s),u){const{session:p,error:g}=await this._callRefreshToken(n.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!p)return{data:{user:null,session:null},error:null};c=p}else{const{data:p,error:g}=await this._getUser(n.access_token);if(g)throw g;c={access_token:n.access_token,refresh_token:n.refresh_token,user:p.user,token_type:"bearer",expires_in:l-s,expires_at:l},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(s){if(ie(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var l;if(!n){const{data:f,error:p}=s;if(p)throw p;n=(l=f.session)!==null&&l!==void 0?l:void 0}if(!(n!=null&&n.refresh_token))throw new ur;const{session:u,error:c}=await this._callRefreshToken(n.refresh_token);return c?{data:{user:null,session:null},error:c}:u?{data:{user:u.user,session:u},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(ie(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(n,s){try{if(!Ot())throw new Ai("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Ai(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new qd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ai("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new qd("No code detected.");const{data:X,error:B}=await this._exchangeCodeForSession(n.code);if(B)throw B;const Q=new URL(window.location.href);return Q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Q.toString()),{data:{session:X.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:u,access_token:c,refresh_token:f,expires_in:p,expires_at:g,token_type:y}=n;if(!c||!p||!f||!y)throw new Ai("No session defined in URL");const v=Math.round(Date.now()/1e3),x=parseInt(p);let k=v+x;g&&(k=parseInt(g));const R=k-v;R*1e3<=cs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${R}s, should have been closer to ${x}s`);const O=k-x;v-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,k,v):v-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,k,v);const{data:b,error:P}=await this._getUser(c);if(P)throw P;const F={provider_token:l,provider_refresh_token:u,access_token:c,expires_in:x,expires_at:k,refresh_token:f,token_type:y,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:F,redirectType:n.type},error:null}}catch(l){if(ie(l))return{data:{session:null,redirectType:null},error:l};throw l}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await Ri(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var l;const{data:u,error:c}=s;if(c)return{error:c};const f=(l=u.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:p}=await this.admin.signOut(f,n);if(p&&!(p0(p)&&(p.status===404||p.status===401||p.status===403)))return{error:p}}return n!=="others"&&(await this._removeSession(),await Oi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const s=e0(),l={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async s=>{var l,u;try{const{data:{session:c},error:f}=s;if(f)throw f;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",n,"session",c)}catch(c){await((u=this.stateChangeEmitters.get(n))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",c),console.error(c)}})}async resetPasswordForEmail(n,s={}){let l=null,u=null;this.flowType==="pkce"&&([l,u]=await fn(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:u,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(ie(c))return{data:null,error:c};throw c}}async getUserIdentities(){var n;try{const{data:s,error:l}=await this.getUser();if(l)throw l;return{data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}}async linkIdentity(n){var s;try{const{data:l,error:u}=await this._useSession(async c=>{var f,p,g,y,v;const{data:x,error:k}=c;if(k)throw k;const R=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(p=n.options)===null||p===void 0?void 0:p.scopes,queryParams:(g=n.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",R,{headers:this.headers,jwt:(v=(y=x.session)===null||y===void 0?void 0:y.access_token)!==null&&v!==void 0?v:void 0})});if(u)throw u;return Ot()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(l==null?void 0:l.url),{data:{provider:n.provider,url:l==null?void 0:l.url},error:null}}catch(l){if(ie(l))return{data:{provider:n.provider,url:null},error:l};throw l}}async unlinkIdentity(n){try{return await this._useSession(async s=>{var l,u;const{data:c,error:f}=s;if(f)throw f;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(u=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})})}catch(s){if(ie(s))return{data:null,error:s};throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const l=Date.now();return await i0(async u=>(u>0&&await s0(200*Math.pow(2,u-1)),this._debug(s,"refreshing attempt",u),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:cr})),(u,c)=>{const f=200*Math.pow(2,u);return c&&Vo(c)&&Date.now()+f-l<cs})}catch(l){if(this._debug(s,"error",l),ie(l))return{data:{session:null,user:null},error:l};throw l}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",l),Ot()&&!s.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const l=await Ri(this.storage,this.storageKey);if(this._debug(s,"session from storage",l),!this._isValidSession(l)){this._debug(s,"session is not valid"),l!==null&&await this._removeSession();return}const u=Math.round(Date.now()/1e3),c=((n=l.expires_at)!==null&&n!==void 0?n:1/0)<u+Bd;if(this._debug(s,`session has${c?"":" not"} expired with margin of ${Bd}s`),c){if(this.autoRefreshToken&&l.refresh_token){const{error:f}=await this._callRefreshToken(l.refresh_token);f&&(console.error(f),Vo(f)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(s,"error",l),console.error(l);return}finally{this._debug(s,"end")}}async _callRefreshToken(n){var s,l;if(!n)throw new ur;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new Bi;const{data:c,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!c.session)throw new ur;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const p={session:c.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(c){if(this._debug(u,"error",c),ie(c)){const f={session:null,error:c};return Vo(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(c),c}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(n,s,l=!0){const u=`#_notifyAllSubscribers(${n})`;this._debug(u,"begin",s,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:s});const c=[],f=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(n,s)}catch(g){c.push(g)}});if(await Promise.all(f),c.length>0){for(let p=0;p<c.length;p+=1)console.error(c[p]);throw c[0]}}finally{this._debug(u,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await Cf(this.storage,this.storageKey,n)}async _removeSession(){this._debug("#_removeSession()"),await Oi(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Ot()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),cs);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:l}}=s;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((l.expires_at*1e3-n)/cs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${cs}ms, refresh threshold is ${Jd} ticks`),u<=Jd&&await this._callRefreshToken(l.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Pf)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ot()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,l){const u=[`provider=${encodeURIComponent(s)}`];if(l!=null&&l.redirectTo&&u.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l!=null&&l.scopes&&u.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[c,f]=await fn(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(f)}`});u.push(p.toString())}if(l!=null&&l.queryParams){const c=new URLSearchParams(l.queryParams);u.push(c.toString())}return l!=null&&l.skipBrowserRedirect&&u.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${u.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var l;const{data:u,error:c}=s;return c?{data:null,error:c}:await fe(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token})})}catch(s){if(ie(s))return{data:null,error:s};throw s}}async _enroll(n){try{return await this._useSession(async s=>{var l,u;const{data:c,error:f}=s;if(f)return{data:null,error:f};const p=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:g,error:y}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token});return y?{data:null,error:y}:(n.factorType==="totp"&&(!((u=g==null?void 0:g.totp)===null||u===void 0)&&u.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(s){if(ie(s))return{data:null,error:s};throw s}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:u,error:c}=s;if(c)return{data:null,error:c};const{data:f,error:p}=await fe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:p})})}catch(s){if(ie(s))return{data:null,error:s};throw s}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:u,error:c}=s;return c?{data:null,error:c}:await fe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token})})}catch(s){if(ie(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(n){const{data:s,error:l}=await this._challenge({factorId:n.factorId});return l?{data:null,error:l}:await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const l=(n==null?void 0:n.factors)||[],u=l.filter(f=>f.factor_type==="totp"&&f.status==="verified"),c=l.filter(f=>f.factor_type==="phone"&&f.status==="verified");return{data:{all:l,totp:u,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var s,l;const{data:{session:u},error:c}=n;if(c)return{data:null,error:c};if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const f=this._decodeJWT(u.access_token);let p=null;f.aal&&(p=f.aal);let g=p;((l=(s=u.user.factors)===null||s===void 0?void 0:s.filter(x=>x.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(g="aal2");const v=f.amr||[];return{data:{currentLevel:p,nextLevel:g,currentAuthenticationMethods:v},error:null}}))}}gs.nextInstanceID=0;const O0=gs;class L0 extends O0{constructor(n){super(n)}}var A0=function(o,n,s,l){function u(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(v){try{y(l.next(v))}catch(x){f(x)}}function g(v){try{y(l.throw(v))}catch(x){f(x)}}function y(v){v.done?c(v.value):u(v.value).then(p,g)}y((l=l.apply(o,n||[])).next())})};class I0{constructor(n,s,l){var u,c,f;if(this.supabaseUrl=n,this.supabaseKey=s,!n)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const p=Gg(n);this.realtimeUrl=`${p}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${p}/auth/v1`,this.storageUrl=`${p}/storage/v1`,this.functionsUrl=`${p}/functions/v1`;const g=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,y={db:Mg,realtime:Bg,auth:Object.assign(Object.assign({},zg),{storageKey:g}),global:Fg},v=Jg(l??{},y);this.storageKey=(u=v.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(c=v.global.headers)!==null&&c!==void 0?c:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(x,k)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(k)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=v.auth)!==null&&f!==void 0?f:{},this.headers,v.global.fetch),this.fetch=Vg(s,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new og(`${p}/rest/v1`,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),v.accessToken||this._listenForAuthEvents()}get functions(){return new Jm(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new $g(this.storageUrl,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,s={},l={}){return this.rest.rpc(n,s,l)}channel(n,s={config:{}}){return this.realtime.channel(n,s)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,s;return A0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:l}=yield this.auth.getSession();return(s=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:s,detectSessionInUrl:l,storage:u,storageKey:c,flowType:f,lock:p,debug:g},y,v){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new L0({url:this.authUrl,headers:Object.assign(Object.assign({},x),y),storageKey:c,autoRefreshToken:n,persistSession:s,detectSessionInUrl:l,storage:u,flowType:f,lock:p,debug:g,fetch:v,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new Eg(this.realtimeUrl,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,l)=>{this._handleTokenChanged(s,"CLIENT",l==null?void 0:l.access_token)})}_handleTokenChanged(n,s,l){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==l?this.changedAccessToken=l:n==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const $0=(o,n,s)=>new I0(o,n,s),U0="https://jokniepplyfxnkhtqwft.supabase.co",D0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Impva25pZXBwbHlmeG5raHRxd2Z0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzgzMjcxMjksImV4cCI6MjA1MzkwMzEyOX0.iQFztO_noEOdPLtc7XB9yoK7nhdzl08lnM2rZc2Jwqg",W=$0(U0,D0,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!1}}),F0=o=>o.endsWith("@cuchd.in"),M0=async()=>{try{await W.rpc("create_profiles_if_not_exists"),await W.rpc("create_products_if_not_exists"),await W.rpc("create_admins_if_not_exists"),await W.rpc("create_chats_if_not_exists"),await W.rpc("create_messages_if_not_exists"),console.log("Database setup complete")}catch(o){console.error("Error setting up database:",o)}},z0=async()=>{try{await W.rpc("create_function_profiles"),await W.rpc("create_function_products"),await W.rpc("create_function_admins"),await W.rpc("create_function_chats"),await W.rpc("create_function_messages"),console.log("Database functions initialized")}catch(o){console.error("Error initializing database functions:",o)}};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var B0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=o=>o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Oe=(o,n)=>{const s=T.forwardRef(({color:l="currentColor",size:u=24,strokeWidth:c=2,absoluteStrokeWidth:f,className:p="",children:g,...y},v)=>T.createElement("svg",{ref:v,...B0,width:u,height:u,stroke:l,strokeWidth:f?Number(c)*24/Number(u):c,className:["lucide",`lucide-${H0(o)}`,p].join(" "),...y},[...n.map(([x,k])=>T.createElement(x,k)),...Array.isArray(g)?g:[g]]));return s.displayName=`${o}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=Oe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=Oe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=Oe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=Oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=Oe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=Oe("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=Oe("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=Oe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=Oe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=Oe("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=Oe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=Oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=Oe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=Oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=Oe("ShieldOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=Oe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=Oe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=Oe("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yd=Oe("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=Oe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=Oe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=Oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=Oe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),sv=({isAdmin:o=!1})=>{const n=xn(),s=async()=>{await W.auth.signOut()};return h.jsx("nav",{className:"bg-purple-700 text-white shadow-lg",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex justify-between h-16 items-center",children:[h.jsxs(pn,{to:"/",className:"flex items-center space-x-2",children:[h.jsx(bf,{className:"h-8 w-8"}),h.jsx("span",{className:"text-xl font-bold",children:"UniHive"})]}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs(pn,{to:"/new-listing",className:`flex items-center space-x-1 hover:text-purple-200 ${n.pathname==="/new-listing"?"text-purple-200":""}`,children:[h.jsx(J0,{className:"h-5 w-5"}),h.jsx("span",{children:"Sell"})]}),h.jsxs(pn,{to:"/messages",className:`flex items-center space-x-1 hover:text-purple-200 ${n.pathname==="/messages"?"text-purple-200":""}`,children:[h.jsx(na,{className:"h-5 w-5"}),h.jsx("span",{children:"Messages"})]}),o&&h.jsxs(pn,{to:"/admin",className:`flex items-center space-x-1 hover:text-purple-200 ${n.pathname==="/admin"?"text-purple-200":""}`,children:[h.jsx(sa,{className:"h-5 w-5"}),h.jsx("span",{children:"Admin"})]}),h.jsx(pn,{to:"/profile",className:`hover:text-purple-200 ${n.pathname==="/profile"?"text-purple-200":""}`,children:h.jsx(Rf,{className:"h-5 w-5"})}),h.jsx("button",{onClick:s,className:"hover:text-purple-200",children:h.jsx(G0,{className:"h-5 w-5"})})]})]})})})},iv=()=>{const[o,n]=Ii.useState(null),[s,l]=Ii.useState(!0);return Ii.useEffect(()=>{async function u(){try{l(!0);const{data:{user:c}}=await W.auth.getUser();if(c){const{data:f}=await W.from("profiles").select("full_name").eq("id",c.id).single();f&&f.full_name&&n(f.full_name)}}catch(c){console.error("Error loading user data:",c)}finally{l(!1)}}u()},[]),s?null:h.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-6",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold",children:o?`Welcome back, ${o}!`:"Welcome to UniHive!"}),h.jsx("p",{className:"mt-1 text-purple-100",children:"The marketplace exclusively for Chandigarh University students"})]})})})},lv=()=>{const[o,n]=T.useState(""),[s,l]=T.useState(""),[u,c]=T.useState(""),[f,p]=T.useState(!1),[g,y]=T.useState("signin"),[v,x]=T.useState(!1),[k,R]=T.useState(""),O=async P=>{if(P.preventDefault(),c(""),R(""),p(!0),!v&&!F0(o)){c("Please use your @cuchd.in email address"),p(!1);return}try{if(g==="signup"&&!v){const{error:F}=await W.auth.signUp({email:o,password:s,options:{emailRedirectTo:`${window.location.origin}/auth/callback`,data:{email_confirmed:!0}}});if(F)throw F;R("Signup successful! You can now sign in."),y("signin")}else if(g==="forgot"){const{error:F}=await W.auth.resetPasswordForEmail(o,{redirectTo:`${window.location.origin}/auth/callback`});if(F)throw F;R("Password reset instructions have been sent to your email.")}else{const{error:F}=await W.auth.signInWithPassword({email:o,password:s});if(F)throw F}}catch(F){c(F.message)}finally{p(!1)}},b=()=>{x(!v),c(""),R("")};return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-indigo-100 flex items-center justify-center p-4",children:h.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg overflow-hidden",children:[h.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 p-6 text-white text-center",children:[h.jsx("div",{className:"flex justify-center mb-3",children:h.jsx(bf,{className:"h-12 w-12"})}),h.jsx("h1",{className:"text-3xl font-bold",children:"UniHive"}),h.jsx("p",{className:"mt-1 text-purple-100",children:"The marketplace exclusively for Chandigarh University students"})]}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex justify-between mb-6",children:[h.jsx("button",{onClick:()=>{y("signin"),c(""),R("")},className:`flex-1 py-2 text-center font-medium border-b-2 ${g==="signin"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Sign In"}),h.jsx("button",{onClick:()=>{y("signup"),c(""),R("")},className:`flex-1 py-2 text-center font-medium border-b-2 ${g==="signup"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Sign Up"}),h.jsx("button",{onClick:()=>{y("forgot"),c(""),R("")},className:`flex-1 py-2 text-center font-medium border-b-2 ${g==="forgot"?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Forgot"})]}),u&&h.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded mb-4",children:h.jsx("span",{children:u})}),k&&h.jsx("div",{className:"bg-green-50 text-green-700 p-3 rounded mb-4",children:h.jsx("span",{children:k})}),h.jsxs("form",{onSubmit:O,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),h.jsx("input",{type:"email",value:o,onChange:P=>n(P.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring focus:ring-purple-200",placeholder:v?"Admin email":"your.name@cuchd.in",required:!0})]}),g!=="forgot"&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),h.jsx("input",{type:"password",value:s,onChange:P=>l(P.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring focus:ring-purple-200",placeholder:"",required:!0})]}),h.jsx("button",{type:"submit",disabled:f,className:"w-full bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-70 flex items-center justify-center",children:f?"Processing...":g==="signin"?"Sign In":g==="signup"?"Sign Up":h.jsxs(h.Fragment,{children:[h.jsx(V0,{className:"h-4 w-4 mr-2"}),"Reset Password"]})})]}),h.jsx("div",{className:"mt-6 text-center",children:h.jsxs("button",{onClick:b,className:"text-sm text-gray-600 hover:text-purple-600 flex items-center justify-center mx-auto",children:[h.jsx(Z0,{className:"h-4 w-4 mr-1"}),v?"Student Login":"Admin Login"]})})]})]})})},ov=({session:o})=>{const[n,s]=T.useState([]),[l,u]=T.useState(null),[c,f]=T.useState([]),[p,g]=T.useState(""),[y,v]=T.useState(!0),[x,k]=T.useState(!1),[R,O]=T.useState(""),b=T.useRef(null);T.useEffect(()=>{async function U(){try{v(!0),O("");const{data:Z,error:oe}=await W.from("chats").select("*").or(`buyer_id.eq.${o.user.id},seller_id.eq.${o.user.id}`).order("created_at",{ascending:!1});if(oe)throw oe;if(Z&&Z.length>0){const we=await Promise.all(Z.map(async pe=>{const Ee=pe.buyer_id===o.user.id?pe.seller_id:pe.buyer_id,{data:Ue}=await W.from("products").select("*").eq("id",pe.product_id).single(),{data:M}=await W.from("profiles").select("*").eq("id",Ee).single();return{...pe,product:Ue||null,otherUser:M||null}}));s(we.filter(pe=>pe.product&&pe.otherUser)),we.length>0&&!l&&u(we[0])}}catch(Z){console.error("Error fetching chats:",Z),O(Z.message)}finally{v(!1)}}U();const re=W.channel("public:chats").on("postgres_changes",{event:"*",schema:"public",table:"chats",filter:`buyer_id=eq.${o.user.id}|seller_id=eq.${o.user.id}`},()=>{U()}).subscribe();return()=>{W.removeChannel(re)}},[o.user.id]),T.useEffect(()=>{async function U(){if(l)try{v(!0),O("");const{data:Z,error:oe}=await W.from("messages").select("*").eq("chat_id",l.id).order("created_at",{ascending:!0});if(oe)throw oe;f(Z||[])}catch(Z){console.error("Error fetching messages:",Z),O(Z.message)}finally{v(!1)}}U();const re=W.channel(`public:messages:${l==null?void 0:l.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`chat_id=eq.${l==null?void 0:l.id}`},Z=>{f(oe=>[...oe,Z.new])}).subscribe();return()=>{W.removeChannel(re)}},[l]),T.useEffect(()=>{var U;(U=b.current)==null||U.scrollIntoView({behavior:"smooth"})},[c]);const P=async U=>{if(U.preventDefault(),!(!p.trim()||!l))try{k(!0),O("");const{error:re}=await W.from("messages").insert({chat_id:l.id,sender_id:o.user.id,content:p.trim()});if(re)throw re;g("")}catch(re){console.error("Error sending message:",re),O(re.message)}finally{k(!1)}},F=U=>{u(U)},X=async U=>{if(l)try{v(!0),O("");const{error:re}=await W.from("chats").update({status:U}).eq("id",l.id);if(re)throw re;u({...l,status:U}),s(n.map(Z=>Z.id===l.id?{...Z,status:U}:Z))}catch(re){console.error("Error updating chat status:",re),O(re.message)}finally{v(!1)}},B=U=>new Date(U).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),Q=U=>new Date(U).toLocaleDateString();return h.jsxs("div",{className:"max-w-6xl mx-auto p-4 sm:p-6 lg:p-8",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Messages"}),R&&h.jsxs("div",{className:"bg-red-50 text-red-600 p-4 rounded-md mb-6",children:["Error: ",R]}),h.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:h.jsxs("div",{className:"flex h-[70vh]",children:[h.jsx("div",{className:"w-1/3 border-r border-gray-200 overflow-y-auto",children:y&&n.length===0?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-purple-500 border-t-transparent"})}):n.length===0?h.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:h.jsx("p",{children:"No messages yet"})}):h.jsx("div",{children:n.map(U=>h.jsx("div",{className:`p-4 border-b border-gray-200 cursor-pointer hover:bg-purple-50 ${(l==null?void 0:l.id)===U.id?"bg-purple-50":""}`,onClick:()=>F(U),children:h.jsxs("div",{className:"flex items-start",children:[h.jsx("img",{src:U.product.image_url,alt:U.product.title,className:"w-12 h-12 object-cover rounded-md mr-3"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:U.product.title}),h.jsx("p",{className:"text-xs text-gray-500 truncate",children:U.otherUser.full_name}),h.jsxs("div",{className:"flex items-center mt-1",children:[U.status==="pending"&&h.jsxs("div",{className:"flex items-center text-yellow-600 text-xs",children:[h.jsx(q0,{className:"h-3 w-3 mr-1"}),"Pending"]}),U.status==="accepted"&&h.jsxs("div",{className:"flex items-center text-green-600 text-xs",children:[h.jsx(Fi,{className:"h-3 w-3 mr-1"}),"Accepted"]}),U.status==="rejected"&&h.jsxs("div",{className:"flex items-center text-red-600 text-xs",children:[h.jsx(Xd,{className:"h-3 w-3 mr-1"}),"Rejected"]})]})]}),h.jsx("p",{className:"text-xs text-gray-500",children:Q(U.created_at)})]})},U.id))})}),h.jsx("div",{className:"w-2/3 flex flex-col",children:l?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center",children:[h.jsx("div",{className:"flex-1",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("img",{src:l.product.image_url,alt:l.product.title,className:"w-10 h-10 object-cover rounded-md mr-3"}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:l.product.title}),h.jsx("p",{className:"text-sm text-gray-500",children:l.otherUser.full_name})]})]})}),l.seller_id===o.user.id&&l.status==="pending"&&h.jsxs("div",{className:"flex space-x-2",children:[h.jsxs("button",{onClick:()=>X("accepted"),className:"bg-green-100 text-green-700 px-3 py-1 rounded-md text-sm flex items-center",children:[h.jsx(Fi,{className:"h-4 w-4 mr-1"}),"Accept"]}),h.jsxs("button",{onClick:()=>X("rejected"),className:"bg-red-100 text-red-700 px-3 py-1 rounded-md text-sm flex items-center",children:[h.jsx(Xd,{className:"h-4 w-4 mr-1"}),"Decline"]})]})]}),l.status==="pending"&&h.jsx("div",{className:"bg-yellow-50 p-3 text-center text-yellow-700 text-sm",children:l.seller_id===o.user.id?"This buyer is interested in your product. Accept to start chatting.":"Waiting for the seller to accept your request."}),l.status==="rejected"&&h.jsx("div",{className:"bg-red-50 p-3 text-center text-red-700 text-sm",children:l.seller_id===o.user.id?"You declined this request.":"The seller declined your request."}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[l.status==="accepted"?c.length===0?h.jsx("div",{className:"text-center text-gray-500 py-8",children:h.jsx("p",{children:"No messages yet. Start the conversation!"})}):c.map(U=>{const re=U.sender_id===o.user.id;return h.jsx("div",{className:`flex ${re?"justify-end":"justify-start"}`,children:h.jsxs("div",{className:`max-w-[70%] rounded-lg px-4 py-2 ${re?"bg-purple-600 text-white":"bg-gray-100 text-gray-800"}`,children:[h.jsx("p",{children:U.content}),h.jsx("p",{className:`text-xs mt-1 ${re?"text-purple-200":"text-gray-500"}`,children:B(U.created_at)})]})},U.id)}):h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("div",{className:"text-center text-gray-500",children:l.status==="pending"?"You'll be able to chat once the request is accepted.":"This request was declined. No messages can be sent."})}),h.jsx("div",{ref:b})]}),l.status==="accepted"&&h.jsx("form",{onSubmit:P,className:"p-4 border-t border-gray-200",children:h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("input",{type:"text",value:p,onChange:U=>g(U.target.value),placeholder:"Type a message...",className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring focus:ring-purple-200",disabled:x}),h.jsx("button",{type:"submit",disabled:!p.trim()||x,className:"bg-purple-600 text-white p-2 rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-70",children:x?h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}):h.jsx(X0,{className:"h-5 w-5"})})]})})]}):h.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:h.jsx("p",{children:"Select a conversation to start chatting"})})})]})})]})},av=({session:o})=>{const{id:n}=mm(),s=zi(),[l,u]=T.useState(null),[c,f]=T.useState(null),[p,g]=T.useState(!0),[y,v]=T.useState(""),[x,k]=T.useState(!1),[R,O]=T.useState(null),[b,P]=T.useState(!1);T.useEffect(()=>{if(!n)return;async function Q(){try{g(!0),v("");const{data:U,error:re}=await W.from("products").select("*").eq("id",n).single();if(re)throw re;if(!U)throw new Error("Product not found");u(U);const{data:Z,error:oe}=await W.from("profiles").select("*").eq("id",U.seller_id).single();if(oe)throw oe;if(f(Z),o.user.id!==U.seller_id){const{data:we,error:pe}=await W.from("chats").select("*").eq("product_id",n).eq("buyer_id",o.user.id).eq("seller_id",U.seller_id).single();!pe&&we&&(k(!0),O(we.status))}}catch(U){console.error("Error fetching product details:",U),v(U.message)}finally{g(!1)}}Q()},[n,o.user.id]);const F=async()=>{if(!(!l||!o.user.id))try{if(P(!0),v(""),o.user.id===l.seller_id){v("You can't buy your own product");return}const{data:Q,error:U}=await W.from("chats").insert({product_id:l.id,buyer_id:o.user.id,seller_id:l.seller_id,status:"pending"}).select().single();if(U)throw U;k(!0),O("pending")}catch(Q){console.error("Error sending buy request:",Q),v(Q.message)}finally{P(!1)}},X=()=>{s("/messages")};if(p)return h.jsx("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8",children:h.jsxs("div",{className:"text-center py-10",children:[h.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-purple-500 border-t-transparent"}),h.jsx("p",{className:"mt-2 text-gray-600",children:"Loading product details..."})]})});if(y)return h.jsx("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8",children:h.jsxs("div",{className:"bg-red-50 text-red-600 p-4 rounded-md",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(vs,{className:"h-5 w-5 mr-2"}),h.jsxs("span",{children:["Error: ",y]})]}),h.jsxs("button",{onClick:()=>s("/"),className:"mt-4 inline-flex items-center text-purple-600 hover:text-purple-800",children:[h.jsx($i,{className:"h-4 w-4 mr-1"}),"Back to products"]})]})});if(!l||!c)return h.jsx("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8",children:h.jsxs("div",{className:"bg-yellow-50 text-yellow-700 p-4 rounded-md",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(vs,{className:"h-5 w-5 mr-2"}),h.jsx("span",{children:"Product not found"})]}),h.jsxs("button",{onClick:()=>s("/"),className:"mt-4 inline-flex items-center text-purple-600 hover:text-purple-800",children:[h.jsx($i,{className:"h-4 w-4 mr-1"}),"Back to products"]})]})});const B=o.user.id===l.seller_id;return h.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8",children:[h.jsxs("button",{onClick:()=>s("/"),className:"inline-flex items-center text-purple-600 hover:text-purple-800 mb-6",children:[h.jsx($i,{className:"h-4 w-4 mr-1"}),"Back to products"]}),h.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:h.jsxs("div",{className:"md:flex",children:[h.jsx("div",{className:"md:w-1/2",children:h.jsx("img",{src:l.image_url,alt:l.title,className:"w-full h-64 md:h-full object-cover"})}),h.jsxs("div",{className:"md:w-1/2 p-6",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:l.title}),h.jsx("span",{className:"inline-block bg-purple-100 text-purple-800 text-xs px-2 py-1 rounded capitalize",children:l.condition.replace("-"," ")})]}),h.jsxs("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:["",l.price]}),h.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Category: ",l.category]}),h.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Description"}),h.jsx("p",{className:"mt-2 text-gray-600",children:l.description})]}),h.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Seller Information"}),h.jsx("p",{className:"mt-2 text-gray-600",children:c.full_name}),h.jsx("p",{className:"text-sm text-gray-500",children:c.course})]}),h.jsx("div",{className:"mt-6",children:B?h.jsx("div",{className:"bg-purple-50 p-4 rounded-md",children:h.jsx("p",{className:"text-purple-700",children:"This is your listing"})}):x?h.jsxs("div",{className:"space-y-4",children:[R==="pending"&&h.jsx("div",{className:"bg-yellow-50 p-4 rounded-md",children:h.jsx("p",{className:"text-yellow-700",children:"Your buy request has been sent. Waiting for seller to accept."})}),R==="accepted"&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"bg-green-50 p-4 rounded-md",children:h.jsx("p",{className:"text-green-700",children:"Your buy request has been accepted! You can now chat with the seller."})}),h.jsxs("button",{onClick:X,className:"w-full bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 flex items-center justify-center",children:[h.jsx(na,{className:"h-5 w-5 mr-2"}),"Go to Chat"]})]}),R==="rejected"&&h.jsx("div",{className:"bg-red-50 p-4 rounded-md",children:h.jsx("p",{className:"text-red-700",children:"Your buy request was declined by the seller."})})]}):h.jsx("button",{onClick:F,disabled:b,className:"w-full bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 flex items-center justify-center",children:b?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent mr-2"}),"Processing..."]}):h.jsxs(h.Fragment,{children:[h.jsx(na,{className:"h-5 w-5 mr-2"}),"Request to Buy"]})})})]})]})})]})},uv=({session:o})=>{const[n,s]=T.useState(!1),[l,u]=T.useState([]),[c,f]=T.useState([]),[p,g]=T.useState([]),[y,v]=T.useState(!0),[x,k]=T.useState(""),[R,O]=T.useState(""),[b,P]=T.useState(""),[F,X]=T.useState(!1),[B,Q]=T.useState("users");T.useEffect(()=>{U(),re(),Z(),oe()},[o.user.id]);const U=async()=>{try{const{data:M,error:Y}=await W.from("admins").select("is_master").eq("id",o.user.id).single();if(Y){console.error("Error checking master admin status:",Y),s(!1);return}s((M==null?void 0:M.is_master)||!1)}catch(M){console.error("Error checking master admin status:",M),s(!1)}},re=async()=>{try{v(!0);const{data:M,error:Y}=await W.from("admins").select("*").order("created_at",{ascending:!1});if(Y)throw Y;const ye=await Promise.all((M||[]).map(async de=>{const{data:z}=await W.from("profiles").select("*").eq("id",de.id).single();return{...de,profile:z||void 0}}));u(ye)}catch(M){console.error("Error fetching admins:",M),k(M.message)}finally{v(!1)}},Z=async()=>{try{v(!0);const{data:M,error:Y}=await W.from("profiles").select("*").order("created_at",{ascending:!1});if(Y)throw Y;f(M||[])}catch(M){console.error("Error fetching users:",M),k(M.message)}finally{v(!1)}},oe=async()=>{try{v(!0);const{data:M,error:Y}=await W.from("products").select("*").order("created_at",{ascending:!1});if(Y)throw Y;const ye=await Promise.all((M||[]).map(async de=>{const{data:z}=await W.from("profiles").select("*").eq("id",de.seller_id).single();return{...de,seller:z||void 0}}));g(ye)}catch(M){console.error("Error fetching products:",M),k(M.message)}finally{v(!1)}},we=async()=>{if(b)try{X(!0),k(""),O("");const Y=b.split("@")[0];if(!Y){k("Invalid email format");return}const{data:ye,error:de}=await W.from("profiles").select("id").eq("username",Y).single();if(de){console.error("Error finding user:",de),k(`User with email ${b} not found`);return}if(!ye){k(`User with email ${b} not found`);return}const{data:z,error:ne}=await W.from("admins").select("id").eq("id",ye.id).single();if(z){k("This user is already an admin");return}const{error:q}=await W.from("admins").insert({id:ye.id,is_master:!1,created_by:o.user.id});if(q)throw q;O(`Admin ${b} added successfully`),P(""),re()}catch(M){console.error("Error adding admin:",M),k(M.message)}finally{X(!1)}},pe=async M=>{try{v(!0),k(""),O("");const{error:Y}=await W.from("admins").update({is_master:!0}).eq("id",M);if(Y)throw Y;O("Admin promoted to master admin successfully"),re()}catch(Y){console.error("Error promoting admin:",Y),k(Y.message)}finally{v(!1)}},ae=async M=>{try{v(!0),k(""),O("");const Y=l.filter(de=>de.is_master);if(Y.length===1&&Y[0].id===M){k("Cannot demote the last master admin"),v(!1);return}const{error:ye}=await W.from("admins").update({is_master:!1}).eq("id",M);if(ye)throw ye;O("Master admin demoted to regular admin successfully"),re()}catch(Y){console.error("Error demoting admin:",Y),k(Y.message)}finally{v(!1)}},Ee=async M=>{try{v(!0),k(""),O("");const Y=l.find(de=>de.id===M);if(Y!=null&&Y.is_master&&l.filter(z=>z.is_master).length===1){k("Cannot remove the last master admin"),v(!1);return}const{error:ye}=await W.from("admins").delete().eq("id",M);if(ye)throw ye;O("Admin removed successfully"),re()}catch(Y){console.error("Error removing admin:",Y),k(Y.message)}finally{v(!1)}},Ue=async M=>{try{v(!0),k(""),O("");const{error:Y}=await W.from("products").delete().eq("id",M);if(Y)throw Y;O("Product deleted successfully"),oe()}catch(Y){console.error("Error deleting product:",Y),k(Y.message)}finally{v(!1)}};return h.jsxs("div",{className:"min-h-screen bg-gray-100",children:[h.jsx("div",{className:"bg-purple-700 text-white shadow-lg",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsx("div",{className:"flex justify-between h-16 items-center",children:h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(sa,{className:"h-8 w-8"}),h.jsx("span",{className:"text-xl font-bold",children:"UniHive Admin Portal"})]})})})}),h.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[x&&h.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-md mb-6",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(vs,{className:"h-5 w-5 mr-2"}),h.jsx("span",{children:x})]})}),R&&h.jsx("div",{className:"bg-green-50 text-green-600 p-4 rounded-md mb-6",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(Fi,{className:"h-5 w-5 mr-2"}),h.jsx("span",{children:R})]})}),h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsx("div",{className:"border-b border-gray-200",children:h.jsxs("nav",{className:"flex -mb-px",children:[h.jsx("button",{onClick:()=>Q("users"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${B==="users"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Users"}),h.jsx("button",{onClick:()=>Q("products"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${B==="products"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Products"}),h.jsx("button",{onClick:()=>Q("admins"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${B==="admins"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Admins"})]})}),h.jsxs("div",{className:"p-6",children:[B==="users"&&h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold mb-4",children:"All Users"}),y&&c.length===0?h.jsxs("div",{className:"text-center py-4",children:[h.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-purple-500 border-t-transparent"}),h.jsx("p",{className:"mt-2 text-gray-600",children:"Loading users..."})]}):c.length===0?h.jsx("p",{className:"text-gray-500",children:"No users found"}):h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(M=>h.jsxs("tr",{children:[h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[h.jsx("div",{className:"text-sm font-medium text-gray-900",children:M.full_name}),h.jsxs("div",{className:"text-sm text-gray-500",children:["@",M.username]})]}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[M.username,"@cuchd.in"]}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:M.course}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(M.created_at||"").toLocaleDateString()})]},M.id))})]})})]}),B==="products"&&h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold mb-4",children:"All Products"}),y&&p.length===0?h.jsxs("div",{className:"text-center py-4",children:[h.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-purple-500 border-t-transparent"}),h.jsx("p",{className:"mt-2 text-gray-600",children:"Loading products..."})]}):p.length===0?h.jsx("p",{className:"text-gray-500",children:"No products found"}):h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seller"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Listed"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(M=>{var Y;return h.jsxs("tr",{children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:h.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:M.image_url,alt:""})}),h.jsxs("div",{className:"ml-4",children:[h.jsx("div",{className:"text-sm font-medium text-gray-900",children:M.title}),h.jsx("div",{className:"text-sm text-gray-500",children:M.condition.replace("-"," ")})]})]})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsxs("div",{className:"text-sm text-gray-900",children:["",M.price]})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("div",{className:"text-sm text-gray-900",children:M.category})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("div",{className:"text-sm text-gray-900",children:((Y=M.seller)==null?void 0:Y.full_name)||"Unknown"})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(M.created_at).toLocaleDateString()}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:h.jsx("button",{onClick:()=>Ue(M.id),className:"text-red-600 hover:text-red-900",children:h.jsx(Yd,{className:"h-5 w-5"})})})]},M.id)})})]})})]}),B==="admins"&&h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Admin Management"}),n&&h.jsxs("div",{className:"mb-6 bg-purple-50 p-4 rounded-lg",children:[h.jsx("h3",{className:"text-lg font-medium text-purple-800 mb-2",children:"Add New Admin"}),h.jsxs("div",{className:"flex",children:[h.jsx("input",{type:"email",value:b,onChange:M=>P(M.target.value),placeholder:"Enter user email (e.g., 21bcs6987@cuchd.in)",className:"flex-1 rounded-l-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring focus:ring-purple-200"}),h.jsx("button",{onClick:we,disabled:F||!b,className:"bg-purple-600 text-white px-4 py-2 rounded-r-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-70 flex items-center",children:F?h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}):h.jsxs(h.Fragment,{children:[h.jsx(nv,{className:"h-5 w-5 mr-1"}),"Add Admin"]})})]})]}),y&&l.length===0?h.jsxs("div",{className:"text-center py-4",children:[h.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-purple-500 border-t-transparent"}),h.jsx("p",{className:"mt-2 text-gray-600",children:"Loading admins..."})]}):l.length===0?h.jsx("p",{className:"text-gray-500",children:"No admins found"}):h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Admin"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),h.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Added On"}),n&&h.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(M=>{var Y,ye;return h.jsxs("tr",{children:[h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[h.jsx("div",{className:"text-sm font-medium text-gray-900",children:((Y=M.profile)==null?void 0:Y.full_name)||"Unknown"}),h.jsxs("div",{className:"text-sm text-gray-500",children:[((ye=M.profile)==null?void 0:ye.username)||"Unknown","@cuchd.in"]})]}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${M.is_master?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:M.is_master?"Master Admin":"Admin"})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(M.created_at).toLocaleDateString()}),n&&h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:h.jsxs("div",{className:"flex justify-end space-x-2",children:[M.is_master?M.id!==o.user.id&&h.jsx("button",{onClick:()=>ae(M.id),className:"text-orange-600 hover:text-orange-900",title:"Demote to Regular Admin",children:h.jsx(ev,{className:"h-5 w-5"})}):h.jsx("button",{onClick:()=>pe(M.id),className:"text-purple-600 hover:text-purple-900",title:"Promote to Master Admin",children:h.jsx(sa,{className:"h-5 w-5"})}),M.id!==o.user.id&&h.jsx("button",{onClick:()=>Ee(M.id),className:"text-red-600 hover:text-red-900",title:"Remove Admin",children:h.jsx(Yd,{className:"h-5 w-5"})})]})})]},M.id)})})]})})]})]})]})]})]})},Of=({product:o})=>h.jsx(pn,{to:`/product/${o.id}`,className:"group",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden transition-transform hover:scale-105",children:[h.jsx("img",{src:o.image_url,alt:o.title,className:"w-full h-48 object-cover"}),h.jsxs("div",{className:"p-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800 group-hover:text-purple-600",children:o.title}),h.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["",o.price]}),h.jsx("p",{className:"text-sm text-gray-500 mt-1",children:o.category}),h.jsx("div",{className:"mt-2",children:h.jsx("span",{className:"inline-block bg-purple-100 text-purple-800 text-xs px-2 py-1 rounded capitalize",children:o.condition.replace("-"," ")})})]})]})}),cv=({session:o})=>{const[n,s]=T.useState([]),[l,u]=T.useState(!0),[c,f]=T.useState(""),[p,g]=T.useState(""),[y,v]=T.useState(""),[x,k]=T.useState([]);T.useEffect(()=>{R()},[]);const R=async()=>{try{u(!0),f("");const{data:b,error:P}=await W.from("products").select("*").order("created_at",{ascending:!1});if(P)throw P;if(s(b||[]),b){const F=Array.from(new Set(b.map(X=>X.category)));k(F)}}catch(b){console.error("Error loading products:",b),f(b.message)}finally{u(!1)}},O=n.filter(b=>{const P=b.title.toLowerCase().includes(p.toLowerCase())||b.description.toLowerCase().includes(p.toLowerCase()),F=y?b.category===y:!0;return P&&F});return h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsx("div",{className:"mb-8",children:h.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[h.jsxs("div",{className:"relative flex-1",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(Y0,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:"text",value:p,onChange:b=>g(b.target.value),placeholder:"Search products...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-purple-500 focus:border-purple-500 sm:text-sm"})]}),h.jsx("div",{className:"relative inline-block text-left",children:h.jsx("div",{className:"flex",children:h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(W0,{className:"h-5 w-5 text-gray-400"})}),h.jsxs("select",{value:y,onChange:b=>v(b.target.value),className:"block w-full pl-10 pr-10 py-2 text-base border border-gray-300 focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm rounded-md",children:[h.jsx("option",{value:"",children:"All Categories"}),x.map(b=>h.jsx("option",{value:b,children:b},b))]})]})})})]})}),c&&h.jsxs("div",{className:"bg-red-50 text-red-600 p-4 rounded-md mb-6",children:["Error loading products: ",c]}),l?h.jsxs("div",{className:"flex justify-center items-center py-12",children:[h.jsx(K0,{className:"h-8 w-8 text-purple-600 animate-spin"}),h.jsx("span",{className:"ml-2 text-gray-600",children:"Loading products..."})]}):O.length===0?h.jsx("div",{className:"text-center py-12",children:h.jsx("p",{className:"text-gray-500 text-lg",children:p||y?"No products match your search criteria":"No products available yet"})}):h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:O.map(b=>h.jsx(Of,{product:b},b.id))})]})},dv=({session:o})=>{const n=zi(),[s,l]=T.useState(""),[u,c]=T.useState(""),[f,p]=T.useState(""),[g,y]=T.useState(""),[v,x]=T.useState("new"),[k,R]=T.useState(""),[O,b]=T.useState(!1),[P,F]=T.useState(!1),[X,B]=T.useState(""),Q=["Textbooks","Electronics","Furniture","Clothing","Sports Equipment","Musical Instruments","Stationery","Lab Equipment","Other"],U=async Z=>{var oe;try{B("");const we=(oe=Z.target.files)==null?void 0:oe[0];if(!we)return;const pe=we.name.split(".").pop();if(!["jpg","jpeg","png","gif"].includes((pe==null?void 0:pe.toLowerCase())||"")){B("Only image files are allowed (jpg, jpeg, png, gif)");return}if(we.size>5*1024*1024){B("File size must be less than 5MB");return}b(!0);const Ee=`${Math.random().toString(36).substring(2)}-${we.name}`,{data:Ue,error:M}=await W.storage.from("product-images").upload(`public/${Ee}`,we);if(M)throw M;const{data:Y}=W.storage.from("product-images").getPublicUrl(`public/${Ee}`);R(Y.publicUrl)}catch(we){console.error("Error uploading image:",we),B(we.message)}finally{b(!1)}},re=async Z=>{Z.preventDefault();try{if(F(!0),B(""),!s||!u||!f||!g||!v){B("Please fill in all required fields");return}if(!k){B("Please upload an image");return}const oe=parseFloat(f);if(isNaN(oe)||oe<=0){B("Please enter a valid price");return}const{data:we,error:pe}=await W.from("products").insert({title:s,description:u,price:oe,category:g,condition:v,image_url:k,seller_id:o.user.id}).select().single();if(pe)throw pe;n(`/product/${we.id}`)}catch(oe){console.error("Error creating listing:",oe),B(oe.message)}finally{F(!1)}};return h.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8",children:[h.jsxs("button",{onClick:()=>n("/"),className:"inline-flex items-center text-purple-600 hover:text-purple-800 mb-6",children:[h.jsx($i,{className:"h-4 w-4 mr-1"}),"Back to products"]}),h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 p-6",children:[h.jsx("h1",{className:"text-2xl font-bold text-white",children:"Create New Listing"}),h.jsx("p",{className:"text-purple-100",children:"Sell your items to other students"})]}),X&&h.jsx("div",{className:"bg-red-50 text-red-600 p-4 border-b border-red-100",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(vs,{className:"h-5 w-5 mr-2"}),h.jsx("span",{children:X})]})}),h.jsxs("form",{onSubmit:re,className:"p-6 space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),h.jsx("input",{type:"text",id:"title",value:s,onChange:Z=>l(Z.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring focus:ring-purple-200",placeholder:"e.g., Engineering Mathematics Textbook",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),h.jsx("textarea",{id:"description",value:u,onChange:Z=>c(Z.target.value),rows:4,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring focus:ring-purple-200",placeholder:"Describe your item, including any details about its condition, features, etc.",required:!0})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-1",children:"Price () *"}),h.jsx("input",{type:"number",id:"price",value:f,onChange:Z=>p(Z.target.value),min:"0",step:"0.01",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring focus:ring-purple-200",placeholder:"e.g., 500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),h.jsxs("select",{id:"category",value:g,onChange:Z=>y(Z.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring focus:ring-purple-200",required:!0,children:[h.jsx("option",{value:"",disabled:!0,children:"Select a category"}),Q.map(Z=>h.jsx("option",{value:Z,children:Z},Z))]})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"condition",className:"block text-sm font-medium text-gray-700 mb-1",children:"Condition *"}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[h.jsxs("label",{className:`flex items-center justify-center p-3 border rounded-md cursor-pointer ${v==="new"?"bg-purple-50 border-purple-500 text-purple-700":"border-gray-300 text-gray-700"}`,children:[h.jsx("input",{type:"radio",name:"condition",value:"new",checked:v==="new",onChange:()=>x("new"),className:"sr-only"}),h.jsx("span",{children:"New"})]}),h.jsxs("label",{className:`flex items-center justify-center p-3 border rounded-md cursor-pointer ${v==="like-new"?"bg-purple-50 border-purple-500 text-purple-700":"border-gray-300 text-gray-700"}`,children:[h.jsx("input",{type:"radio",name:"condition",value:"like-new",checked:v==="like-new",onChange:()=>x("like-new"),className:"sr-only"}),h.jsx("span",{children:"Like New"})]}),h.jsxs("label",{className:`flex items-center justify-center p-3 border rounded-md cursor-pointer ${v==="good"?"bg-purple-50 border-purple-500 text-purple-700":"border-gray-300 text-gray-700"}`,children:[h.jsx("input",{type:"radio",name:"condition",value:"good",checked:v==="good",onChange:()=>x("good"),className:"sr-only"}),h.jsx("span",{children:"Good"})]}),h.jsxs("label",{className:`flex items-center justify-center p-3 border rounded-md cursor-pointer ${v==="fair"?"bg-purple-50 border-purple-500 text-purple-700":"border-gray-300 text-gray-700"}`,children:[h.jsx("input",{type:"radio",name:"condition",value:"fair",checked:v==="fair",onChange:()=>x("fair"),className:"sr-only"}),h.jsx("span",{children:"Fair"})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Image *"}),k?h.jsxs("div",{className:"mt-2 relative",children:[h.jsx("img",{src:k,alt:"Product preview",className:"h-64 w-full object-cover rounded-md"}),h.jsx("button",{type:"button",onClick:()=>R(""),className:"absolute top-2 right-2 bg-red-600 text-white p-1 rounded-full hover:bg-red-700",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}):h.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:h.jsxs("div",{className:"space-y-1 text-center",children:[h.jsx(rv,{className:"mx-auto h-12 w-12 text-gray-400"}),h.jsxs("div",{className:"flex text-sm text-gray-600",children:[h.jsxs("label",{htmlFor:"image-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-purple-600 hover:text-purple-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-purple-500",children:[h.jsx("span",{children:"Upload an image"}),h.jsx("input",{id:"image-upload",name:"image-upload",type:"file",accept:"image/*",className:"sr-only",onChange:U,disabled:O})]}),h.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),h.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 5MB"}),O&&h.jsxs("div",{className:"mt-2 flex items-center justify-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-purple-500 border-t-transparent"}),h.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Uploading..."})]})]})})]}),h.jsx("div",{className:"pt-4",children:h.jsx("button",{type:"submit",disabled:P||O,className:"w-full bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-70 flex items-center justify-center",children:P?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent mr-2"}),"Creating Listing..."]}):"Create Listing"})})]})]})]})},fv=({session:o})=>{var pe;const[n,s]=T.useState(null),[l,u]=T.useState(""),[c,f]=T.useState(""),[p,g]=T.useState(""),[y,v]=T.useState(!1),[x,k]=T.useState(!0),[R,O]=T.useState(!1),[b,P]=T.useState(""),[F,X]=T.useState(""),[B,Q]=T.useState([]),[U,re]=T.useState(!0);T.useEffect(()=>{o&&(Z(),oe())},[o]);const Z=async()=>{try{if(k(!0),P(""),!(o!=null&&o.user))return;const{data:ae,error:Ee}=await W.from("profiles").select("*").eq("id",o.user.id).single();if(Ee)throw Ee;s(ae),u(ae.full_name||""),f(ae.username||""),g(ae.course||"")}catch(ae){console.error("Error loading profile:",ae),P(ae.message)}finally{k(!1)}},oe=async()=>{try{if(re(!0),!(o!=null&&o.user))return;const{data:ae,error:Ee}=await W.from("products").select("*").eq("seller_id",o.user.id).order("created_at",{ascending:!1});if(Ee)throw Ee;Q(ae||[])}catch(ae){console.error("Error loading user products:",ae)}finally{re(!1)}},we=async()=>{try{if(O(!0),P(""),X(""),!(o!=null&&o.user))return;if(!l.trim()){P("Full name is required");return}if(!c.trim()){P("Username is required");return}if(!p.trim()){P("Course is required");return}if(c!==(n==null?void 0:n.username)){const{data:Ue,error:M}=await W.from("profiles").select("id").eq("username",c).neq("id",o.user.id).single();if(Ue){P("Username is already taken");return}if(M&&M.code!=="PGRST116")throw M}const ae={id:o.user.id,full_name:l,username:c,course:p,updated_at:new Date().toISOString()},{error:Ee}=await W.from("profiles").update(ae).eq("id",o.user.id);if(Ee)throw Ee;X("Profile updated successfully"),s({...n,...ae}),v(!1)}catch(ae){console.error("Error updating profile:",ae),P(ae.message)}finally{O(!1)}};return x?h.jsx("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8",children:h.jsxs("div",{className:"text-center py-10",children:[h.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-purple-500 border-t-transparent"}),h.jsx("p",{className:"mt-2 text-gray-600",children:"Loading profile..."})]})}):h.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-8",children:[h.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 p-6",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"bg-white p-3 rounded-full",children:h.jsx(Rf,{className:"h-8 w-8 text-purple-600"})}),h.jsx("h1",{className:"ml-4 text-2xl font-bold text-white",children:"Your Profile"})]})}),b&&h.jsx("div",{className:"bg-red-50 text-red-600 p-4 border-b border-red-100",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(vs,{className:"h-5 w-5 mr-2"}),h.jsx("span",{children:b})]})}),F&&h.jsx("div",{className:"bg-green-50 text-green-600 p-4 border-b border-green-100",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(Fi,{className:"h-5 w-5 mr-2"}),h.jsx("span",{children:F})]})}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Personal Information"}),h.jsx("button",{onClick:()=>v(!y),className:`flex items-center text-sm font-medium ${y?"text-red-600 hover:text-red-800":"text-purple-600 hover:text-purple-800"}`,children:y?h.jsx(h.Fragment,{children:"Cancel"}):h.jsxs(h.Fragment,{children:[h.jsx(tv,{className:"h-4 w-4 mr-1"}),"Edit Profile"]})})]}),y?h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),h.jsx("input",{type:"text",id:"fullName",value:l,onChange:ae=>u(ae.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring focus:ring-purple-200",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),h.jsx("input",{type:"text",id:"username",value:c,onChange:ae=>f(ae.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring focus:ring-purple-200",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"course",className:"block text-sm font-medium text-gray-700 mb-1",children:"Course"}),h.jsx("input",{type:"text",id:"course",value:p,onChange:ae=>g(ae.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring focus:ring-purple-200",required:!0})]}),h.jsx("div",{className:"pt-4",children:h.jsx("button",{onClick:we,disabled:R,className:"w-full bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-70 flex items-center justify-center",children:R?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent mr-2"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(Q0,{className:"h-5 w-5 mr-2"}),"Save Changes"]})})})]}):h.jsx("div",{className:"space-y-4",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Full Name"}),h.jsx("p",{className:"mt-1 text-lg text-gray-800",children:n==null?void 0:n.full_name})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Username"}),h.jsxs("p",{className:"mt-1 text-lg text-gray-800",children:["@",n==null?void 0:n.username]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Email"}),h.jsx("p",{className:"mt-1 text-lg text-gray-800",children:(pe=o==null?void 0:o.user)==null?void 0:pe.email})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Course"}),h.jsx("p",{className:"mt-1 text-lg text-gray-800",children:n==null?void 0:n.course})]})]})})]})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[h.jsx("div",{className:"p-6 border-b border-gray-200",children:h.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Your Listings"})}),h.jsx("div",{className:"p-6",children:U?h.jsxs("div",{className:"text-center py-8",children:[h.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-purple-500 border-t-transparent"}),h.jsx("p",{className:"mt-2 text-gray-600",children:"Loading your listings..."})]}):B.length===0?h.jsx("div",{className:"text-center py-8",children:h.jsx("p",{className:"text-gray-500",children:"You haven't listed any products yet."})}):h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:B.map(ae=>h.jsx(Of,{product:ae},ae.id))})})]})]})};function hv(){const[o,n]=T.useState(null),[s,l]=T.useState(!0),[u,c]=T.useState(!1);T.useEffect(()=>{W.auth.getSession().then(({data:{session:g}})=>{n(g),g&&f(g.user.id),l(!1)});const{data:{subscription:p}}=W.auth.onAuthStateChange((g,y)=>{n(y),y?f(y.user.id):c(!1)});return()=>p.unsubscribe()},[]);const f=async p=>{var g,y;try{const{data:v,error:x}=await W.from("profiles").select("id, username").eq("id",p).single();if(x&&x.code==="PGRST116"){const{data:b}=await W.auth.getUser(),F=(((g=b==null?void 0:b.user)==null?void 0:g.email)||"").split("@")[0];await W.from("profiles").insert({id:p,username:F,full_name:F,course:"Not specified"}),console.log("Created new profile for user:",F)}const{data:k}=await W.auth.getUser();if(((y=k==null?void 0:k.user)==null?void 0:y.email)==="21bcs6987@cuchd.in"){console.log("Master admin detected"),c(!0);const{error:b}=await W.from("admins").upsert({id:p,is_master:!0,created_by:p,created_at:new Date().toISOString()});b&&console.error("Error ensuring master admin status:",b);return}const{data:R,error:O}=await W.from("admins").select("*").eq("id",p).single();if(O){O.code==="PGRST116"?console.log("User is not an admin"):console.error("Error checking admin status:",O),c(!1);return}c(!!R),R&&R.is_master&&console.log("User is a master admin")}catch(v){console.error("Error checking admin status:",v),c(!1)}};return s?h.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-purple-500 border-t-transparent"}),h.jsx("p",{className:"mt-4 text-gray-600",children:"Loading UniHive..."})]})}):h.jsx(Dm,{basename:"/unihive",children:h.jsx("div",{className:"min-h-screen bg-gray-100",children:o?h.jsxs(h.Fragment,{children:[h.jsx(sv,{isAdmin:u}),h.jsxs(kd,{children:[h.jsx(zt,{path:"/",element:h.jsxs(h.Fragment,{children:[h.jsx(iv,{}),h.jsx(cv,{session:o})]})}),h.jsx(zt,{path:"/product/:id",element:h.jsx(av,{session:o})}),h.jsx(zt,{path:"/messages",element:h.jsx(ov,{session:o})}),h.jsx(zt,{path:"/profile",element:h.jsx(fv,{session:o})}),h.jsx(zt,{path:"/new-listing",element:h.jsx(dv,{session:o})}),u&&h.jsx(zt,{path:"/admin",element:h.jsx(uv,{session:o})}),h.jsx(zt,{path:"*",element:h.jsx(bm,{to:"/",replace:!0})})]})]}):h.jsx(kd,{children:h.jsx(zt,{path:"/*",element:h.jsx(lv,{})})})})})}const pv=async()=>{try{await z0(),await M0(),await mv(),await gv()}catch(o){console.error("Error initializing database:",o)}},mv=async()=>{try{await W.query(`
      CREATE TABLE IF NOT EXISTS profiles (
        id uuid REFERENCES auth.users PRIMARY KEY,
        username text UNIQUE NOT NULL,
        full_name text NOT NULL,
        avatar_url text,
        course text NOT NULL,
        created_at timestamptz DEFAULT now()
      );
      
      ALTER TABLE profiles ENABLE ROW LEVEL SECURITY;
      
      DO $$ 
      BEGIN
        IF NOT EXISTS (
          SELECT FROM pg_policies WHERE tablename = 'profiles' AND policyname = 'Public profiles are viewable by everyone'
        ) THEN
          CREATE POLICY "Public profiles are viewable by everyone"
            ON profiles FOR SELECT
            USING (true);
        END IF;
        
        IF NOT EXISTS (
          SELECT FROM pg_policies WHERE tablename = 'profiles' AND policyname = 'Users can insert their own profile'
        ) THEN
          CREATE POLICY "Users can insert their own profile"
            ON profiles FOR INSERT
            WITH CHECK (auth.uid() = id);
        END IF;
        
        IF NOT EXISTS (
          SELECT FROM pg_policies WHERE tablename = 'profiles' AND policyname = 'Users can update own profile'
        ) THEN
          CREATE POLICY "Users can update own profile"
            ON profiles FOR UPDATE
            USING (auth.uid() = id);
        END IF;
      END $$;
    `),await W.query(`
      CREATE TABLE IF NOT EXISTS products (
        id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
        title text NOT NULL,
        description text NOT NULL,
        price numeric NOT NULL,
        category text NOT NULL,
        image_url text NOT NULL,
        condition text NOT NULL,
        seller_id uuid REFERENCES profiles(id) NOT NULL,
        created_at timestamptz DEFAULT now()
      );
      
      ALTER TABLE products ENABLE ROW LEVEL SECURITY;
      
      DO $$ 
      BEGIN
        IF NOT EXISTS (
          SELECT FROM pg_policies WHERE tablename = 'products' AND policyname = 'Products are viewable by everyone'
        ) THEN
          CREATE POLICY "Products are viewable by everyone"
            ON products FOR SELECT
            USING (true);
        END IF;
        
        IF NOT EXISTS (
          SELECT FROM pg_policies WHERE tablename = 'products' AND policyname = 'Authenticated users can insert products'
        ) THEN
          CREATE POLICY "Authenticated users can insert products"
            ON products FOR INSERT
            WITH CHECK (auth.uid() = seller_id);
        END IF;
        
        IF NOT EXISTS (
          SELECT FROM pg_policies WHERE tablename = 'products' AND policyname = 'Users can update own products'
        ) THEN
          CREATE POLICY "Users can update own products"
            ON products FOR UPDATE
            USING (auth.uid() = seller_id);
        END IF;
        
        IF NOT EXISTS (
          SELECT FROM pg_policies WHERE tablename = 'products' AND policyname = 'Users can delete own products'
        ) THEN
          CREATE POLICY "Users can delete own products"
            ON products FOR DELETE
            USING (auth.uid() = seller_id);
        END IF;
      END $$;
    `),await W.query(`
      CREATE TABLE IF NOT EXISTS admins (
        id uuid REFERENCES profiles(id) PRIMARY KEY,
        is_master boolean DEFAULT false,
        created_at timestamptz DEFAULT now(),
        created_by uuid REFERENCES profiles(id)
      );
      
      ALTER TABLE admins ENABLE ROW LEVEL SECURITY;
      
      DO $$ 
      BEGIN
        IF NOT EXISTS (
          SELECT FROM pg_policies WHERE tablename = 'admins' AND policyname = 'Admins can view admins'
        ) THEN
          CREATE POLICY "Admins can view admins"
            ON admins FOR SELECT
            USING (
              EXISTS (
                SELECT 1 FROM admins WHERE id = auth.uid()
              )
            );
        END IF;
        
        IF NOT EXISTS (
          SELECT FROM pg_policies WHERE tablename = 'admins' AND policyname = 'Master admins can manage admins'
        ) THEN
          CREATE POLICY "Master admins can manage admins"
            ON admins FOR ALL
            USING (
              EXISTS (
                SELECT 1 FROM admins WHERE id = auth.uid() AND is_master = true
              )
            );
        END IF;
      END $$;
    `),await W.query(`
      CREATE TABLE IF NOT EXISTS chats (
        id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
        product_id uuid REFERENCES products(id) NOT NULL,
        buyer_id uuid REFERENCES profiles(id) NOT NULL,
        seller_id uuid REFERENCES profiles(id) NOT NULL,
        status text NOT NULL DEFAULT 'pending',
        created_at timestamptz DEFAULT now()
      );
      
      ALTER TABLE chats ENABLE ROW LEVEL SECURITY;
      
      DO $$ 
      BEGIN
        IF NOT EXISTS (
          SELECT FROM pg_policies WHERE tablename = 'chats' AND policyname = 'Users can view their own chats'
        ) THEN
          CREATE POLICY "Users can view their own chats"
            ON chats FOR SELECT
            USING (auth.uid() IN (buyer_id, seller_id));
        END IF;
        
        IF NOT EXISTS (
          SELECT FROM pg_policies WHERE tablename = 'chats' AND policyname = 'Buyers can create chat requests'
        ) THEN
          CREATE POLICY "Buyers can create chat requests"
            ON chats FOR INSERT
            WITH CHECK (auth.uid() = buyer_id);
        END IF;
        
        IF NOT EXISTS (
          SELECT FROM pg_policies WHERE tablename = 'chats' AND policyname = 'Sellers can update chat status'
        ) THEN
          CREATE POLICY "Sellers can update chat status"
            ON chats FOR UPDATE
            USING (auth.uid() = seller_id);
        END IF;
      END $$;
    `),await W.query(`
      CREATE TABLE IF NOT EXISTS messages (
        id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
        chat_id uuid REFERENCES chats(id) NOT NULL,
        sender_id uuid REFERENCES profiles(id) NOT NULL,
        content text NOT NULL,
        created_at timestamptz DEFAULT now()
      );
      
      ALTER TABLE messages ENABLE ROW LEVEL SECURITY;
      
      DO $$ 
      BEGIN
        IF NOT EXISTS (
          SELECT FROM pg_policies WHERE tablename = 'messages' AND policyname = 'Chat participants can view messages'
        ) THEN
          CREATE POLICY "Chat participants can view messages"
            ON messages FOR SELECT
            USING (
              EXISTS (
                SELECT 1 FROM chats
                WHERE chats.id = messages.chat_id
                AND auth.uid() IN (buyer_id, seller_id)
                AND status = 'accepted'
              )
            );
        END IF;
        
        IF NOT EXISTS (
          SELECT FROM pg_policies WHERE tablename = 'messages' AND policyname = 'Chat participants can send messages'
        ) THEN
          CREATE POLICY "Chat participants can send messages"
            ON messages FOR INSERT
            WITH CHECK (
              EXISTS (
                SELECT 1 FROM chats
                WHERE chats.id = chat_id
                AND auth.uid() IN (buyer_id, seller_id)
                AND status = 'accepted'
              )
            );
        END IF;
      END $$;
    `),console.log("Tables created directly")}catch(o){console.error("Error creating tables directly:",o)}},gv=async()=>{var o;try{const{data:n,error:s}=await W.auth.admin.listUsers();if(s){console.error("Error listing users:",s);return}const l=(o=n==null?void 0:n.users)==null?void 0:o.find(p=>p.email==="21bcs6987@cuchd.in");if(!l){console.log("Master admin user not found");return}const{data:u,error:c}=await W.from("profiles").select("id").eq("id",l.id).single();c&&c.code==="PGRST116"&&(await W.from("profiles").insert({id:l.id,username:"21bcs6987",full_name:"21bcs6987",course:"Not specified",created_at:new Date().toISOString()}),console.log("Created profile for master admin"));const{error:f}=await W.from("admins").upsert({id:l.id,is_master:!0,created_by:l.id,created_at:new Date().toISOString()});if(f){console.error("Error making user master admin:",f);return}console.log("Master admin ensured")}catch(n){console.error("Error ensuring master admin:",n)}};pv();Fp.createRoot(document.getElementById("root")).render(h.jsx(T.StrictMode,{children:h.jsx(hv,{})}));export{Zd as g};
